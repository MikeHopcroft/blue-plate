(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{"+2Ap":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.exists=t.elem=t.toError=t.either=t.getValidationMonoid=t.MonadThrow=t.ChainRec=t.Extend=t.Alt=t.Bifunctor=t.Traversable=t.Foldable=t.Monad=t.Applicative=t.Functor=t.getValidationSemigroup=t.getValidation=t.getAltValidation=t.getApplicativeValidation=t.getWitherable=t.getApplyMonoid=t.getApplySemigroup=t.getSemigroup=t.getEq=t.getShow=t.URI=t.throwError=t.sequence=t.traverse=t.reduceRight=t.foldMap=t.reduce=t.extend=t.duplicate=t.alt=t.flatten=t.chainFirst=t.chain=t.chainW=t.of=t.apSecond=t.apFirst=t.ap=t.mapLeft=t.bimap=t.map=t.filterOrElse=t.orElse=t.swap=t.getOrElse=t.getOrElseW=t.fold=t.fromPredicate=t.fromOption=t.stringifyJSON=t.parseJSON=t.tryCatch=t.fromNullable=t.right=t.left=t.isRight=t.isLeft=void 0;var n=r("xjB9"),i=r("OvQW");function o(e,r){try{return t.right(e())}catch(n){return t.left(r(n))}}t.isLeft=function(e){return"Left"===e._tag},t.isRight=function(e){return"Right"===e._tag},t.left=function(e){return{_tag:"Left",left:e}},t.right=function(e){return{_tag:"Right",right:e}},t.fromNullable=function(e){return function(r){return null==r?t.left(e):t.right(r)}},t.tryCatch=o,t.parseJSON=function(e,t){return o((function(){return JSON.parse(e)}),t)},t.stringifyJSON=function(e,t){return o((function(){return JSON.stringify(e)}),t)},t.fromOption=function(e){return function(r){return"None"===r._tag?t.left(e()):t.right(r.value)}},t.fromPredicate=function(e,r){return function(n){return e(n)?t.right(n):t.left(r(n))}},t.fold=function(e,r){return function(n){return t.isLeft(n)?e(n.left):r(n.right)}},t.getOrElseW=function(e){return function(r){return t.isLeft(r)?e(r.left):r.right}},t.getOrElse=t.getOrElseW,t.swap=function(e){return t.isLeft(e)?t.right(e.left):t.left(e.right)},t.orElse=function(e){return function(r){return t.isLeft(r)?e(r.left):r}},t.filterOrElse=function(e,r){return function(n){return c(n,(function(n){return e(n)?t.right(n):t.left(r(n))}))}};var s=function(e,r){return t.isLeft(e)?e:t.right(r(e.right))},a=function(e,r){return t.isLeft(e)?e:t.isLeft(r)?r:t.right(e.right(r.right))},c=function(e,r){return t.isLeft(e)?e:r(e.right)},u=function(e,r,n){return t.isLeft(e)?r:n(r,e.right)},l=function(e){return function(r,n){return t.isLeft(r)?e.empty:n(r.right)}},p=function(e,r,n){return t.isLeft(e)?r:n(e.right,r)},h=function(e){return function(r,n){return t.isLeft(r)?e.of(t.left(r.left)):e.map(n(r.right),t.right)}},d=function(e,r,n){return t.isLeft(e)?t.left(r(e.left)):t.right(n(e.right))},f=function(e,r){return t.isLeft(e)?t.left(r(e.left)):e},m=function(e,r){return t.isLeft(e)?r():e},v=function(e,r){return t.isLeft(e)?e:t.right(r(e))},g=function(e,r){return n.tailRec(r(e),(function(e){return t.isLeft(e)?t.right(t.left(e.left)):t.isLeft(e.right)?t.left(r(e.right.left)):t.right(t.right(e.right.right))}))};function y(e){return{concat:function(r,n){return t.isLeft(r)?r:t.isLeft(n)?n:t.right(e.concat(r.right,n.right))}}}function b(e){return{URI:t.URI,_E:void 0,map:s,ap:function(r,n){return t.isLeft(r)?t.isLeft(n)?t.left(e.concat(r.left,n.left)):r:t.isLeft(n)?n:t.right(r.right(n.right))},of:t.of}}function S(e){return{URI:t.URI,_E:void 0,map:s,alt:function(r,n){if(t.isRight(r))return r;var i=n();return t.isLeft(i)?t.left(e.concat(r.left,i.left)):i}}}function w(e,r){return{concat:function(n,i){return t.isLeft(n)?t.isLeft(i)?t.left(e.concat(n.left,i.left)):n:t.isLeft(i)?i:t.right(r.concat(n.right,i.right))}}}t.map=function(e){return function(t){return s(t,e)}},t.bimap=function(e,t){return function(r){return d(r,e,t)}},t.mapLeft=function(e){return function(t){return f(t,e)}},t.ap=function(e){return function(t){return a(t,e)}},t.apFirst=function(e){return function(t){return a(s(t,(function(e){return function(){return e}})),e)}},t.apSecond=function(e){return function(t){return a(s(t,(function(){return function(e){return e}})),e)}},t.of=t.right,t.chainW=function(e){return function(t){return c(t,e)}},t.chain=t.chainW,t.chainFirst=function(e){return function(t){return c(t,(function(t){return s(e(t),(function(){return t}))}))}},t.flatten=function(e){return c(e,i.identity)},t.alt=function(e){return function(t){return m(t,e)}},t.duplicate=function(e){return v(e,i.identity)},t.extend=function(e){return function(t){return v(t,e)}},t.reduce=function(e,t){return function(r){return u(r,e,t)}},t.foldMap=function(e){var t=l(e);return function(e){return function(r){return t(r,e)}}},t.reduceRight=function(e,t){return function(r){return p(r,e,t)}},t.traverse=function(e){var t=h(e);return function(e){return function(r){return t(r,e)}}},t.sequence=function(e){return function(r){return t.isLeft(r)?e.of(t.left(r.left)):e.map(r.right,t.right)}},t.throwError=t.left,t.URI="Either",t.getShow=function(e,r){return{show:function(n){return t.isLeft(n)?"left("+e.show(n.left)+")":"right("+r.show(n.right)+")"}}},t.getEq=function(e,r){return{equals:function(n,i){return n===i||(t.isLeft(n)?t.isLeft(i)&&e.equals(n.left,i.left):t.isRight(i)&&r.equals(n.right,i.right))}}},t.getSemigroup=function(e){return{concat:function(r,n){return t.isLeft(n)?r:t.isLeft(r)?n:t.right(e.concat(r.right,n.right))}}},t.getApplySemigroup=y,t.getApplyMonoid=function(e){return{concat:y(e).concat,empty:t.right(e.empty)}},t.getWitherable=function(e){var r=t.left(e.empty),n=function(r){return t.isLeft(r)?r:"None"===r.right._tag?t.left(e.empty):t.right(r.right.value)},i=function(e){return t.isLeft(e)?{left:e,right:e}:t.isLeft(e.right)?{left:t.right(e.right.left),right:r}:{left:r,right:t.right(e.right.right)}};return{URI:t.URI,_E:void 0,map:s,compact:n,separate:i,filter:function(r,n){return t.isLeft(r)?r:n(r.right)?r:t.left(e.empty)},filterMap:function(r,n){if(t.isLeft(r))return r;var i=n(r.right);return"None"===i._tag?t.left(e.empty):t.right(i.value)},partition:function(e,n){return t.isLeft(e)?{left:e,right:e}:n(e.right)?{left:r,right:t.right(e.right)}:{left:t.right(e.right),right:r}},partitionMap:function(e,n){if(t.isLeft(e))return{left:e,right:e};var i=n(e.right);return t.isLeft(i)?{left:t.right(i.left),right:r}:{left:r,right:t.right(i.right)}},traverse:h,sequence:t.sequence,reduce:u,foldMap:l,reduceRight:p,wither:function(e){var t=h(e);return function(r,i){return e.map(t(r,i),n)}},wilt:function(e){var t=h(e);return function(r,n){return e.map(t(r,n),i)}}}},t.getApplicativeValidation=b,t.getAltValidation=S,t.getValidation=function(e){var r=b(e),n=S(e);return{URI:t.URI,_E:void 0,map:s,of:t.of,chain:c,bimap:d,mapLeft:f,reduce:u,foldMap:l,reduceRight:p,extend:v,traverse:h,sequence:t.sequence,chainRec:g,throwError:t.throwError,ap:r.ap,alt:n.alt}},t.getValidationSemigroup=w,t.Functor={URI:t.URI,map:s},t.Applicative={URI:t.URI,map:s,ap:a,of:t.of},t.Monad={URI:t.URI,map:s,ap:a,of:t.of,chain:c},t.Foldable={URI:t.URI,reduce:u,foldMap:l,reduceRight:p},t.Traversable={URI:t.URI,map:s,reduce:u,foldMap:l,reduceRight:p,traverse:h,sequence:t.sequence},t.Bifunctor={URI:t.URI,bimap:d,mapLeft:f},t.Alt={URI:t.URI,map:s,alt:m},t.Extend={URI:t.URI,map:s,extend:v},t.ChainRec={URI:t.URI,map:s,ap:a,chain:c,chainRec:g},t.MonadThrow={URI:t.URI,map:s,ap:a,of:t.of,chain:c,throwError:t.throwError},t.getValidationMonoid=function(e,r){return{concat:w(e,r).concat,empty:t.right(r.empty)}},t.either={URI:t.URI,map:s,of:t.of,ap:a,chain:c,reduce:u,foldMap:l,reduceRight:p,traverse:h,sequence:t.sequence,bimap:d,mapLeft:f,alt:m,extend:v,chainRec:g,throwError:t.throwError},t.toError=function(e){return e instanceof Error?e:new Error(String(e))},t.elem=function(e){return function(r,n){return!t.isLeft(n)&&e.equals(r,n.right)}},t.exists=function(e){return function(r){return!t.isLeft(r)&&e(r.right)}}},"+9rK":function(e,t,r){"use strict";function n(e,t,r){var n=r?" !== ":" === ",i=r?" || ":" && ",o=r?"!":"",s=r?"":"!";switch(e){case"null":return t+n+"null";case"array":return o+"Array.isArray("+t+")";case"object":return"("+o+t+i+"typeof "+t+n+'"object"'+i+s+"Array.isArray("+t+"))";case"integer":return"(typeof "+t+n+'"number"'+i+s+"("+t+" % 1)"+i+t+n+t+")";default:return"typeof "+t+n+'"'+e+'"'}}e.exports={copy:function(e,t){for(var r in t=t||{},e)t[r]=e[r];return t},checkDataType:n,checkDataTypes:function(e,t){switch(e.length){case 1:return n(e[0],t,!0);default:var r="",i=o(e);for(var s in i.array&&i.object&&(r=i.null?"(":"(!"+t+" || ",r+="typeof "+t+' !== "object")',delete i.null,delete i.array,delete i.object),i.number&&delete i.integer,i)r+=(r?" && ":"")+n(s,t,!0);return r}},coerceToTypes:function(e,t){if(Array.isArray(t)){for(var r=[],n=0;n<t.length;n++){var o=t[n];i[o]?r[r.length]=o:"array"===e&&"array"===o&&(r[r.length]=o)}if(r.length)return r}else{if(i[t])return[t];if("array"===e&&"array"===t)return["array"]}},toHash:o,getProperty:c,escapeQuotes:u,equal:r("aUsF"),ucs2length:r("d17/"),varOccurences:function(e,t){t+="[^0-9]";var r=e.match(new RegExp(t,"g"));return r?r.length:0},varReplace:function(e,t,r){return t+="([^0-9])",r=r.replace(/\$/g,"$$$$"),e.replace(new RegExp(t,"g"),r+"$1")},cleanUpCode:function(e){return e.replace(l,"").replace(p,"").replace(h,"if (!($1))")},finalCleanUpCode:function(e,t){var r=e.match(d);r&&2==r.length&&(e=t?e.replace(m,"").replace(y,b):e.replace(f,"").replace(v,g));return(r=e.match(S))&&3===r.length?e.replace(w,""):e},schemaHasRules:function(e,t){if("boolean"==typeof e)return!e;for(var r in e)if(t[r])return!0},schemaHasRulesExcept:function(e,t,r){if("boolean"==typeof e)return!e&&"not"!=r;for(var n in e)if(n!=r&&t[n])return!0},schemaUnknownRules:function(e,t){if("boolean"==typeof e)return;for(var r in e)if(!t[r])return r},toQuotedString:k,getPathExpr:function(e,t,r,n){return x(e,r?"'/' + "+t+(n?"":".replace(/~/g, '~0').replace(/\\//g, '~1')"):n?"'[' + "+t+" + ']'":"'[\\'' + "+t+" + '\\']'")},getPath:function(e,t,r){var n=k(r?"/"+C(t):c(t));return x(e,n)},getData:function(e,t,r){var n,i,o,s;if(""===e)return"rootData";if("/"==e[0]){if(!E.test(e))throw new Error("Invalid JSON-pointer: "+e);i=e,o="rootData"}else{if(!(s=e.match(O)))throw new Error("Invalid JSON-pointer: "+e);if(n=+s[1],"#"==(i=s[2])){if(n>=t)throw new Error("Cannot access property/index "+n+" levels up, current level is "+t);return r[t-n]}if(n>t)throw new Error("Cannot access data "+n+" levels up, current level is "+t);if(o="data"+(t-n||""),!i)return o}for(var a=o,u=i.split("/"),l=0;l<u.length;l++){var p=u[l];p&&(o+=c(P(p)),a+=" && "+o)}return a},unescapeFragment:function(e){return P(decodeURIComponent(e))},unescapeJsonPointer:P,escapeFragment:function(e){return encodeURIComponent(C(e))},escapeJsonPointer:C};var i=o(["string","number","integer","boolean","null"]);function o(e){for(var t={},r=0;r<e.length;r++)t[e[r]]=!0;return t}var s=/^[a-z$_][a-z$_0-9]*$/i,a=/'|\\/g;function c(e){return"number"==typeof e?"["+e+"]":s.test(e)?"."+e:"['"+u(e)+"']"}function u(e){return e.replace(a,"\\$&").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\f/g,"\\f").replace(/\t/g,"\\t")}var l=/else\s*{\s*}/g,p=/if\s*\([^)]+\)\s*\{\s*\}(?!\s*else)/g,h=/if\s*\(([^)]+)\)\s*\{\s*\}\s*else(?!\s*if)/g;var d=/[^v.]errors/g,f=/var errors = 0;|var vErrors = null;|validate.errors = vErrors;/g,m=/var errors = 0;|var vErrors = null;/g,v="return errors === 0;",g="validate.errors = null; return true;",y=/if \(errors === 0\) return data;\s*else throw new ValidationError\(vErrors\);/,b="return data;",S=/[^A-Za-z_$]rootData[^A-Za-z0-9_$]/g,w=/if \(rootData === undefined\) rootData = data;/;function k(e){return"'"+u(e)+"'"}var E=/^\/(?:[^~]|~0|~1)*$/,O=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function x(e,t){return'""'==e?t:(e+" + "+t).replace(/' \+ '/g,"")}function C(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}function P(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}},"+VNs":function(e,t,r){"use strict";var n=r("3lC6");e.exports=new n({include:[r("2YgE")],implicit:[r("peYA"),r("0/QM"),r("ydHo"),r("Pe6h")]})},"+XMi":function(e,t,r){"use strict";(function(t){var n=r("33yf"),i=r("48q5"),o=r("BEtg");e.exports=u;var s={}.hasOwnProperty,a=u.prototype;a.toString=function(e){var t=this.contents||"";return o(t)?t.toString(e):String(t)};var c=["history","path","basename","stem","extname","dirname"];function u(e){var r,n,i;if(e){if("string"===typeof e||o(e))e={contents:e};else if("message"in e&&"messages"in e)return e}else e={};if(!(this instanceof u))return new u(e);for(this.data={},this.messages=[],this.history=[],this.cwd=t.cwd(),n=-1,i=c.length;++n<i;)r=c[n],s.call(e,r)&&(this[r]=e[r]);for(r in e)-1===c.indexOf(r)&&(this[r]=e[r])}function l(e,t){if(-1!==e.indexOf(n.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+n.sep+"`")}function p(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function h(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}Object.defineProperty(a,"path",{get:function(){return this.history[this.history.length-1]},set:function(e){p(e,"path"),e!==this.path&&this.history.push(e)}}),Object.defineProperty(a,"dirname",{get:function(){return"string"===typeof this.path?n.dirname(this.path):void 0},set:function(e){h(this.path,"dirname"),this.path=n.join(e||"",this.basename)}}),Object.defineProperty(a,"basename",{get:function(){return"string"===typeof this.path?n.basename(this.path):void 0},set:function(e){p(e,"basename"),l(e,"basename"),this.path=n.join(this.dirname||"",e)}}),Object.defineProperty(a,"extname",{get:function(){return"string"===typeof this.path?n.extname(this.path):void 0},set:function(e){var t=e||"";if(l(t,"extname"),h(this.path,"extname"),t){if("."!==t.charAt(0))throw new Error("`extname` must start with `.`");if(-1!==t.indexOf(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=i(this.path,t)}}),Object.defineProperty(a,"stem",{get:function(){return"string"===typeof this.path?n.basename(this.path,this.extname):void 0},set:function(e){p(e,"stem"),l(e,"stem"),this.path=n.join(this.dirname||"",e+(this.extname||""))}})}).call(this,r("8oxB"))},"+ZBB":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GenericEquality=function(e,t){return e===t}},"+nmg":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r("qUS0"))},"//Jx":function(e,t,r){"use strict";var n=/^[a-z_$][a-z0-9_$-]*$/i,i=r("cjZW"),o=r("eXaU");e.exports={add:function(e,t){var r=this.RULES;if(r.keywords[e])throw new Error("Keyword "+e+" is already defined");if(!n.test(e))throw new Error("Keyword "+e+" is not a valid identifier");if(t){this.validateKeyword(t,!0);var o=t.type;if(Array.isArray(o))for(var s=0;s<o.length;s++)c(e,o[s],t);else c(e,o,t);var a=t.metaSchema;a&&(t.$data&&this._opts.$data&&(a={anyOf:[a,{$ref:"https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/data.json#"}]}),t.validateSchema=this.compile(a,!0))}function c(e,t,n){for(var o,s=0;s<r.length;s++){var a=r[s];if(a.type==t){o=a;break}}o||(o={type:t,rules:[]},r.push(o));var c={keyword:e,definition:n,custom:!0,code:i,implements:n.implements};o.rules.push(c),r.custom[e]=c}return r.keywords[e]=r.all[e]=!0,this},get:function(e){var t=this.RULES.custom[e];return t?t.definition:this.RULES.keywords[e]||!1},remove:function(e){var t=this.RULES;delete t.keywords[e],delete t.all[e],delete t.custom[e];for(var r=0;r<t.length;r++)for(var n=t[r].rules,i=0;i<n.length;i++)if(n[i].keyword==e){n.splice(i,1);break}return this},validate:function e(t,r){e.errors=null;var n=this._validateKeyword=this._validateKeyword||this.compile(o,!0);if(n(t))return!0;if(e.errors=n.errors,r)throw new Error("custom keyword definition is invalid: "+this.errorsText(n.errors));return!1}}},"/3IF":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("eDuk"),i=r("NOtv"),o=r("ZR4k"),s=i("so:stopwordsFromYamlString"),a=(new n).compile({$schema:"http://json-schema.org/draft-07/schema#",items:{type:"string"},type:"array"});t.validateStopwords=function(e){if(!a(e)){const e="validateStopwords: yaml data does not conform to schema.";throw console.log(e),console.log(a.errors),TypeError(e)}},t.stopwordsFromYamlString=function(e){const t=o.safeLoad(e);if(!a(t)){const e="stopwordsFromYamlString: yaml data does not conform to schema.";throw s(e),s(a.errors),TypeError(e)}return t}},"/9aa":function(e,t,r){var n=r("NykK"),i=r("ExA7"),o="[object Symbol]";e.exports=function(e){return"symbol"==typeof e||i(e)&&n(e)==o}},"/EDR":function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r("23aj")}])},"/Hgm":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("lNfg");t.stemmerConfusionMatrix=n.stemmerConfusionMatrix},"/av6":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("FG9h"),i=r("nNxe"),o=r("lssG"),s=r("2+Dd");t.createShortOrderWorld2=function(e,t,r,a=!1){const c=new s.StemmerFactory2(t.replacers).create(r),u=new n.DefaultTermModel({stemmer:c}),l=new n.Lexicon(u),p=new i.LexicalAnalyzer2(e,t,l,a),h=new o.Parser(e.cartOps,e.catalog,e.cookbook,e.attributeInfo,p,e.ruleChecker,a);return Object.assign(Object.assign({},e),{lexer:p,processor:async(e,t)=>o.processRoot(h,t,e)})}},"/qNp":function(e,t,r){"use strict";var n={}.hasOwnProperty;function i(e){return e&&"object"===typeof e||(e={}),s(e.line)+":"+s(e.column)}function o(e){return e&&"object"===typeof e||(e={}),i(e.start)+"-"+i(e.end)}function s(e){return e&&"number"===typeof e?e:1}e.exports=function(e){if(!e||"object"!==typeof e)return null;if(n.call(e,"position")||n.call(e,"type"))return o(e.position);if(n.call(e,"start")||n.call(e,"end"))return o(e);if(n.call(e,"line")||n.call(e,"column"))return i(e);return null}},"/uxe":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("Xys+"),i=r("GN/c"),o=r("TPPd"),s=r("Gg6i");class a{constructor(e,t,r){this.debugMode=!0,this.numberTokens=new o.NumberTokenFactory,this.aliases=[],this.hashToText={},this.hashToFrequency={},this.postings=new Map,this.decodeTerm=e=>e in this.hashToText?this.hashToText[e]:`###HASH${e}###`,this.tokenFromLabel=e=>-1===e?(console.log("======== tokenFromLabel(-1) ==========="),s.theUnknownToken):this.aliases[e].token,this.matchAndScore=(e,t)=>{const r=t.hashes,n=t.matcher(e,r,t.isDownstreamTerm,this.termModel.isTokenHash);return this.score(e,r,t.isDownstreamTerm,n)},this.logger=new i.Logger("tf:tokenizer"),this.termModel=e,this.debugMode=r,this.numberParser=t}static isNeverDownstreamTerm(e){return!1}addItem(e){const t=this.aliases.length;this.aliases.push(e);for(const[r,n]of e.hashes.entries()){n in this.hashToText||(this.hashToText[n]=e.stemmed[r]),n in this.hashToFrequency?this.hashToFrequency[n]++:this.hashToFrequency[n]=1;const i=this.postings.get(n);i?i.push(t):this.postings.set(n,[t])}}getPostings(){const e=new Map,t=new Map;function r(r){if(!t.has(r)){const n=t.size;t.set(r,n),e.set(n,r)}}const n=[];for(const[i,o]of this.postings.entries()){const e=this.decodeTerm(i),t=o.map(e=>this.aliases[e]),s=new Map;for(const n of t){r(n.token);const e=s.get(n.token);e?e.push(n):s.set(n.token,[n])}n.push({term:e,hash:i,tokenToAliases:s})}return n.sort((e,t)=>{const r=t.tokenToAliases.size-e.tokenToAliases.size;return r||e.term.localeCompare(t.term)}),{terms:n,idToToken:e,tokenToId:t}}score(e,t,r,n){const{match:i,cost:o,leftmostA:s,rightmostA:a,alignments:c,commonTerms:u}=n;let l;const p=a+1;l=p>o?(p-o)/p:1/(p+o);const h=new Set(i),d=u.size/h.size,f=Math.max(i.length-s,0)/i.length,m=i.length;let v=l*d*f*m;const g=new Set([...u].filter(r)),y=(u.size-g.size)/u.size,b=new Set(t);if(u.size>0&&u.size===g.size&&u.size!==b.size&&(v=-1),v<=.01&&(v=-1),this.debugMode){const r=e.map(this.decodeTerm).join(" "),n=t.map(this.decodeTerm).join(" "),c=i.map(this.decodeTerm).join(" ");this.logger.log(`      score=${v} mf=${l}, cf=${d}, pf=${f}, lf=${m}, df=${y}`),this.logger.log(`      length=${i.length}, cost=${o}, left=${s}, right=${a}, common=${u.size}`),this.logger.log(`      query="${r}"`),this.logger.log(`      prefix="${n}"`),this.logger.log(`      match="${c}"`),this.logger.log(`      query="${e}"`),this.logger.log(`      prefix="${t}"`),this.logger.log(`      match="${i}"\n`)}return{score:v,length:a+1}}generateGraph(e,t){const r=[];for(const[n,o]of e.entries()){let c=[{score:0,length:1,token:s.theUnknownToken}];const u=e.slice(n),l=this.postings.get(o);if(l){if(this.debugMode){const e=t.slice(n).join(" ");this.logger.log(`  "${e}" SCORING:`)}const e=l.map(e=>{const t=this.tokenFromLabel(e);return Object.assign({},this.matchAndScore(u,this.aliases[e]),{token:t,label:e,isNumber:!1})});c=c.concat(e)}if(this.numberParser){const t=new i.PeekableSequence(u[Symbol.iterator]()),r=[];this.numberParser.parse(t,r);for(const i of r){const t=e.slice(n,n+i.length),r=new Set(t),o={match:t,cost:0,leftmostA:0,rightmostA:i.length-1,alignments:i.length,commonTerms:r},{score:s,length:u}=this.score(e,t,a.isNeverDownstreamTerm,o),l=this.numberTokens.get(i.value);c.push({score:s,length:u,token:l})}}0===c.length&&this.debugMode&&this.logger.log(`  "${t[n]}" UNKNOWN`);const p=c.sort((e,t)=>t.score-e.score);r.push(p)}return new n.DynamicGraph2(r)}}t.Tokenizer=a},0:function(e,t){},"0/QM":function(e,t,r){"use strict";var n=r("hyoZ");e.exports=new n("tag:yaml.org,2002:bool",{kind:"scalar",resolve:function(e){if(null===e)return!1;var t=e.length;return 4===t&&("true"===e||"True"===e||"TRUE"===e)||5===t&&("false"===e||"False"===e||"FALSE"===e)},construct:function(e){return"true"===e||"True"===e||"TRUE"===e},predicate:function(e){return"[object Boolean]"===Object.prototype.toString.call(e)},represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"})},"0lR2":function(e,t,r){"use strict";e.exports={position:!0,gfm:!0,commonmark:!1,footnotes:!1,pedantic:!1,blocks:r("WwTg")}},"0w4r":function(e,t,r){"use strict";e.exports=function(e,t,r){var n,i=" ",o=e.level,s=e.dataLevel,a=e.schema[t],c=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,p="data"+(s||""),h="valid"+o,d=e.opts.$data&&a&&a.$data;if(d?(i+=" var schema"+o+" = "+e.util.getData(a.$data,s,e.dataPathArr)+"; ",n="schema"+o):n=a,(a||d)&&!1!==e.opts.uniqueItems){d&&(i+=" var "+h+"; if ("+n+" === false || "+n+" === undefined) "+h+" = true; else if (typeof "+n+" != 'boolean') "+h+" = false; else { "),i+=" var i = "+p+".length , "+h+" = true , j; if (i > 1) { ";var f=e.schema.items&&e.schema.items.type,m=Array.isArray(f);if(!f||"object"==f||"array"==f||m&&(f.indexOf("object")>=0||f.indexOf("array")>=0))i+=" outer: for (;i--;) { for (j = i; j--;) { if (equal("+p+"[i], "+p+"[j])) { "+h+" = false; break outer; } } } ";else{i+=" var itemIndices = {}, item; for (;i--;) { var item = "+p+"[i]; ";var v="checkDataType"+(m?"s":"");i+=" if ("+e.util[v](f,"item",!0)+") continue; ",m&&(i+=" if (typeof item == 'string') item = '\"' + item; "),i+=" if (typeof itemIndices[item] == 'number') { "+h+" = false; j = itemIndices[item]; break; } itemIndices[item] = i; } "}i+=" } ",d&&(i+="  }  "),i+=" if (!"+h+") {   ";var g=g||[];g.push(i),i="",!1!==e.createErrors?(i+=" { keyword: 'uniqueItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { i: i, j: j } ",!1!==e.opts.messages&&(i+=" , message: 'should NOT have duplicate items (items ## ' + j + ' and ' + i + ' are identical)' "),e.opts.verbose&&(i+=" , schema:  ",i+=d?"validate.schema"+c:""+a,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+p+" "),i+=" } "):i+=" {} ";var y=i;i=g.pop(),!e.compositeRule&&l?e.async?i+=" throw new ValidationError(["+y+"]); ":i+=" validate.errors = ["+y+"]; return false; ":i+=" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } ",l&&(i+=" else { ")}else l&&(i+=" if (true) { ");return i}},1:function(e,t){},"1QhW":function(e,t,r){"use strict";e.exports=function(e,t,r){var n="",i=!0===e.schema.$async,o=e.util.schemaHasRulesExcept(e.schema,e.RULES.all,"$ref"),s=e.self._getId(e.schema);if(e.opts.strictKeywords){var a=e.util.schemaUnknownRules(e.schema,e.RULES.keywords);if(a){var c="unknown keyword: "+a;if("log"!==e.opts.strictKeywords)throw new Error(c);e.logger.warn(c)}}if(e.isTop&&(n+=" var validate = ",i&&(e.async=!0,n+="async "),n+="function(data, dataPath, parentData, parentDataProperty, rootData) { 'use strict'; ",s&&(e.opts.sourceCode||e.opts.processCode)&&(n+=" /*# sourceURL="+s+" */ ")),"boolean"==typeof e.schema||!o&&!e.schema.$ref){var u=e.level,l=e.dataLevel,p=e.schema["false schema"],h=e.schemaPath+e.util.getProperty("false schema"),d=e.errSchemaPath+"/false schema",f=!e.opts.allErrors,m="data"+(l||""),v="valid"+u;if(!1===e.schema){e.isTop?f=!0:n+=" var "+v+" = false; ",(Z=Z||[]).push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'false schema' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(d)+" , params: {} ",!1!==e.opts.messages&&(n+=" , message: 'boolean schema is false' "),e.opts.verbose&&(n+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),n+=" } "):n+=" {} ";var g=n;n=Z.pop(),!e.compositeRule&&f?e.async?n+=" throw new ValidationError(["+g+"]); ":n+=" validate.errors = ["+g+"]; return false; ":n+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else e.isTop?n+=i?" return data; ":" validate.errors = null; return true; ":n+=" var "+v+" = true; ";return e.isTop&&(n+=" }; return validate; "),n}if(e.isTop){var y=e.isTop;u=e.level=0,l=e.dataLevel=0,m="data";if(e.rootId=e.resolve.fullPath(e.self._getId(e.root.schema)),e.baseId=e.baseId||e.rootId,delete e.isTop,e.dataPathArr=[void 0],void 0!==e.schema.default&&e.opts.useDefaults&&e.opts.strictDefaults){var b="default is ignored in the schema root";if("log"!==e.opts.strictDefaults)throw new Error(b);e.logger.warn(b)}n+=" var vErrors = null; ",n+=" var errors = 0;     ",n+=" if (rootData === undefined) rootData = data; "}else{u=e.level,m="data"+((l=e.dataLevel)||"");if(s&&(e.baseId=e.resolve.url(e.baseId,s)),i&&!e.async)throw new Error("async schema in sync schema");n+=" var errs_"+u+" = errors;"}v="valid"+u,f=!e.opts.allErrors;var S="",w="",k=e.schema.type,E=Array.isArray(k);if(k&&e.opts.nullable&&!0===e.schema.nullable&&(E?-1==k.indexOf("null")&&(k=k.concat("null")):"null"!=k&&(k=[k,"null"],E=!0)),E&&1==k.length&&(k=k[0],E=!1),e.schema.$ref&&o){if("fail"==e.opts.extendRefs)throw new Error('$ref: validation keywords used in schema at path "'+e.errSchemaPath+'" (see option extendRefs)');!0!==e.opts.extendRefs&&(o=!1,e.logger.warn('$ref: keywords ignored in schema at path "'+e.errSchemaPath+'"'))}if(e.schema.$comment&&e.opts.$comment&&(n+=" "+e.RULES.all.$comment.code(e,"$comment")),k){if(e.opts.coerceTypes)var O=e.util.coerceToTypes(e.opts.coerceTypes,k);var x=e.RULES.types[k];if(O||E||!0===x||x&&!J(x)){h=e.schemaPath+".type",d=e.errSchemaPath+"/type",h=e.schemaPath+".type",d=e.errSchemaPath+"/type";var C=E?"checkDataTypes":"checkDataType";if(n+=" if ("+e.util[C](k,m,!0)+") { ",O){var P="dataType"+u,T="coerced"+u;n+=" var "+P+" = typeof "+m+"; ","array"==e.opts.coerceTypes&&(n+=" if ("+P+" == 'object' && Array.isArray("+m+")) "+P+" = 'array'; "),n+=" var "+T+" = undefined; ";var R="",M=O;if(M)for(var A,I=-1,_=M.length-1;I<_;)A=M[I+=1],I&&(n+=" if ("+T+" === undefined) { ",R+="}"),"array"==e.opts.coerceTypes&&"array"!=A&&(n+=" if ("+P+" == 'array' && "+m+".length == 1) { "+T+" = "+m+" = "+m+"[0]; "+P+" = typeof "+m+";  } "),"string"==A?n+=" if ("+P+" == 'number' || "+P+" == 'boolean') "+T+" = '' + "+m+"; else if ("+m+" === null) "+T+" = ''; ":"number"==A||"integer"==A?(n+=" if ("+P+" == 'boolean' || "+m+" === null || ("+P+" == 'string' && "+m+" && "+m+" == +"+m+" ","integer"==A&&(n+=" && !("+m+" % 1)"),n+=")) "+T+" = +"+m+"; "):"boolean"==A?n+=" if ("+m+" === 'false' || "+m+" === 0 || "+m+" === null) "+T+" = false; else if ("+m+" === 'true' || "+m+" === 1) "+T+" = true; ":"null"==A?n+=" if ("+m+" === '' || "+m+" === 0 || "+m+" === false) "+T+" = null; ":"array"==e.opts.coerceTypes&&"array"==A&&(n+=" if ("+P+" == 'string' || "+P+" == 'number' || "+P+" == 'boolean' || "+m+" == null) "+T+" = ["+m+"]; ");n+=" "+R+" if ("+T+" === undefined) {   ",(Z=Z||[]).push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'type' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(d)+" , params: { type: '",n+=E?""+k.join(","):""+k,n+="' } ",!1!==e.opts.messages&&(n+=" , message: 'should be ",n+=E?""+k.join(","):""+k,n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),n+=" } "):n+=" {} ";g=n;n=Z.pop(),!e.compositeRule&&f?e.async?n+=" throw new ValidationError(["+g+"]); ":n+=" validate.errors = ["+g+"]; return false; ":n+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } else {  ";var N=l?"data"+(l-1||""):"parentData";n+=" "+m+" = "+T+"; ",l||(n+="if ("+N+" !== undefined)"),n+=" "+N+"["+(l?e.dataPathArr[l]:"parentDataProperty")+"] = "+T+"; } "}else{(Z=Z||[]).push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'type' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(d)+" , params: { type: '",n+=E?""+k.join(","):""+k,n+="' } ",!1!==e.opts.messages&&(n+=" , message: 'should be ",n+=E?""+k.join(","):""+k,n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),n+=" } "):n+=" {} ";g=n;n=Z.pop(),!e.compositeRule&&f?e.async?n+=" throw new ValidationError(["+g+"]); ":n+=" validate.errors = ["+g+"]; return false; ":n+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}n+=" } "}}if(e.schema.$ref&&!o)n+=" "+e.RULES.all.$ref.code(e,"$ref")+" ",f&&(n+=" } if (errors === ",n+=y?"0":"errs_"+u,n+=") { ",w+="}");else{var D=e.RULES;if(D)for(var F=-1,j=D.length-1;F<j;)if(J(x=D[F+=1])){if(x.type&&(n+=" if ("+e.util.checkDataType(x.type,m)+") { "),e.opts.useDefaults)if("object"==x.type&&e.schema.properties){p=e.schema.properties;var B=Object.keys(p);if(B)for(var z,q=-1,L=B.length-1;q<L;){if(void 0!==($=p[z=B[q+=1]]).default){var W=m+e.util.getProperty(z);if(e.compositeRule){if(e.opts.strictDefaults){b="default is ignored for: "+W;if("log"!==e.opts.strictDefaults)throw new Error(b);e.logger.warn(b)}}else n+=" if ("+W+" === undefined ","empty"==e.opts.useDefaults&&(n+=" || "+W+" === null || "+W+" === '' "),n+=" ) "+W+" = ","shared"==e.opts.useDefaults?n+=" "+e.useDefault($.default)+" ":n+=" "+JSON.stringify($.default)+" ",n+="; "}}}else if("array"==x.type&&Array.isArray(e.schema.items)){var U=e.schema.items;if(U){I=-1;for(var $,K=U.length-1;I<K;)if(void 0!==($=U[I+=1]).default){W=m+"["+I+"]";if(e.compositeRule){if(e.opts.strictDefaults){b="default is ignored for: "+W;if("log"!==e.opts.strictDefaults)throw new Error(b);e.logger.warn(b)}}else n+=" if ("+W+" === undefined ","empty"==e.opts.useDefaults&&(n+=" || "+W+" === null || "+W+" === '' "),n+=" ) "+W+" = ","shared"==e.opts.useDefaults?n+=" "+e.useDefault($.default)+" ":n+=" "+JSON.stringify($.default)+" ",n+="; "}}}var H=x.rules;if(H)for(var G,V=-1,Y=H.length-1;V<Y;)if(X(G=H[V+=1])){var Q=G.code(e,G.keyword,x.type);Q&&(n+=" "+Q+" ",f&&(S+="}"))}if(f&&(n+=" "+S+" ",S=""),x.type&&(n+=" } ",k&&k===x.type&&!O)){n+=" else { ";var Z;h=e.schemaPath+".type",d=e.errSchemaPath+"/type";(Z=Z||[]).push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'type' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(d)+" , params: { type: '",n+=E?""+k.join(","):""+k,n+="' } ",!1!==e.opts.messages&&(n+=" , message: 'should be ",n+=E?""+k.join(","):""+k,n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),n+=" } "):n+=" {} ";g=n;n=Z.pop(),!e.compositeRule&&f?e.async?n+=" throw new ValidationError(["+g+"]); ":n+=" validate.errors = ["+g+"]; return false; ":n+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } "}f&&(n+=" if (errors === ",n+=y?"0":"errs_"+u,n+=") { ",w+="}")}}function J(e){for(var t=e.rules,r=0;r<t.length;r++)if(X(t[r]))return!0}function X(t){return void 0!==e.schema[t.keyword]||t.implements&&function(t){for(var r=t.implements,n=0;n<r.length;n++)if(void 0!==e.schema[r[n]])return!0}(t)}return f&&(n+=" "+w+" "),y?(i?(n+=" if (errors === 0) return data;           ",n+=" else throw new ValidationError(vErrors); "):(n+=" validate.errors = vErrors; ",n+=" return errors === 0;       "),n+=" }; return validate;"):n+=" var "+v+" = errors === errs_"+u+";",n=e.util.cleanUpCode(n),y&&(n=e.util.finalCleanUpCode(n,i)),n}},"1S24":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("eDuk"),i=r("Po9p"),o=r("ZR4k"),s=r("8lot"),a=(new n).compile({$schema:"http://json-schema.org/draft-07/schema#",definitions:{OptionRecipe:{properties:{aliases:{items:{type:"string"},type:"array"},name:{type:"string"},options:{items:{$ref:"#/definitions/OptionTemplate"},type:"array"},rid:{type:"number"}},required:["aliases","name","options","rid"],type:"object"},OptionTemplate:{properties:{key:{description:"A type alias to keep various concepts delineated.\n\nEach specific product such as `small strawberry milkshake` or `large decaf`\n`iced coffee` will have its own unique Key. The Key is a tensor where the\nfirst dimesnion is a generic product's PID, and any other dimensions\ndetermine which attributes are added.",type:"string"},quantity:{type:"number"}},required:["key","quantity"],type:"object"},ProductRecipe:{properties:{aliases:{items:{type:"string"},type:"array"},name:{type:"string"},products:{items:{$ref:"#/definitions/ProductTemplate"},type:"array"},rid:{type:"number"}},required:["aliases","name","products","rid"],type:"object"},ProductTemplate:{properties:{key:{description:"A type alias to keep various concepts delineated.\n\nEach specific product such as `small strawberry milkshake` or `large decaf`\n`iced coffee` will have its own unique Key. The Key is a tensor where the\nfirst dimesnion is a generic product's PID, and any other dimensions\ndetermine which attributes are added.",type:"string"},options:{items:{$ref:"#/definitions/OptionTemplate"},type:"array"},quantity:{type:"number"}},required:["key","options","quantity"],type:"object"}},properties:{options:{items:{$ref:"#/definitions/OptionRecipe"},type:"array"},products:{items:{$ref:"#/definitions/ProductRecipe"},type:"array"}},required:["options","products"],type:"object"});t.cookbookFromYamlFile=function(e){const t=i.readFileSync(e,"utf8"),r=o.safeLoad(t);if(!a(r)){const e="cookbookFromYamlFile: yaml data does not conform to schema.";throw console.log(e),console.log(a.errors),TypeError(e)}return new s.Cookbook(r)}},"1VtT":function(e,t,r){"use strict";var n=r("6dBs"),i=r("Gdbo"),o=r("Esvb"),s=r("xkQk"),a=r("IRYA"),c=r("NkL+");e.exports=function e(){var t=[],r=s(),y={},b=!1,S=-1;return w.data=function(e,t){if(a(e))return 2===arguments.length?(m("data",b),y[e]=t,w):l.call(y,e)&&y[e]||null;if(e)return m("data",b),y=e,w;return y},w.freeze=k,w.attachers=t,w.use=function(e){var r;if(m("use",b),null===e||void 0===e);else if("function"===typeof e)a.apply(null,arguments);else{if("object"!==typeof e)throw new Error("Expected usable value, not `"+e+"`");"length"in e?s(e):i(e)}r&&(y.settings=n(y.settings||{},r));return w;function i(e){s(e.plugins),e.settings&&(r=n(r||{},e.settings))}function o(e){if("function"===typeof e)a(e);else{if("object"!==typeof e)throw new Error("Expected usable value, not `"+e+"`");"length"in e?a.apply(null,e):i(e)}}function s(e){var t,r;if(null===e||void 0===e);else{if(!("object"===typeof e&&"length"in e))throw new Error("Expected a list of plugins, not `"+e+"`");for(t=e.length,r=-1;++r<t;)o(e[r])}}function a(e,r){var i=function(e){var r,n=t.length,i=-1;for(;++i<n;)if((r=t[i])[0]===e)return r}(e);i?(c(i[1])&&c(r)&&(r=n(i[1],r)),i[1]=r):t.push(u.call(arguments))}},w.parse=function(e){var t,r=o(e);if(k(),d("parse",t=w.Parser),h(t))return new t(String(r),r).parse();return t(String(r),r)},w.stringify=function(e,t){var r,n=o(t);if(k(),f("stringify",r=w.Compiler),v(e),h(r))return new r(e,n).compile();return r(e,n)},w.run=E,w.runSync=function(e,t){var r,n=!1;return E(e,t,(function(e,t){n=!0,i(e),r=t})),g("runSync","run",n),r},w.process=O,w.processSync=function(e){var t,r=!1;return k(),d("processSync",w.Parser),f("processSync",w.Compiler),O(t=o(e),(function(e){r=!0,i(e)})),g("processSync","process",r),t},w;function w(){for(var r=e(),i=t.length,o=-1;++o<i;)r.use.apply(null,t[o]);return r.data(n(!0,{},y)),r}function k(){var e,n,i,o;if(b)return w;for(;++S<t.length;)n=(e=t[S])[0],null,!1!==(i=e[1])&&(!0===i&&(e[1]=void 0),"function"===typeof(o=n.apply(w,e.slice(1)))&&r.use(o));return b=!0,S=1/0,w}function E(e,t,n){if(v(e),k(),n||"function"!==typeof t||(n=t,t=null),!n)return new Promise(i);function i(i,s){r.run(e,o(t),(function(t,r,o){r=r||e,t?s(t):i?i(r):n(null,r,o)}))}i(null,n)}function O(e,t){if(k(),d("process",w.Parser),f("process",w.Compiler),!t)return new Promise(r);function r(r,n){var i=o(e);p.run(w,{file:i},(function(e){e?n(e):r?r(i):t(null,i)}))}r(null,t)}}().freeze();var u=[].slice,l={}.hasOwnProperty,p=s().use((function(e,t){t.tree=e.parse(t.file)})).use((function(e,t,r){e.run(t.tree,t.file,(function(e,n,i){e?r(e):(t.tree=n,t.file=i,r())}))})).use((function(e,t){t.file.contents=e.stringify(t.tree,t.file)}));function h(e){return"function"===typeof e&&function(e){var t;for(t in e)return!0;return!1}(e.prototype)}function d(e,t){if("function"!==typeof t)throw new Error("Cannot `"+e+"` without `Parser`")}function f(e,t){if("function"!==typeof t)throw new Error("Cannot `"+e+"` without `Compiler`")}function m(e,t){if(t)throw new Error(["Cannot invoke `"+e+"` on a frozen processor.\nCreate a new ","processor first, by invoking it: use `processor()` instead of ","`processor`."].join(""))}function v(e){if(!e||!a(e.type))throw new Error("Expected node, got `"+e+"`")}function g(e,t,r){if(!r)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}},"1bk0":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("w9WE");t.OrderGenerator=class{constructor(e,t,r,n){this.prologueGenerator=e,this.productGenerator=t,this.segmentCountRange=r,this.epilogueGenerator=n}randomOrder(e){const t=[],r=e.randomInRange(this.segmentCountRange[0],this.segmentCountRange[1]+1);for(let n=0;n<r;++n){const r=this.productGenerator.randomProduct(e).randomSegment(e);t.push(r)}return new n.OrderX(this.prologueGenerator.randomAlias(e),t,this.epilogueGenerator.randomAlias(e))}}},"1iAE":function(e,t,r){"use strict";e.exports=function(e){var t="string"===typeof e?e.charCodeAt(0):e;return t>=97&&t<=122||t>=65&&t<=90}},2:function(e,t){},"2+Dd":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("dhqo"),i=r("PGEU"),o=r("Xi+Q");r("EZd0");function s(e){return h(e.getReplacements("snowball"),i.newStemmer("english").stem)}function a(e){return h(e.getReplacements("snowball"),i.newStemmer("spanish").stem)}function c(e){return h(e.getReplacements("metaphone"),e=>o(e))}function u(e){const t=h(e.getReplacements("singularize"),n.singular);return h(e.getReplacements("metaphone"),e=>o(t(e)))}function l(e){return e=>e}function p(e){return h(e.getReplacements("singularize"),n.singular)}function h(e,t){return r=>{const n=e.get(r);return n||t(r)}}t.StemmerFactory2=class{constructor(e){this.nameToReplacer=new Map,this.stemmerDescriptions=[{name:"snowball",description:"snowball v2 stemmer",create:s},{name:"snowball-es",description:"snowball v2 stemmer",create:a},{name:"metaphone",description:"double metaphone",create:c},{name:"hybrid",description:"double metaphone with singularization",create:u},{name:"nop",description:"nop stemmer - does nothing",create:l},{name:"singularizer",description:"singularize only",create:p}],this.nameToStemmer=new Map;for(const t of e){if(this.nameToReplacer.has(t.name)){const e=`Duplicate replacer specification "${t.name}"`;throw new TypeError(e)}this.nameToReplacer.set(t.name,new Map(t.replacements))}for(const t of this.stemmerDescriptions)this.register(t)}register(e){if(this.nameToStemmer.has(e.name)){const t=`Duplicate stemmer description "${e.name}"`;throw new TypeError(t)}this.nameToStemmer.set(e.name,e)}*stemmers(){return this.nameToStemmer.values()}getReplacements(e){const t=this.nameToReplacer.get(e);if(!t){throw new TypeError(`Unknown stemmer specification "${e}"`)}return t}create(e){e||(e=this.stemmerDescriptions[0].name);const t=this.nameToStemmer.get(e);if(t)return t.create(this);const r=[...this.nameToStemmer.keys()].join(",");throw TypeError(`Unknown stemmer ${e}. Available stemmers: ${r}`)}}},"23aj":function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return um}));var n=r("o0o1"),i=r.n(n),o=r("q1tI"),s=r.n(o),a=r("17x9"),c=r.n(a),u=s.a.createContext(null);var l=function(e){e()},p=function(){return l},h={notify:function(){}};var d=function(){function e(e,t){this.store=e,this.parentSub=t,this.unsubscribe=null,this.listeners=h,this.handleChangeWrapper=this.handleChangeWrapper.bind(this)}var t=e.prototype;return t.addNestedSub=function(e){return this.trySubscribe(),this.listeners.subscribe(e)},t.notifyNestedSubs=function(){this.listeners.notify()},t.handleChangeWrapper=function(){this.onStateChange&&this.onStateChange()},t.isSubscribed=function(){return Boolean(this.unsubscribe)},t.trySubscribe=function(){this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.handleChangeWrapper):this.store.subscribe(this.handleChangeWrapper),this.listeners=function(){var e=p(),t=null,r=null;return{clear:function(){t=null,r=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],r=t;r;)e.push(r),r=r.next;return e},subscribe:function(e){var n=!0,i=r={callback:e,next:null,prev:r};return i.prev?i.prev.next=i:t=i,function(){n&&null!==t&&(n=!1,i.next?i.next.prev=i.prev:r=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())},t.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=h)},e}();var f=function(e){var t=e.store,r=e.context,n=e.children,i=Object(o.useMemo)((function(){var e=new d(t);return e.onStateChange=e.notifyNestedSubs,{store:t,subscription:e}}),[t]),a=Object(o.useMemo)((function(){return t.getState()}),[t]);Object(o.useEffect)((function(){var e=i.subscription;return e.trySubscribe(),a!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}}),[i,a]);var c=r||u;return s.a.createElement(c.Provider,{value:i},n)};function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function v(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}var g=r("2mql"),y=r.n(g),b=r("TOwV"),S="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?o.useLayoutEffect:o.useEffect,w=[],k=[null,null];function E(e,t){var r=e[1];return[t.payload,r+1]}function O(e,t,r){S((function(){return e.apply(void 0,t)}),r)}function x(e,t,r,n,i,o,s){e.current=n,t.current=i,r.current=!1,o.current&&(o.current=null,s())}function C(e,t,r,n,i,o,s,a,c,u){if(e){var l=!1,p=null,h=function(){if(!l){var e,r,h=t.getState();try{e=n(h,i.current)}catch(d){r=d,p=d}r||(p=null),e===o.current?s.current||c():(o.current=e,a.current=e,s.current=!0,u({type:"STORE_UPDATED",payload:{error:r}}))}};r.onStateChange=h,r.trySubscribe(),h();return function(){if(l=!0,r.tryUnsubscribe(),r.onStateChange=null,p)throw p}}}var P=function(){return[null,0]};function T(e,t){void 0===t&&(t={});var r=t,n=r.getDisplayName,i=void 0===n?function(e){return"ConnectAdvanced("+e+")"}:n,a=r.methodName,c=void 0===a?"connectAdvanced":a,l=r.renderCountProp,p=void 0===l?void 0:l,h=r.shouldHandleStateChanges,f=void 0===h||h,g=r.storeKey,S=void 0===g?"store":g,T=(r.withRef,r.forwardRef),R=void 0!==T&&T,M=r.context,A=void 0===M?u:M,I=v(r,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"]),_=A;return function(t){var r=t.displayName||t.name||"Component",n=i(r),a=m({},I,{getDisplayName:i,methodName:c,renderCountProp:p,shouldHandleStateChanges:f,storeKey:S,displayName:n,wrappedComponentName:r,WrappedComponent:t}),u=I.pure;var l=u?o.useMemo:function(e){return e()};function h(r){var n=Object(o.useMemo)((function(){var e=r.forwardedRef,t=v(r,["forwardedRef"]);return[r.context,e,t]}),[r]),i=n[0],c=n[1],u=n[2],p=Object(o.useMemo)((function(){return i&&i.Consumer&&Object(b.isContextConsumer)(s.a.createElement(i.Consumer,null))?i:_}),[i,_]),h=Object(o.useContext)(p),g=Boolean(r.store)&&Boolean(r.store.getState)&&Boolean(r.store.dispatch);Boolean(h)&&Boolean(h.store);var y=g?r.store:h.store,S=Object(o.useMemo)((function(){return function(t){return e(t.dispatch,a)}(y)}),[y]),T=Object(o.useMemo)((function(){if(!f)return k;var e=new d(y,g?null:h.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]}),[y,g,h]),R=T[0],M=T[1],A=Object(o.useMemo)((function(){return g?h:m({},h,{subscription:R})}),[g,h,R]),I=Object(o.useReducer)(E,w,P),N=I[0][0],D=I[1];if(N&&N.error)throw N.error;var F=Object(o.useRef)(),j=Object(o.useRef)(u),B=Object(o.useRef)(),z=Object(o.useRef)(!1),q=l((function(){return B.current&&u===j.current?B.current:S(y.getState(),u)}),[y,N,u]);O(x,[j,F,z,u,q,B,M]),O(C,[f,y,R,S,j,F,z,B,M,D],[y,R,S]);var L=Object(o.useMemo)((function(){return s.a.createElement(t,m({},q,{ref:c}))}),[c,t,q]);return Object(o.useMemo)((function(){return f?s.a.createElement(p.Provider,{value:A},L):L}),[p,L,A])}var g=u?s.a.memo(h):h;if(g.WrappedComponent=t,g.displayName=n,R){var T=s.a.forwardRef((function(e,t){return s.a.createElement(g,m({},e,{forwardedRef:t}))}));return T.displayName=n,T.WrappedComponent=t,y()(T,t)}return y()(g,t)}}function R(e,t){return e===t?0!==e||0!==t||1/e===1/t:e!==e&&t!==t}function M(e,t){if(R(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(var i=0;i<r.length;i++)if(!Object.prototype.hasOwnProperty.call(t,r[i])||!R(e[r[i]],t[r[i]]))return!1;return!0}var A=r("bCCX"),I=function(){return Math.random().toString(36).substring(7).split("").join(".")},_={INIT:"@@redux/INIT"+I(),REPLACE:"@@redux/REPLACE"+I(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+I()}};function N(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function D(e,t){return function(){return t(e.apply(this,arguments))}}function F(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function j(e,t){var r=Object.keys(e);return Object.getOwnPropertySymbols&&r.push.apply(r,Object.getOwnPropertySymbols(e)),t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r}function B(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?j(r,!0).forEach((function(t){F(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function z(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function q(e){return function(t,r){var n=e(t,r);function i(){return n}return i.dependsOnOwnProps=!1,i}}function L(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function W(e,t){return function(t,r){r.displayName;var n=function(e,t){return n.dependsOnOwnProps?n.mapToProps(e,t):n.mapToProps(e)};return n.dependsOnOwnProps=!0,n.mapToProps=function(t,r){n.mapToProps=e,n.dependsOnOwnProps=L(e);var i=n(t,r);return"function"===typeof i&&(n.mapToProps=i,n.dependsOnOwnProps=L(i),i=n(t,r)),i},n}}var U=[function(e){return"function"===typeof e?W(e):void 0},function(e){return e?void 0:q((function(e){return{dispatch:e}}))},function(e){return e&&"object"===typeof e?q((function(t){return function(e,t){if("function"===typeof e)return D(e,t);if("object"!==typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');var r={};for(var n in e){var i=e[n];"function"===typeof i&&(r[n]=D(i,t))}return r}(e,t)})):void 0}];var $=[function(e){return"function"===typeof e?W(e):void 0},function(e){return e?void 0:q((function(){return{}}))}];function K(e,t,r){return m({},r,{},e,{},t)}var H=[function(e){return"function"===typeof e?function(e){return function(t,r){r.displayName;var n,i=r.pure,o=r.areMergedPropsEqual,s=!1;return function(t,r,a){var c=e(t,r,a);return s?i&&o(c,n)||(n=c):(s=!0,n=c),n}}}(e):void 0},function(e){return e?void 0:function(){return K}}];function G(e,t,r,n){return function(i,o){return r(e(i,o),t(n,o),o)}}function V(e,t,r,n,i){var o,s,a,c,u,l=i.areStatesEqual,p=i.areOwnPropsEqual,h=i.areStatePropsEqual,d=!1;function f(i,d){var f=!p(d,s),m=!l(i,o);return o=i,s=d,f&&m?(a=e(o,s),t.dependsOnOwnProps&&(c=t(n,s)),u=r(a,c,s)):f?(e.dependsOnOwnProps&&(a=e(o,s)),t.dependsOnOwnProps&&(c=t(n,s)),u=r(a,c,s)):m?function(){var t=e(o,s),n=!h(t,a);return a=t,n&&(u=r(a,c,s)),u}():u}return function(i,l){return d?f(i,l):(a=e(o=i,s=l),c=t(n,s),u=r(a,c,s),d=!0,u)}}function Y(e,t){var r=t.initMapStateToProps,n=t.initMapDispatchToProps,i=t.initMergeProps,o=v(t,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),s=r(e,o),a=n(e,o),c=i(e,o);return(o.pure?V:G)(s,a,c,e,o)}function Q(e,t,r){for(var n=t.length-1;n>=0;n--){var i=t[n](e);if(i)return i}return function(t,n){throw new Error("Invalid value of type "+typeof e+" for "+r+" argument when connecting component "+n.wrappedComponentName+".")}}function Z(e,t){return e===t}function J(e){var t=void 0===e?{}:e,r=t.connectHOC,n=void 0===r?T:r,i=t.mapStateToPropsFactories,o=void 0===i?$:i,s=t.mapDispatchToPropsFactories,a=void 0===s?U:s,c=t.mergePropsFactories,u=void 0===c?H:c,l=t.selectorFactory,p=void 0===l?Y:l;return function(e,t,r,i){void 0===i&&(i={});var s=i,c=s.pure,l=void 0===c||c,h=s.areStatesEqual,d=void 0===h?Z:h,f=s.areOwnPropsEqual,g=void 0===f?M:f,y=s.areStatePropsEqual,b=void 0===y?M:y,S=s.areMergedPropsEqual,w=void 0===S?M:S,k=v(s,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),E=Q(e,o,"mapStateToProps"),O=Q(t,a,"mapDispatchToProps"),x=Q(r,u,"mergeProps");return n(p,m({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:E,initMapDispatchToProps:O,initMergeProps:x,pure:l,areStatesEqual:d,areOwnPropsEqual:g,areStatePropsEqual:b,areMergedPropsEqual:w},k))}}var X=J();var ee,te=r("i8i4"),re=r.n(te);ee=te.unstable_batchedUpdates,l=ee;var ne=function(e){return"@@redux-saga/"+e},ie=ne("CANCEL_PROMISE"),oe=ne("CHANNEL_END"),se=ne("IO"),ae=ne("MATCH"),ce=ne("MULTICAST"),ue=ne("SAGA_ACTION"),le=ne("SELF_CANCELLATION"),pe=ne("TASK"),he=ne("TASK_CANCEL"),de=ne("TERMINATE"),fe=ne("LOCATION"),me=function(e){return null===e||void 0===e},ve=function(e){return null!==e&&void 0!==e},ge=function(e){return"function"===typeof e},ye=function(e){return"string"===typeof e},be=Array.isArray,Se=function(e){return e&&ge(e.then)},we=function(e){return e&&ge(e.next)&&ge(e.throw)},ke=function e(t){return t&&(ye(t)||xe(t)||ge(t)||be(t)&&t.every(e))},Ee=function(e){return e&&ge(e.take)&&ge(e.close)},Oe=function(e){return ge(e)&&e.hasOwnProperty("toString")},xe=function(e){return Boolean(e)&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype},Ce=function(e){return Ee(e)&&e[ce]};var Pe=function(e){return function(){return e}}(!0),Te=function(){};var Re=function(e){return e};"function"===typeof Symbol&&Symbol.asyncIterator&&Symbol.asyncIterator;var Me=function(e,t){m(e,t),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach((function(r){e[r]=t[r]}))},Ae=function(e,t){var r;return(r=[]).concat.apply(r,t.map(e))};function Ie(e,t){var r=e.indexOf(t);r>=0&&e.splice(r,1)}function _e(e){var t=!1;return function(){t||(t=!0,e())}}var Ne=function(e){throw e},De=function(e){return{value:e,done:!0}};function Fe(e,t,r){void 0===t&&(t=Ne),void 0===r&&(r="iterator");var n={meta:{name:r},next:e,throw:t,return:De,isSagaIterator:!0};return"undefined"!==typeof Symbol&&(n[Symbol.iterator]=function(){return n}),n}function je(e,t){var r=t.sagaStack;console.error(e),console.error(r)}var Be=function(e){return Array.apply(null,new Array(e))},ze=function(e){return function(t){return e(Object.defineProperty(t,ue,{value:!0}))}},qe=function(e){return e===de},Le=function(e){return e===he},We=function(e){return qe(e)||Le(e)};function Ue(e,t){var r=Object.keys(e),n=r.length;var i,o=0,s=be(e)?Be(n):{},a={};return r.forEach((function(e){var r=function(r,a){i||(a||We(r)?(t.cancel(),t(r,a)):(s[e]=r,++o===n&&(i=!0,t(s))))};r.cancel=Te,a[e]=r})),t.cancel=function(){i||(i=!0,r.forEach((function(e){return a[e].cancel()})))},a}function $e(e){return{name:e.name||"anonymous",location:Ke(e)}}function Ke(e){return e[fe]}var He="Channel's Buffer overflow!",Ge=1,Ve=3,Ye=4;function Qe(e,t){void 0===e&&(e=10);var r=new Array(e),n=0,i=0,o=0,s=function(t){r[i]=t,i=(i+1)%e,n++},a=function(){if(0!=n){var t=r[o];return r[o]=null,n--,o=(o+1)%e,t}},c=function(){for(var e=[];n;)e.push(a());return e};return{isEmpty:function(){return 0==n},put:function(a){var u;if(n<e)s(a);else switch(t){case Ge:throw new Error(He);case Ve:r[i]=a,o=i=(i+1)%e;break;case Ye:u=2*e,r=c(),n=r.length,i=r.length,o=0,r.length=u,e=u,s(a)}},take:a,flush:c}}var Ze=function(e){return Qe(e,Ye)},Je="TAKE",Xe="PUT",et="ALL",tt="RACE",rt="CALL",nt="CPS",it="FORK",ot="JOIN",st="CANCEL",at="SELECT",ct="ACTION_CHANNEL",ut="CANCELLED",lt="FLUSH",pt="GET_CONTEXT",ht="SET_CONTEXT",dt=function(e,t){var r;return(r={})[se]=!0,r.combinator=!1,r.type=e,r.payload=t,r};function ft(e,t){return void 0===e&&(e="*"),ke(e)?dt(Je,{pattern:e}):Ce(e)&&ve(t)&&ke(t)?dt(Je,{channel:e,pattern:t}):Ee(e)?dt(Je,{channel:e}):void 0}function mt(e,t){return me(t)&&(t=e,e=void 0),dt(Xe,{channel:e,action:t})}function vt(e,t){var r,n=null;return ge(e)?r=e:(be(e)?(n=e[0],r=e[1]):(n=e.context,r=e.fn),n&&ye(r)&&ge(n[r])&&(r=n[r])),{context:n,fn:r,args:t}}function gt(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return dt(it,vt(e,r))}function yt(e){void 0===e&&(e=Re);for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return dt(at,{selector:e,args:r})}function bt(){var e={};return e.promise=new Promise((function(t,r){e.resolve=t,e.reject=r})),e}var St=bt,wt=[],kt=0;function Et(e){try{Ct(),e()}finally{Pt()}}function Ot(e){wt.push(e),kt||(Ct(),Tt())}function xt(e){try{return Ct(),e()}finally{Tt()}}function Ct(){kt++}function Pt(){kt--}function Tt(){var e;for(Pt();!kt&&void 0!==(e=wt.shift());)Et(e)}var Rt=function(e){return function(t){return e.some((function(e){return Nt(e)(t)}))}},Mt=function(e){return function(t){return e(t)}},At=function(e){return function(t){return t.type===String(e)}},It=function(e){return function(t){return t.type===e}},_t=function(){return Pe};function Nt(e){var t="*"===e?_t:ye(e)?At:be(e)?Rt:Oe(e)?At:ge(e)?Mt:xe(e)?It:null;if(null===t)throw new Error("invalid pattern: "+e);return t(e)}var Dt={type:oe},Ft=function(e){return e&&e.type===oe};function jt(e){void 0===e&&(e=Ze());var t=!1,r=[];return{take:function(n){t&&e.isEmpty()?n(Dt):e.isEmpty()?(r.push(n),n.cancel=function(){Ie(r,n)}):n(e.take())},put:function(n){if(!t){if(0===r.length)return e.put(n);r.shift()(n)}},flush:function(r){t&&e.isEmpty()?r(Dt):r(e.flush())},close:function(){if(!t){t=!0;var e=r;r=[];for(var n=0,i=e.length;n<i;n++){(0,e[n])(Dt)}}}}}function Bt(){var e=function(){var e,t=!1,r=[],n=r,i=function(){n===r&&(n=r.slice())},o=function(){t=!0;var e=r=n;n=[],e.forEach((function(e){e(Dt)}))};return(e={})[ce]=!0,e.put=function(e){if(!t)if(Ft(e))o();else for(var i=r=n,s=0,a=i.length;s<a;s++){var c=i[s];c[ae](e)&&(c.cancel(),c(e))}},e.take=function(e,r){void 0===r&&(r=_t),t?e(Dt):(e[ae]=r,i(),n.push(e),e.cancel=_e((function(){i(),Ie(n,e)})))},e.close=o,e}(),t=e.put;return e.put=function(e){e[ue]?t(e):Ot((function(){t(e)}))},e}var zt=0,qt=1,Lt=2,Wt=3;function Ut(e,t){var r=e[ie];ge(r)&&(t.cancel=r),e.then(t,(function(e){t(e,!0)}))}var $t,Kt=0,Ht=function(){return++Kt};function Gt(e){e.isRunning()&&e.cancel()}var Vt=(($t={})[Je]=function(e,t,r){var n=t.channel,i=void 0===n?e.channel:n,o=t.pattern,s=t.maybe,a=function(e){e instanceof Error?r(e,!0):!Ft(e)||s?r(e):r(de)};try{i.take(a,ve(o)?Nt(o):null)}catch(c){return void r(c,!0)}r.cancel=a.cancel},$t[Xe]=function(e,t,r){var n=t.channel,i=t.action,o=t.resolve;Ot((function(){var t;try{t=(n?n.put:e.dispatch)(i)}catch(s){return void r(s,!0)}o&&Se(t)?Ut(t,r):r(t)}))},$t[et]=function(e,t,r,n){var i=n.digestEffect,o=Kt,s=Object.keys(t);if(0!==s.length){var a=Ue(t,r);s.forEach((function(e){i(t[e],o,a[e],e)}))}else r(be(t)?[]:{})},$t[tt]=function(e,t,r,n){var i=n.digestEffect,o=Kt,s=Object.keys(t),a=be(t)?Be(s.length):{},c={},u=!1;s.forEach((function(e){var t=function(t,n){u||(n||We(t)?(r.cancel(),r(t,n)):(r.cancel(),u=!0,a[e]=t,r(a)))};t.cancel=Te,c[e]=t})),r.cancel=function(){u||(u=!0,s.forEach((function(e){return c[e].cancel()})))},s.forEach((function(e){u||i(t[e],o,c[e],e)}))},$t[rt]=function(e,t,r,n){var i=t.context,o=t.fn,s=t.args,a=n.task;try{var c=o.apply(i,s);if(Se(c))return void Ut(c,r);if(we(c))return void or(e,c,a.context,Kt,$e(o),!1,r);r(c)}catch(u){r(u,!0)}},$t[nt]=function(e,t,r){var n=t.context,i=t.fn,o=t.args;try{var s=function(e,t){me(e)?r(t):r(e,!0)};i.apply(n,o.concat(s)),s.cancel&&(r.cancel=s.cancel)}catch(a){r(a,!0)}},$t[it]=function(e,t,r,n){var i=t.context,o=t.fn,s=t.args,a=t.detached,c=n.task,u=function(e){var t=e.context,r=e.fn,n=e.args;try{var i=r.apply(t,n);if(we(i))return i;var o=!1;return Fe((function(e){return o?{value:e,done:!0}:(o=!0,{value:i,done:!Se(i)})}))}catch(s){return Fe((function(){throw s}))}}({context:i,fn:o,args:s}),l=function(e,t){return e.isSagaIterator?{name:e.meta.name}:$e(t)}(u,o);xt((function(){var t=or(e,u,c.context,Kt,l,a,void 0);a?r(t):t.isRunning()?(c.queue.addTask(t),r(t)):t.isAborted()?c.queue.abort(t.error()):r(t)}))},$t[ot]=function(e,t,r,n){var i=n.task,o=function(e,t){if(e.isRunning()){var r={task:i,cb:t};t.cancel=function(){e.isRunning()&&Ie(e.joiners,r)},e.joiners.push(r)}else e.isAborted()?t(e.error(),!0):t(e.result())};if(be(t)){if(0===t.length)return void r([]);var s=Ue(t,r);t.forEach((function(e,t){o(e,s[t])}))}else o(t,r)},$t[st]=function(e,t,r,n){var i=n.task;t===le?Gt(i):be(t)?t.forEach(Gt):Gt(t),r()},$t[at]=function(e,t,r){var n=t.selector,i=t.args;try{r(n.apply(void 0,[e.getState()].concat(i)))}catch(o){r(o,!0)}},$t[ct]=function(e,t,r){var n=t.pattern,i=jt(t.buffer),o=Nt(n),s=function t(r){Ft(r)||e.channel.take(t,o),i.put(r)},a=i.close;i.close=function(){s.cancel(),a()},e.channel.take(s,o),r(i)},$t[ut]=function(e,t,r,n){r(n.task.isCancelled())},$t[lt]=function(e,t,r){t.flush(r)},$t[pt]=function(e,t,r,n){r(n.task.context[t])},$t[ht]=function(e,t,r,n){var i=n.task;Me(i.context,t),r()},$t);function Yt(e,t){return e+"?"+t}function Qt(e){var t=e.name,r=e.location;return r?t+"  "+Yt(r.fileName,r.lineNumber):t}function Zt(e){var t=Ae((function(e){return e.cancelledTasks}),e);return t.length?["Tasks cancelled due to error:"].concat(t).join("\n"):""}var Jt=null,Xt=[],er=function(e){e.crashedEffect=Jt,Xt.push(e)},tr=function(){Jt=null,Xt.length=0},rr=function(e){Jt=e},nr=function(){var e=Xt[0],t=Xt.slice(1),r=e.crashedEffect?function(e){var t=Ke(e);return t?t.code+"  "+Yt(t.fileName,t.lineNumber):""}(e.crashedEffect):null;return["The above error occurred in task "+Qt(e.meta)+(r?" \n when executing effect "+r:"")].concat(t.map((function(e){return"    created by "+Qt(e.meta)})),[Zt(Xt)]).join("\n")};function ir(e,t,r,n,i,o,s){var a;void 0===s&&(s=Te);var c,u,l=zt,p=null,h=[],d=Object.create(r),f=function(e,t,r){var n,i=[],o=!1;function s(e){t(),c(),r(e,!0)}function a(t){i.push(t),t.cont=function(a,c){o||(Ie(i,t),t.cont=Te,c?s(a):(t===e&&(n=a),i.length||(o=!0,r(n))))}}function c(){o||(o=!0,i.forEach((function(e){e.cont=Te,e.cancel()})),i=[])}return a(e),{addTask:a,cancelAll:c,abort:s,getTasks:function(){return i}}}(t,(function(){h.push.apply(h,f.getTasks().map((function(e){return e.meta.name})))}),m);function m(t,r){if(r){if(l=Lt,er({meta:i,cancelledTasks:h}),v.isRoot){var n=nr();tr(),e.onError(t,{sagaStack:n})}u=t,p&&p.reject(t)}else t===he?l=qt:l!==qt&&(l=Wt),c=t,p&&p.resolve(t);v.cont(t,r),v.joiners.forEach((function(e){e.cb(t,r)})),v.joiners=null}var v=((a={})[pe]=!0,a.id=n,a.meta=i,a.isRoot=o,a.context=d,a.joiners=[],a.queue=f,a.cancel=function(){l===zt&&(l=qt,f.cancelAll(),m(he,!1))},a.cont=s,a.end=m,a.setContext=function(e){Me(d,e)},a.toPromise=function(){return p?p.promise:(p=St(),l===Lt?p.reject(u):l!==zt&&p.resolve(c),p.promise)},a.isRunning=function(){return l===zt},a.isCancelled=function(){return l===qt||l===zt&&t.status===qt},a.isAborted=function(){return l===Lt},a.result=function(){return c},a.error=function(){return u},a);return v}function or(e,t,r,n,i,o,s){var a=e.finalizeRunEffect((function(t,r,n){if(Se(t))Ut(t,n);else if(we(t))or(e,t,u.context,r,i,!1,n);else if(t&&t[se]){(0,Vt[t.type])(e,t.payload,n,l)}else n(t)}));p.cancel=Te;var c={meta:i,cancel:function(){c.status===zt&&(c.status=qt,p(he))},status:zt},u=ir(e,c,r,n,i,o,s),l={task:u,digestEffect:h};return s&&(s.cancel=u.cancel),p(),u;function p(e,r){try{var i;r?(i=t.throw(e),tr()):Le(e)?(c.status=qt,p.cancel(),i=ge(t.return)?t.return(he):{done:!0,value:he}):i=qe(e)?ge(t.return)?t.return():{done:!0}:t.next(e),i.done?(c.status!==qt&&(c.status=Wt),c.cont(i.value)):h(i.value,n,p)}catch(o){if(c.status===qt)throw o;c.status=Lt,c.cont(o,!0)}}function h(t,r,n,i){void 0===i&&(i="");var o,s=Ht();function c(r,i){o||(o=!0,n.cancel=Te,e.sagaMonitor&&(i?e.sagaMonitor.effectRejected(s,r):e.sagaMonitor.effectResolved(s,r)),i&&rr(t),n(r,i))}e.sagaMonitor&&e.sagaMonitor.effectTriggered({effectId:s,parentEffectId:r,label:i,effect:t}),c.cancel=Te,n.cancel=function(){o||(o=!0,c.cancel(),c.cancel=Te,e.sagaMonitor&&e.sagaMonitor.effectCancelled(s))},a(t,s,c)}}function sr(e,t){var r=e.channel,n=void 0===r?Bt():r,i=e.dispatch,o=e.getState,s=e.context,a=void 0===s?{}:s,c=e.sagaMonitor,u=e.effectMiddlewares,l=e.onError,p=void 0===l?je:l;for(var h=arguments.length,d=new Array(h>2?h-2:0),f=2;f<h;f++)d[f-2]=arguments[f];var m=t.apply(void 0,d);var v,g=Ht();if(c&&(c.rootSagaStarted=c.rootSagaStarted||Te,c.effectTriggered=c.effectTriggered||Te,c.effectResolved=c.effectResolved||Te,c.effectRejected=c.effectRejected||Te,c.effectCancelled=c.effectCancelled||Te,c.actionDispatched=c.actionDispatched||Te,c.rootSagaStarted({effectId:g,saga:t,args:d})),u){var y=z.apply(void 0,u);v=function(e){return function(t,r,n){return y((function(t){return e(t,r,n)}))(t)}}}else v=Re;var b={channel:n,dispatch:ze(i),getState:o,sagaMonitor:c,onError:p,finalizeRunEffect:v};return xt((function(){var e=or(b,m,a,g,$e(t),!0,void 0);return c&&c.effectResolved(g,e),e}))}var ar=function(e){var t,r=void 0===e?{}:e,n=r.context,i=void 0===n?{}:n,o=r.channel,s=void 0===o?Bt():o,a=r.sagaMonitor,c=v(r,["context","channel","sagaMonitor"]);function u(e){var r=e.getState,n=e.dispatch;return t=sr.bind(null,m({},c,{context:i,channel:s,dispatch:n,getState:r,sagaMonitor:a})),function(e){return function(t){a&&a.actionDispatched&&a.actionDispatched(t);var r=e(t);return s.put(t),r}}}return u.run=function(){return t.apply(void 0,arguments)},u.setContext=function(e){Me(i,e)},u},cr=function(e){return{done:!0,value:e}},ur={};function lr(e){return Ee(e)?"channel":Oe(e)?String(e):ge(e)?e.name:String(e)}function pr(e,t,r){var n,i,o,s=t;function a(t,r){if(s===ur)return cr(t);if(r&&!i)throw s=ur,r;n&&n(t);var a=r?e[i](r):e[s]();return s=a.nextState,o=a.effect,n=a.stateUpdater,i=a.errorState,s===ur?cr(t):o}return Fe(a,(function(e){return a(null,e)}),r)}function hr(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i];var o,s,a={done:!1,value:ft(e)},c=function(e){return{done:!1,value:gt.apply(void 0,[t].concat(n,[e]))}},u=function(e){return{done:!1,value:(t=e,void 0===t&&(t=le),dt(st,t))};var t},l=function(e){return o=e},p=function(e){return s=e};return pr({q1:function(){return{nextState:"q2",effect:a,stateUpdater:p}},q2:function(){return o?{nextState:"q3",effect:u(o)}:{nextState:"q1",effect:c(s),stateUpdater:l}},q3:function(){return{nextState:"q1",effect:c(s),stateUpdater:l}}},"q1","takeLatest("+lr(e)+", "+t.name+")")}var dr;function fr(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i];return gt.apply(void 0,[hr,e,t].concat(n))}function mr(e,t,r){return{type:dr.APPEND_HISTORY,cart:e,source:t,text:r}}function vr(e){return{type:dr.LOAD_WORLD,language:e}}function gr(e,t,r){return console.log("setWorld"),{type:dr.SET_WORLD,bluePlateWorld:e,history:t,language:r}}function yr(e){return{type:dr.SET_SPEECH_CONFIG,speechConfig:e}}function br(e){return{type:dr.SET_SPEECH_SUPPORT,speechSupport:e}}function Sr(e,t){return{type:dr.UPDATE_HISTORY_ITEM,id:e,changes:t}}function wr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Er(e,t){if(e){if("string"===typeof e)return kr(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?kr(e,t):void 0}}function Or(e){return function(e){if(Array.isArray(e))return kr(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Er(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}!function(e){e.APPEND_HISTORY="APPEND_HISTORY",e.CHROME_DETECT="CHROME_DETECT",e.CLEAR_CART="CLEAR_CART",e.CLEAR_HISTORY="CLEAR_HISTORY",e.LOAD_WORLD="LOAD_WORLD",e.PROCESS="PROCESS",e.RECORD="RECORD",e.RESET="RESET",e.SET_CART="SET_CART",e.SET_MODE="SET_MODE",e.SET_SPEECH_CONFIG="SET_SPEECH_CONFIG",e.SET_SPEECH_SUPPORT="SET_SPEECH_SUPPORT",e.SET_WORLD="SET_WORLD",e.UNDO="UNDO",e.UPDATE_HISTORY_ITEM="UPDATE_HISTORY"}(dr||(dr={}));var xr=r("94Iq");function Cr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Pr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Cr(Object(r),!0).forEach((function(t){wr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Cr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Tr=new xr.IdGenerator;function Rr(e,t){var r=t.cart,n=t.source,i=t.text,o={cart:r,correctness:Kr.UNKNOWN,id:Tr.next(),source:n,timestamp:new Date,text:i},s=[].concat(Or(e.history),[o]),a=e.undoStack.slice(-20);return a.push(r),Pr(Pr({},e),{},{history:s,undoStack:a})}function Mr(e,t){return Pr(Pr({},e),{},{cart:{items:[]}})}function Ar(e,t){return Pr(Pr({},e),{},{history:[]})}function Ir(e,t){var r=t.text;t.final;return Pr(Pr({},e),{},{transcription:Object(xr.speechToTextFilter)(r)})}function _r(e,t){var r=t.isRecording;return Pr(Pr({},e),{},{isRecording:r})}function Nr(e,t){return Pr(Pr({},e),{},{transcription:"",cart:{items:[]}})}function Dr(e,t){var r=t.cart;return Pr(Pr({},e),{},{cart:r})}function Fr(e,t){var r=t.mode;return Pr(Pr({},e),{},{mode:r})}function jr(e,t){var r=t.speechConfig;return console.log("applySpeechConfig"),console.log(r),Pr(Pr({},e),{},{speechConfig:Pr(Pr({},e.speechConfig),r)})}function Br(e,t){var r=t.speechSupport;return Pr(Pr({},e),{},{speechConfig:Pr(Pr({},e.speechConfig),{},{speechSupport:r})})}function zr(e,t){var r=t.bluePlateWorld,n=t.history,i=t.language;return Pr(Pr({},e),{},{bluePlateWorld:r,history:n,language:i,undoStack:[{items:[]}],cart:{items:[]}})}function qr(e,t){var r=e.undoStack;if(r.length>1){var n=r[r.length-2];r=r.slice(0,-1);var i={cart:n,correctness:Kr.UNKNOWN,id:Tr.next(),source:$r.COMMAND,timestamp:new Date,text:"undo"},o=[].concat(Or(e.history),[i]);return Pr(Pr({},e),{},{cart:n,history:o,undoStack:r})}return e}function Lr(e,t){var r=t.id,n=t.changes,i=e.history.map((function(e){return r===e.id?Pr(Pr({},e),n):e}));return Pr(Pr({},e),{},{history:i})}function Wr(){return Gr.map((function(e){return{source:e.source,cart:e.cart||{items:[]},id:Tr.next(),timestamp:new Date(e.timestamp),text:e.text,correctness:e.correctness,note:e.note}}))}var Ur,$r,Kr,Hr,Gr=[{cart:{items:[{uid:30,key:"302:1:2",quantity:1,children:[{uid:29,key:"1001:3",quantity:1,children:[]}]}]},source:"MICROPHONE",timestamp:"2020-06-24T20:50:21.525Z",text:"hi I'd like a grande iced latte with extra foam",correctness:"CORRECT",note:"This is the text of the note."},{cart:{items:[{uid:30,key:"302:1:2",quantity:1,children:[{uid:29,key:"1001:3",quantity:1,children:[]},{uid:32,key:"704",quantity:1,children:[]}]},{uid:33,key:"2000",quantity:1,children:[]}]},source:"MICROPHONE",timestamp:"2020-06-24T20:50:27.409Z",text:"actually make that a decaf and give me a muffin",correctness:"INCORRECT"},{cart:{items:[{uid:30,key:"302:1:2",quantity:1,children:[{uid:29,key:"1001:3",quantity:1,children:[]},{uid:32,key:"704",quantity:1,children:[]}]},{uid:33,key:"2000",quantity:1,children:[{uid:40,key:"2:2",quantity:1,children:[]}]}]},source:"MICROPHONE",timestamp:"2020-06-24T20:50:34.103Z",text:"can I get that with strawberry jam"},{cart:{items:[{uid:30,key:"302:1:2",quantity:1,children:[{uid:29,key:"1001:3",quantity:1,children:[]},{uid:32,key:"704",quantity:1,children:[]}]},{uid:33,key:"2000",quantity:1,children:[]}]},source:"MICROPHONE",timestamp:"2020-06-24T20:50:38.231Z",text:"remove the strawberry jam"}];function Vr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Yr(){try{console.log("Attempting to load speech config");var e=localStorage.getItem("speechConfig");if(null===e)throw new TypeError("no speechConfig in local storage");return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Vr(Object(r),!0).forEach((function(t){wr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({speechSupport:!1},JSON.parse(e))}catch(t){return console.log("no speechConfig in local storage"),{speechSupport:!1,mode:Hr.TEXT,azureSubscriptionKey:"",azureRegion:""}}}function Qr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Zr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Qr(Object(r),!0).forEach((function(t){wr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Jr(){var e=Yr();return{mode:Ur.INSTRUCTIONS,isRecording:!1,transcription:"",cart:{items:[]},history:Wr(),undoStack:[{items:[]}],language:"en-US",speechConfig:Zr(Zr({},e),{},{speechSupport:!1})}}!function(e){e.INSTRUCTIONS="INSTRUCTIONS",e.MENU="MENU",e.GRAPH="GRAPH"}(Ur||(Ur={})),function(e){e.COMMAND="COMMAND",e.KEYBOARD="KEYBOARD",e.MICROPHONE="MICROPHONE"}($r||($r={})),function(e){e.CORRECT="CORRECT",e.INCORRECT="INCORRECT",e.UNKNOWN="UNKNOWN"}(Kr||(Kr={})),function(e){e.AZURE="AZURE",e.TEXT="TEXT",e.WEB_SPEECH="WEB_SPEECH"}(Hr||(Hr={}));var Xr=r("aglY");function en(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,i=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(n=(s=a.next()).done)&&(r.push(s.value),!t||r.length!==t);n=!0);}catch(c){i=!0,o=c}finally{try{n||null==a.return||a.return()}finally{if(i)throw o}}return r}}(e,t)||Er(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tn(e,t,r,n,i,o,s){try{var a=e[o](s),c=a.value}catch(u){return void r(u)}a.done?t(c):Promise.resolve(c).then(n,i)}function rn(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function s(e){tn(o,n,i,s,a,"next",e)}function a(e){tn(o,n,i,s,a,"throw",e)}s(void 0)}))}}function nn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function on(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?nn(Object(r),!0).forEach((function(t){wr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function sn(e,t){var r;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"===typeof e)return an(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return an(e,t)}(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return s=e.done,e},e:function(e){a=!0,o=e},f:function(){try{s||null==r.return||r.return()}finally{if(a)throw o}}}}function an(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function cn(e,t,r){return un.apply(this,arguments)}function un(){return(un=rn(i.a.mark((function e(t,r,n){var o,s,a,c,u,l,p,h,d,f,m,v,g,y,b,S,w,k,E,O,x,C,P,T,R,M,A;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("before test run"),o={tests:[]},s=sn(Object(xr.enumerateTestCases)(n)),e.prev=3,s.s();case 5:if((a=s.n()).done){e.next=53;break}c=a.value,u={cart:{items:[]}},l=[],p=sn(c.steps),e.prev=10,p.s();case 12:if((h=p.n()).done){e.next=42;break}d=h.value,f=sn(d.turns),e.prev=15,f.s();case 17:if((m=f.n()).done){e.next=30;break}return v=m.value,e.prev=19,g=Object(xr.speechToTextFilter)(v.transcription),e.next=23,r.processor(g,u);case 23:u=e.sent,e.next=28;break;case 26:e.prev=26,e.t0=e.catch(19);case 28:e.next=17;break;case 30:e.next=35;break;case 32:e.prev=32,e.t1=e.catch(15),f.e(e.t1);case 35:return e.prev=35,f.f(),e.finish(35);case 38:y=Object(xr.logicalCartFromCart)(u.cart,t.catalog),l.push(on(on({},d),{},{cart:y}));case 40:e.next=12;break;case 42:e.next=47;break;case 44:e.prev=44,e.t2=e.catch(10),p.e(e.t2);case 47:return e.prev=47,p.f(),e.finish(47);case 50:o.tests.push(on(on({},c),{},{steps:l}));case 51:e.next=5;break;case 53:e.next=58;break;case 55:e.prev=55,e.t3=e.catch(3),s.e(e.t3);case 58:return e.prev=58,s.f(),e.finish(58);case 61:b=Object(xr.createMenuBasedRepairFunction)(t.attributeInfo,t.catalog),S=Object(xr.scoreSuite)(o,n,b,"menu-based"),console.log(S),w=Or(Object(xr.enumerateTestCases)(n)),k=Or(Object(xr.enumerateTestCases)(S)),E=new Map,O=sn(k.entries());try{for(O.s();!(x=O.n()).done;)C=en(x.value,2),P=C[0],T=C[1],R=T.id,M=T.steps.reduce((function(e,t){return e+t.measures.repairs.cost}),0),A=0===M,E.set(R,{id:R,passed:A,repairs:M,expected:w[P],scored:k[P]})}catch(i){O.e(i)}finally{O.f()}return e.abrupt("return",E);case 71:case"end":return e.stop()}}),e,null,[[3,55,58,61],[10,44,47,50],[15,32,35,38],[19,26]])})))).apply(this,arguments)}var ln=[{cart:{items:[{uid:6,key:"302:0:2",quantity:1,children:[{uid:5,key:"803",quantity:1,children:[]}]}]},correctness:"UNKNOWN",id:5,source:"KEYBOARD",timestamp:"2020-07-06T07:35:54.560Z",text:"hola quiero un caf\xe9 con leche descremada por favor",note:"hi i want a skim milk coffee please"},{cart:{items:[{uid:6,key:"302:0:2",quantity:1,children:[{uid:5,key:"803",quantity:1,children:[]}]},{uid:53,key:"400:0:1",quantity:1,children:[]}]},correctness:"UNKNOWN",id:6,source:"KEYBOARD",timestamp:"2020-07-06T07:36:05.272Z",text:"tambi\xe9n quiero un espresso",note:"I also want an espresso"},{cart:{items:[{uid:6,key:"302:0:2",quantity:1,children:[{uid:5,key:"803",quantity:1,children:[]}]},{uid:53,key:"501:0:2",quantity:1,children:[{uid:69,key:"905",quantity:1,children:[]}]}]},correctness:"UNKNOWN",id:7,source:"KEYBOARD",timestamp:"2020-07-06T07:36:12.742Z",text:"haga el cafe con soja por favor",note:"make the coffee with soy please"},{cart:{items:[{uid:6,key:"302:0:2",quantity:1,children:[{uid:5,key:"803",quantity:1,children:[]}]},{uid:53,key:"501:0:2",quantity:1,children:[{uid:69,key:"905",quantity:1,children:[]},{uid:196,key:"906",quantity:1,children:[]}]}]},correctness:"UNKNOWN",id:8,source:"KEYBOARD",timestamp:"2020-07-06T07:36:21.244Z",text:"haga el cafe con leche de almendra",note:"make the coffee with almond milk"},{cart:{items:[{uid:6,key:"302:0:2",quantity:1,children:[{uid:5,key:"803",quantity:1,children:[]}]},{uid:53,key:"400:0:1",quantity:1,children:[{uid:347,key:"704",quantity:1,children:[]}]}]},correctness:"UNKNOWN",id:9,source:"KEYBOARD",timestamp:"2020-07-06T07:36:32.275Z",text:"haga el espresso descafeinado",note:"make the espresso decaffeinated"},{cart:{items:[{uid:6,key:"302:0:2",quantity:1,children:[{uid:5,key:"803",quantity:1,children:[]}]},{uid:53,key:"400:0:1",quantity:1,children:[{uid:347,key:"704",quantity:1,children:[]}]}]},correctness:"UNKNOWN",id:10,source:"KEYBOARD",timestamp:"2020-07-06T07:37:02.798Z",text:"quita el leche de almendra en el cafe por favor",note:"remove the almond milk from the coffee please"},{cart:{items:[{uid:6,key:"302:0:2",quantity:1,children:[{uid:5,key:"803",quantity:1,children:[]}]},{uid:53,key:"400:0:1",quantity:1,children:[{uid:347,key:"704",quantity:1,children:[]}]},{uid:382,key:"2000",quantity:1,children:[{uid:381,key:"100",quantity:1,children:[]}]}]},correctness:"UNKNOWN",id:11,source:"KEYBOARD",timestamp:"2020-07-06T07:37:15.326Z",text:"tambi\xe9n queremos una magdalena de manzana tostado",note:"we also want a toasted apple muffin"}],pn=i.a.mark(xn),hn=i.a.mark(Pn),dn=r("psu4"),fn=r("I3cw"),mn=r("d4+G"),vn=r("k5Ie"),gn=r("W58J"),yn=r("UTkZ"),bn=r("O0Ee"),Sn=r("PV3F"),wn=r("ovPo"),kn=r("v4tf");function En(e){return"es-US"===e?wn:vn}function On(e){return"es-US"===e?kn:gn}function xn(e){var t,r,n,o,s,a,c,u,l,p,h;return i.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return d=e.language,t="es-US"===d?new xr.ObjectLoader([["/samples/menu/menu.yaml",Sn],["/samples/menu/bakery-es.yaml",yn],["/samples/menu/coffee-es.yaml",bn]]):new xr.ObjectLoader([["/samples/menu/menu.yaml",mn],["/samples/menu/bakery.yaml",dn],["/samples/menu/coffee.yaml",fn]]),r=En(e.language),i.next=4,Object(xr.loadCatalogSpec)(t,"/samples/menu/menu.yaml");case 4:return n=i.sent,o=Object(xr.createWorld3)(n),s=Object(Xr.createShortOrderWorld2)(o,r,"es-US"===e.language?"snowball-es":"snowball",!1),r.lexicon.sort((function(e,t){return e.name.localeCompare(t.name)})),console.log("before validation"),a=On(e.language),i.next=12,cn(o,s,a);case 12:return c=i.sent,u=s.lexer.tokenizer,l=u.getPostings(),p={prixFixeWorld:o,lexiconSpec:r,postings:l,shortOrderWorld:s,testResults:c},h="es-US"===e.language?ln.map((function(e){return{source:e.source,cart:e.cart||{items:[]},id:Tr.next(),timestamp:new Date(e.timestamp),text:e.text,correctness:e.correctness,note:e.note}})):Wr(),i.next=19,mt(gr(p,h,e.language));case 19:case"end":return i.stop()}var d}),pn)}function Cn(e){return e}function Pn(e){var t,r,n,o,s,a;return i.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(t=e.source,r=e.text,!e.final){i.next=14;break}return i.next=4,yt(Cn);case 4:return n=i.sent,o=Object(xr.speechToTextFilter)(r),s={cart:n.cart},i.next=9,n.bluePlateWorld.shortOrderWorld.processor(o,s);case 9:return a=i.sent,i.next=12,mt((c=a.cart,{type:dr.SET_CART,cart:c}));case 12:return i.next=14,mt(mr(a.cart,t,r));case 14:case"end":return i.stop()}var c}),hn)}function Tn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Rn(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Mn(e,t,r){return t&&Rn(e.prototype,t),r&&Rn(e,r),e}function An(e,t){return(An=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function In(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&An(e,t)}function _n(e){return(_n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Nn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Dn(e,t){return!t||"object"!==_n(t)&&"function"!==typeof t?Nn(e):t}function Fn(e){return(Fn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var jn=r("TSYQ"),Bn=r.n(jn),zn=(r("K9S6"),r("QLaP")),qn=r.n(zn);function Ln(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function Wn(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}function Un(e,t,r){var n=Object(o.useRef)(void 0!==e),i=Object(o.useState)(t),s=i[0],a=i[1],c=void 0!==e,u=n.current;return n.current=c,!c&&u&&s!==t&&a(t),[c?e:s,Object(o.useCallback)((function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];r&&r.apply(void 0,[e].concat(n)),a(e)}),[r])]}function $n(e,t){return Object.keys(t).reduce((function(r,n){var i,o=r,s=o[Ln(n)],a=o[n],c=v(o,[Ln(n),n].map(Wn)),u=t[n],l=Un(a,s,e[u]),p=l[0],h=l[1];return m({},c,((i={})[n]=p,i[u]=h,i))}),e)}function Kn(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function Hn(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function Gn(e){this.setState(function(t){var r=this.constructor.getDerivedStateFromProps(e,t);return null!==r&&void 0!==r?r:null}.bind(this))}function Vn(e,t){try{var r=this.props,n=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(r,n)}finally{this.props=r,this.state=n}}function Yn(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!==typeof e.getDerivedStateFromProps&&"function"!==typeof t.getSnapshotBeforeUpdate)return e;var r=null,n=null,i=null;if("function"===typeof t.componentWillMount?r="componentWillMount":"function"===typeof t.UNSAFE_componentWillMount&&(r="UNSAFE_componentWillMount"),"function"===typeof t.componentWillReceiveProps?n="componentWillReceiveProps":"function"===typeof t.UNSAFE_componentWillReceiveProps&&(n="UNSAFE_componentWillReceiveProps"),"function"===typeof t.componentWillUpdate?i="componentWillUpdate":"function"===typeof t.UNSAFE_componentWillUpdate&&(i="UNSAFE_componentWillUpdate"),null!==r||null!==n||null!==i){var o=e.displayName||e.name,s="function"===typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+o+" uses "+s+" but also contains the following legacy lifecycles:"+(null!==r?"\n  "+r:"")+(null!==n?"\n  "+n:"")+(null!==i?"\n  "+i:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"===typeof e.getDerivedStateFromProps&&(t.componentWillMount=Hn,t.componentWillReceiveProps=Gn),"function"===typeof t.getSnapshotBeforeUpdate){if("function"!==typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=Vn;var a=t.componentDidUpdate;t.componentDidUpdate=function(e,t,r){var n=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:r;a.call(this,e,t,n)}}return e}Hn.__suppressDeprecationWarning=!0,Gn.__suppressDeprecationWarning=!0,Vn.__suppressDeprecationWarning=!0;var Qn=r("QA0p"),Zn=r.n(Qn),Jn=s.a.createContext({});Jn.Consumer,Jn.Provider;function Xn(e,t){var r=Object(o.useContext)(Jn);return e||r[t]||t}var ei=s.a.createContext(null),ti=s.a.createContext(null),ri=Function.prototype.bind.call(Function.prototype.call,[].slice);function ni(e,t){return ri(e.querySelectorAll(t))}function ii(){return Object(o.useReducer)((function(e){return!e}),!1)[1]}var oi=function(e){return e&&"function"!==typeof e?function(t){e.current=t}:e};var si=function(e,t){return Object(o.useMemo)((function(){return function(e,t){var r=oi(e),n=oi(t);return function(e){r&&r(e),n&&n(e)}}(e,t)}),[e,t])},ai=s.a.createContext(null),ci=s.a.createContext(),ui=function(e,t){return null!=e?String(e):t||null},li=ci,pi=s.a.createContext(null),hi=function(){},di=s.a.forwardRef((function(e,t){var r,n,i=e.as,a=void 0===i?"ul":i,c=e.onSelect,u=e.activeKey,l=e.role,p=e.onKeyDown,h=v(e,["as","onSelect","activeKey","role","onKeyDown"]),d=ii(),f=Object(o.useRef)(!1),g=Object(o.useContext)(li),y=Object(o.useContext)(pi);y&&(l=l||"tablist",u=y.activeKey,r=y.getControlledId,n=y.getControllerId);var b=Object(o.useRef)(null),S=function(e){if(!b.current)return null;var t=ni(b.current,"[data-rb-event-key]:not(.disabled)"),r=b.current.querySelector(".active"),n=t.indexOf(r);if(-1===n)return null;var i=n+e;return i>=t.length&&(i=0),i<0&&(i=t.length-1),t[i]},w=function(e,t){null!=e&&(c&&c(e,t),g&&g(e,t))};Object(o.useEffect)((function(){if(b.current&&f.current){var e=b.current.querySelector("[data-rb-event-key].active");e&&e.focus()}f.current=!1}));var k=si(t,b);return(s.a.createElement(li.Provider,{value:w},s.a.createElement(ai.Provider,{value:{role:l,activeKey:ui(u),getControlledId:r||hi,getControllerId:n||hi}},s.a.createElement(a,m({},h,{onKeyDown:function(e){var t;switch(p&&p(e),e.key){case"ArrowLeft":case"ArrowUp":t=S(-1);break;case"ArrowRight":case"ArrowDown":t=S(1);break;default:return}t&&(e.preventDefault(),w(t.dataset.rbEventKey,e),f.current=!0,d())},ref:k,role:l})))))})),fi=s.a.forwardRef((function(e,t){var r=e.bsPrefix,n=e.className,i=e.children,o=e.as,a=void 0===o?"div":o,c=v(e,["bsPrefix","className","children","as"]);return r=Xn(r,"nav-item"),s.a.createElement(a,m({},c,{ref:t,className:Bn()(n,r)}),i)}));fi.displayName="NavItem";var mi=fi;var vi=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((function(e){return null!=e})).reduce((function(e,t){if("function"!==typeof t)throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return null===e?t:function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];e.apply(this,n),t.apply(this,n)}}),null)};function gi(e){return!e||"#"===e.trim()}var yi=s.a.forwardRef((function(e,t){var r=e.as,n=void 0===r?"a":r,i=e.disabled,o=e.onKeyDown,a=v(e,["as","disabled","onKeyDown"]),c=function(e){var t=a.href,r=a.onClick;(i||gi(t))&&e.preventDefault(),i?e.stopPropagation():r&&r(e)};return gi(a.href)&&(a.role=a.role||"button",a.href=a.href||"#"),i&&(a.tabIndex=-1,a["aria-disabled"]=!0),s.a.createElement(n,m({ref:t},a,{onClick:c,onKeyDown:vi((function(e){" "===e.key&&(e.preventDefault(),c(e))}),o)}))}));yi.displayName="SafeAnchor";var bi=yi;var Si=function(e){var t=Object(o.useRef)(e);return Object(o.useEffect)((function(){t.current=e}),[e]),t};function wi(e){var t=Si(e);return Object(o.useCallback)((function(){return t.current&&t.current.apply(t,arguments)}),[t])}var ki=r("2W6z"),Ei=r.n(ki),Oi=s.a.forwardRef((function(e,t){var r=e.active,n=e.className,i=e.tabIndex,a=e.eventKey,c=e.onSelect,u=e.onClick,l=e.as,p=v(e,["active","className","tabIndex","eventKey","onSelect","onClick","as"]),h=ui(a,p.href),d=Object(o.useContext)(li),f=Object(o.useContext)(ai),g=r;if(f){p.role||"tablist"!==f.role||(p.role="tab");var y=f.getControllerId(h),b=f.getControlledId(h);p["data-rb-event-key"]=h,p.id=y||p.id,p["aria-controls"]=b||p["aria-controls"],g=null==r&&null!=h?f.activeKey===h:r}"tab"===p.role&&(p.tabIndex=g?i:-1,p["aria-selected"]=g);var S=wi((function(e){u&&u(e),null!=h&&(c&&c(h,e),d&&d(h,e))}));return(s.a.createElement(l,m({},p,{ref:t,onClick:S,className:Bn()(n,g&&"active")})))}));Oi.defaultProps={disabled:!1};var xi=Oi,Ci={disabled:!1,as:bi},Pi=s.a.forwardRef((function(e,t){var r=e.bsPrefix,n=e.disabled,i=e.className,o=e.href,a=e.eventKey,c=e.onSelect,u=e.as,l=v(e,["bsPrefix","disabled","className","href","eventKey","onSelect","as"]);return r=Xn(r,"nav-link"),s.a.createElement(xi,m({},l,{href:o,ref:t,eventKey:a,as:u,disabled:n,onSelect:c,className:Bn()(i,r,n&&"disabled")}))}));Pi.displayName="NavLink",Pi.defaultProps=Ci;var Ti=Pi,Ri=s.a.forwardRef((function(e,t){var r,n,i,a=$n(e,{activeKey:"onSelect"}),c=a.as,u=void 0===c?"div":c,l=a.bsPrefix,p=a.variant,h=a.fill,d=a.justify,f=a.navbar,g=a.className,y=a.children,b=a.activeKey,S=v(a,["as","bsPrefix","variant","fill","justify","navbar","className","children","activeKey"]);l=Xn(l,"nav");var w=Object(o.useContext)(ei),k=Object(o.useContext)(ti);return w?(n=w.bsPrefix,f=null==f||f):k&&(i=k.cardHeaderBsPrefix),s.a.createElement(di,m({as:u,ref:t,activeKey:b,className:Bn()(g,(r={},r[l]=!f,r[n+"-nav"]=f,r[i+"-"+p]=!!i,r[l+"-"+p]=!!p,r[l+"-fill"]=h,r[l+"-justified"]=d,r))},S),y)}));Ri.displayName="Nav",Ri.defaultProps={justify:!1,fill:!1},Ri.Item=mi,Ri.Link=Ti;var Mi=Ri,Ai=function(e){var t=$n(e,{activeKey:"onSelect"}),r=t.id,n=t.generateChildId,i=t.onSelect,a=t.activeKey,c=t.transition,u=t.mountOnEnter,l=t.unmountOnExit,p=t.children,h=Object(o.useMemo)((function(){return n||function(e,t){return r?r+"-"+t+"-"+e:null}}),[r,n]),d=Object(o.useMemo)((function(){return{onSelect:i,activeKey:a,transition:c,mountOnEnter:u,unmountOnExit:l,getControlledId:function(e){return h(e,"tabpane")},getControllerId:function(e){return h(e,"tab")}}}),[i,a,c,u,l,h]);return s.a.createElement(pi.Provider,{value:d},s.a.createElement(li.Provider,{value:i},p))},Ii=s.a.forwardRef((function(e,t){var r=e.bsPrefix,n=e.as,i=void 0===n?"div":n,o=e.className,a=v(e,["bsPrefix","as","className"]),c=Xn(r,"tab-content");return s.a.createElement(i,m({ref:t},a,{className:Bn()(o,c)}))})),_i=!("undefined"===typeof window||!window.document||!window.document.createElement);function Ni(e){return e&&e.ownerDocument||document}function Di(e,t){return function(e){var t=Ni(e);return t&&t.defaultView||window}(e).getComputedStyle(e,t)}var Fi=/([A-Z])/g;var ji=/^ms-/;function Bi(e){return function(e){return e.replace(Fi,"-$1").toLowerCase()}(e).replace(ji,"-ms-")}var zi=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;var qi=function(e,t){var r="",n="";if("string"===typeof t)return e.style.getPropertyValue(Bi(t))||Di(e).getPropertyValue(Bi(t));Object.keys(t).forEach((function(i){var o=t[i];o||0===o?!function(e){return!(!e||!zi.test(e))}(i)?r+=Bi(i)+": "+o+";":n+=i+"("+o+") ":e.style.removeProperty(Bi(i))})),n&&(r+="transform: "+n+";"),e.style.cssText+=";"+r},Li=!1,Wi=!1;try{var Ui={get passive(){return Li=!0},get once(){return Wi=Li=!0}};_i&&(window.addEventListener("test",Ui,Ui),window.removeEventListener("test",Ui,!0))}catch(lm){}var $i=function(e,t,r,n){if(n&&"boolean"!==typeof n&&!Wi){var i=n.once,o=n.capture,s=r;!Wi&&i&&(s=r.__once||function e(n){this.removeEventListener(t,e,o),r.call(this,n)},r.__once=s),e.addEventListener(t,s,Li?n:o)}e.addEventListener(t,r,n)};var Ki=function(e,t,r,n){var i=n&&"boolean"!==typeof n?n.capture:n;e.removeEventListener(t,r,i),r.__once&&e.removeEventListener(t,r.__once,i)};var Hi=function(e,t,r,n){return $i(e,t,r,n),function(){Ki(e,t,r,n)}};_i&&window;function Gi(e,t,r){void 0===r&&(r=5);var n=!1,i=setTimeout((function(){n||function(e){var t=document.createEvent("HTMLEvents");t.initEvent("transitionend",!0,!0),e.dispatchEvent(t)}(e)}),t+r),o=Hi(e,"transitionend",(function(){n=!0}),{once:!0});return function(){clearTimeout(i),o()}}var Vi=function(e,t,r){null==r&&(r=function(e){var t=qi(e,"transitionDuration")||"",r=-1===t.indexOf("ms")?1e3:1;return parseFloat(t)*r}(e)||0);var n=Gi(e,r),i=Hi(e,"transitionend",t);return function(){n(),i()}},Yi=!1,Qi=s.a.createContext(null),Zi="unmounted",Ji="exited",Xi="entering",eo="entered",to=function(e){function t(t,r){var n;n=e.call(this,t,r)||this;var i,o=r&&!r.isMounting?t.enter:t.appear;return n.appearStatus=null,t.in?o?(i=Ji,n.appearStatus=Xi):i=eo:i=t.unmountOnExit||t.mountOnEnter?Zi:Ji,n.state={status:i},n.nextCallback=null,n}Kn(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===Zi?{status:Ji}:null};var r=t.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(e){var t=null;if(e!==this.props){var r=this.state.status;this.props.in?r!==Xi&&r!==eo&&(t=Xi):r!==Xi&&r!==eo||(t="exiting")}this.updateStatus(!1,t)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var e,t,r,n=this.props.timeout;return e=t=r=n,null!=n&&"number"!==typeof n&&(e=n.exit,t=n.enter,r=void 0!==n.appear?n.appear:t),{exit:e,enter:t,appear:r}},r.updateStatus=function(e,t){void 0===e&&(e=!1),null!==t?(this.cancelNextCallback(),t===Xi?this.performEnter(e):this.performExit()):this.props.unmountOnExit&&this.state.status===Ji&&this.setState({status:Zi})},r.performEnter=function(e){var t=this,r=this.props.enter,n=this.context?this.context.isMounting:e,i=this.props.nodeRef?[n]:[re.a.findDOMNode(this),n],o=i[0],s=i[1],a=this.getTimeouts(),c=n?a.appear:a.enter;!e&&!r||Yi?this.safeSetState({status:eo},(function(){t.props.onEntered(o)})):(this.props.onEnter(o,s),this.safeSetState({status:Xi},(function(){t.props.onEntering(o,s),t.onTransitionEnd(c,(function(){t.safeSetState({status:eo},(function(){t.props.onEntered(o,s)}))}))})))},r.performExit=function(){var e=this,t=this.props.exit,r=this.getTimeouts(),n=this.props.nodeRef?void 0:re.a.findDOMNode(this);t&&!Yi?(this.props.onExit(n),this.safeSetState({status:"exiting"},(function(){e.props.onExiting(n),e.onTransitionEnd(r.exit,(function(){e.safeSetState({status:Ji},(function(){e.props.onExited(n)}))}))}))):this.safeSetState({status:Ji},(function(){e.props.onExited(n)}))},r.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},r.setNextCallback=function(e){var t=this,r=!0;return this.nextCallback=function(n){r&&(r=!1,t.nextCallback=null,e(n))},this.nextCallback.cancel=function(){r=!1},this.nextCallback},r.onTransitionEnd=function(e,t){this.setNextCallback(t);var r=this.props.nodeRef?this.props.nodeRef.current:re.a.findDOMNode(this),n=null==e&&!this.props.addEndListener;if(r&&!n){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[r,this.nextCallback],o=i[0],s=i[1];this.props.addEndListener(o,s)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},r.render=function(){var e=this.state.status;if(e===Zi)return null;var t=this.props,r=t.children,n=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,v(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return(s.a.createElement(Qi.Provider,{value:null},"function"===typeof r?r(e,n):s.a.cloneElement(s.a.Children.only(r),n)))},t}(s.a.Component);function ro(){}to.contextType=Qi,to.propTypes={},to.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:ro,onEntering:ro,onEntered:ro,onExit:ro,onExiting:ro,onExited:ro},to.UNMOUNTED=Zi,to.EXITED=Ji,to.ENTERING=Xi,to.ENTERED=eo,to.EXITING="exiting";var no,io=to;var oo=((no={})[Xi]="show",no[eo]="show",no),so=s.a.forwardRef((function(e,t){var r=e.className,n=e.children,i=v(e,["className","children"]),a=Object(o.useCallback)((function(e){!function(e){e.offsetHeight}(e),i.onEnter&&i.onEnter(e)}),[i]);return s.a.createElement(io,m({ref:t,addEndListener:Vi},i,{onEnter:a}),(function(e,t){return s.a.cloneElement(n,m({},t,{className:Bn()("fade",r,n.props.className,oo[e])}))}))}));so.defaultProps={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1},so.displayName="Fade";var ao=so;var co=s.a.forwardRef((function(e,t){var r=function(e){var t=Object(o.useContext)(pi);if(!t)return e;var r=t.activeKey,n=t.getControlledId,i=t.getControllerId,s=v(t,["activeKey","getControlledId","getControllerId"]),a=!1!==e.transition&&!1!==s.transition,c=ui(e.eventKey);return m({},e,{active:null==e.active&&null!=c?ui(r)===c:e.active,id:n(e.eventKey),"aria-labelledby":i(e.eventKey),transition:a&&(e.transition||s.transition||ao),mountOnEnter:null!=e.mountOnEnter?e.mountOnEnter:s.mountOnEnter,unmountOnExit:null!=e.unmountOnExit?e.unmountOnExit:s.unmountOnExit})}(e),n=r.bsPrefix,i=r.className,a=r.active,c=r.onEnter,u=r.onEntering,l=r.onEntered,p=r.onExit,h=r.onExiting,d=r.onExited,f=r.mountOnEnter,g=r.unmountOnExit,y=r.transition,b=r.as,S=void 0===b?"div":b,w=(r.eventKey,v(r,["bsPrefix","className","active","onEnter","onEntering","onEntered","onExit","onExiting","onExited","mountOnEnter","unmountOnExit","transition","as","eventKey"])),k=Xn(n,"tab-pane");if(!a&&!y&&g)return null;var E=s.a.createElement(S,m({},w,{ref:t,role:"tabpanel","aria-hidden":!a,className:Bn()(i,k,{active:a})}));return y&&(E=s.a.createElement(y,{in:a,onEnter:c,onEntering:u,onEntered:l,onExit:p,onExiting:h,onExited:d,mountOnEnter:f,unmountOnExit:g},E)),s.a.createElement(pi.Provider,{value:null},s.a.createElement(li.Provider,{value:null},E))}));co.displayName="TabPane";var uo=co,lo=function(e){function t(){return e.apply(this,arguments)||this}return Kn(t,e),t.prototype.render=function(){throw new Error("ReactBootstrap: The `Tab` component is not meant to be rendered! It's an abstract component that is only valid as a direct Child of the `Tabs` Component. For custom tabs components use TabPane and TabsContainer directly")},t}(s.a.Component);lo.Container=Ai,lo.Content=Ii,lo.Pane=uo;var po=lo,ho=r("ihjy"),fo=r.n(ho);function mo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vo(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function go(e,t,r){return t&&vo(e.prototype,t),r&&vo(e,r),e}function yo(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function So(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?bo(Object(r),!0).forEach((function(t){yo(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bo(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function wo(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Eo(e,t)}function ko(e){return(ko=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Eo(e,t){return(Eo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Oo(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xo(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?Oo(e):t}var Co=function(e){function t(){return mo(this,t),xo(this,ko(t).apply(this,arguments))}return wo(t,e),go(t,[{key:"render",value:function(){var e=this.props,t=e.children,r=e.className,n=e.split,i=e.style,o=e.size,a=e.eleRef,c=["Pane",n,r],u={flex:1,position:"relative",outline:"none"};return void 0!==o&&("vertical"===n?u.width=o:(u.height=o,u.display="flex"),u.flex="none"),u=Object.assign({},u,i||{}),s.a.createElement("div",{ref:a,className:c.join(" "),style:u},t)}}]),t}(s.a.PureComponent);Co.propTypes={className:c.a.string.isRequired,children:c.a.node.isRequired,size:c.a.oneOfType([c.a.string,c.a.number]),split:c.a.oneOf(["vertical","horizontal"]),style:fo.a,eleRef:c.a.func},Co.defaultProps={};var Po=function(e){function t(){return mo(this,t),xo(this,ko(t).apply(this,arguments))}return wo(t,e),go(t,[{key:"render",value:function(){var e=this.props,t=e.className,r=e.onClick,n=e.onDoubleClick,i=e.onMouseDown,o=e.onTouchEnd,a=e.onTouchStart,c=e.resizerClassName,u=e.split,l=e.style,p=[c,u,t];return s.a.createElement("span",{role:"presentation",className:p.join(" "),style:l,onMouseDown:function(e){return i(e)},onTouchStart:function(e){e.preventDefault(),a(e)},onTouchEnd:function(e){e.preventDefault(),o(e)},onClick:function(e){r&&(e.preventDefault(),r(e))},onDoubleClick:function(e){n&&(e.preventDefault(),n(e))}})}}]),t}(s.a.Component);function To(e,t){if(e.selection)e.selection.empty();else try{t.getSelection().removeAllRanges()}catch(lm){}}function Ro(e,t,r,n){if("number"===typeof n){var i="number"===typeof t?t:0,o="number"===typeof r&&r>=0?r:1/0;return Math.max(i,Math.min(o,n))}return void 0!==e?e:t}Po.propTypes={className:c.a.string.isRequired,onClick:c.a.func,onDoubleClick:c.a.func,onMouseDown:c.a.func.isRequired,onTouchStart:c.a.func.isRequired,onTouchEnd:c.a.func.isRequired,split:c.a.oneOf(["vertical","horizontal"]),style:fo.a,resizerClassName:c.a.string.isRequired},Po.defaultProps={resizerClassName:"Resizer"};var Mo=function(e){function t(e){var r;mo(this,t),(r=xo(this,ko(t).call(this,e))).onMouseDown=r.onMouseDown.bind(Oo(r)),r.onTouchStart=r.onTouchStart.bind(Oo(r)),r.onMouseMove=r.onMouseMove.bind(Oo(r)),r.onTouchMove=r.onTouchMove.bind(Oo(r)),r.onMouseUp=r.onMouseUp.bind(Oo(r));var n=e.size,i=e.defaultSize,o=e.minSize,s=e.maxSize,a=e.primary,c=void 0!==n?n:Ro(i,o,s,null);return r.state={active:!1,resized:!1,pane1Size:"first"===a?c:void 0,pane2Size:"second"===a?c:void 0,instanceProps:{size:n}},r}return wo(t,e),go(t,[{key:"componentDidMount",value:function(){document.addEventListener("mouseup",this.onMouseUp),document.addEventListener("mousemove",this.onMouseMove),document.addEventListener("touchmove",this.onTouchMove),this.setState(t.getSizeUpdate(this.props,this.state))}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mouseup",this.onMouseUp),document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("touchmove",this.onTouchMove)}},{key:"onMouseDown",value:function(e){var t=Object.assign({},e,{touches:[{clientX:e.clientX,clientY:e.clientY}]});this.onTouchStart(t)}},{key:"onTouchStart",value:function(e){var t=this.props,r=t.allowResize,n=t.onDragStarted,i=t.split;if(r){To(document,window);var o="vertical"===i?e.touches[0].clientX:e.touches[0].clientY;"function"===typeof n&&n(),this.setState({active:!0,position:o})}}},{key:"onMouseMove",value:function(e){var t=Object.assign({},e,{touches:[{clientX:e.clientX,clientY:e.clientY}]});this.onTouchMove(t)}},{key:"onTouchMove",value:function(e){var t=this.props,r=t.allowResize,n=t.maxSize,i=t.minSize,o=t.onChange,s=t.split,a=t.step,c=this.state,u=c.active,l=c.position;if(r&&u){To(document,window);var p="first"===this.props.primary,h=p?this.pane1:this.pane2,d=p?this.pane2:this.pane1;if(h){var f=h,m=d;if(f.getBoundingClientRect){var v=f.getBoundingClientRect().width,g=f.getBoundingClientRect().height,y="vertical"===s?v:g,b=l-("vertical"===s?e.touches[0].clientX:e.touches[0].clientY);if(a){if(Math.abs(b)<a)return;b=~~(b/a)*a}var S=p?b:-b;parseInt(window.getComputedStyle(f).order)>parseInt(window.getComputedStyle(m).order)&&(S=-S);var w=n;if(void 0!==n&&n<=0){var k=this.splitPane;w="vertical"===s?k.getBoundingClientRect().width+n:k.getBoundingClientRect().height+n}var E=y-S,O=l-b;E<i?E=i:void 0!==n&&E>w?E=w:this.setState({position:O,resized:!0}),o&&o(E),this.setState(yo({draggedSize:E},p?"pane1Size":"pane2Size",E))}}}}},{key:"onMouseUp",value:function(){var e=this.props,t=e.allowResize,r=e.onDragFinished,n=this.state,i=n.active,o=n.draggedSize;t&&i&&("function"===typeof r&&r(o),this.setState({active:!1}))}},{key:"render",value:function(){var e=this,t=this.props,r=t.allowResize,n=t.children,i=t.className,o=t.onResizerClick,a=t.onResizerDoubleClick,c=t.paneClassName,u=t.pane1ClassName,l=t.pane2ClassName,p=t.paneStyle,h=t.pane1Style,d=t.pane2Style,f=t.resizerClassName,m=t.resizerStyle,v=t.split,g=t.style,y=this.state,b=y.pane1Size,S=y.pane2Size,w=r?"":"disabled",k=f?"".concat(f," ").concat("Resizer"):f,E=function(e){return s.a.Children.toArray(e).filter((function(e){return e}))}(n),O=So({display:"flex",flex:1,height:"100%",position:"absolute",outline:"none",overflow:"hidden",MozUserSelect:"text",WebkitUserSelect:"text",msUserSelect:"text",userSelect:"text"},g);"vertical"===v?Object.assign(O,{flexDirection:"row",left:0,right:0}):Object.assign(O,{bottom:0,flexDirection:"column",minHeight:"100%",top:0,width:"100%"});var x=["SplitPane",i,v,w],C=So({},p,{},h),P=So({},p,{},d),T=["Pane1",c,u].join(" "),R=["Pane2",c,l].join(" ");return s.a.createElement("div",{className:x.join(" "),ref:function(t){e.splitPane=t},style:O},s.a.createElement(Co,{className:T,key:"pane1",eleRef:function(t){e.pane1=t},size:b,split:v,style:C},E[0]),s.a.createElement(Po,{className:w,onClick:o,onDoubleClick:a,onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,onTouchEnd:this.onMouseUp,key:"resizer",resizerClassName:k,split:v,style:m||{}}),s.a.createElement(Co,{className:R,key:"pane2",eleRef:function(t){e.pane2=t},size:S,split:v,style:P},E[1]))}}],[{key:"getDerivedStateFromProps",value:function(e,r){return t.getSizeUpdate(e,r)}},{key:"getSizeUpdate",value:function(e,t){var r={};if(t.instanceProps.size===e.size&&void 0!==e.size)return{};var n=void 0!==e.size?e.size:Ro(e.defaultSize,e.minSize,e.maxSize,t.draggedSize);void 0!==e.size&&(r.draggedSize=n);var i="first"===e.primary;return r[i?"pane1Size":"pane2Size"]=n,r[i?"pane2Size":"pane1Size"]=void 0,r.instanceProps={size:e.size},r}}]),t}(s.a.Component);Mo.propTypes={allowResize:c.a.bool,children:c.a.arrayOf(c.a.node).isRequired,className:c.a.string,primary:c.a.oneOf(["first","second"]),minSize:c.a.oneOfType([c.a.string,c.a.number]),maxSize:c.a.oneOfType([c.a.string,c.a.number]),defaultSize:c.a.oneOfType([c.a.string,c.a.number]),size:c.a.oneOfType([c.a.string,c.a.number]),split:c.a.oneOf(["vertical","horizontal"]),onDragStarted:c.a.func,onDragFinished:c.a.func,onChange:c.a.func,onResizerClick:c.a.func,onResizerDoubleClick:c.a.func,style:fo.a,resizerStyle:fo.a,paneClassName:c.a.string,pane1ClassName:c.a.string,pane2ClassName:c.a.string,paneStyle:fo.a,pane1Style:fo.a,pane2Style:fo.a,resizerClassName:c.a.string,step:c.a.number},Mo.defaultProps={allowResize:!0,minSize:50,primary:"first",split:"vertical",paneClassName:"",pane1ClassName:"",pane2ClassName:""},Yn(Mo);var Ao=Mo,Io=s.a.forwardRef((function(e,t){var r=e.bsPrefix,n=e.variant,i=e.size,o=e.active,a=e.className,c=e.block,u=e.type,l=e.as,p=v(e,["bsPrefix","variant","size","active","className","block","type","as"]),h=Xn(r,"btn"),d=Bn()(a,h,o&&"active",h+"-"+n,c&&h+"-block",i&&h+"-"+i);if(p.href)return s.a.createElement(bi,m({},p,{as:l,ref:t,className:Bn()(d,p.disabled&&"disabled")}));t&&(p.ref=t),l||(p.type=u);var f=l||"button";return(s.a.createElement(f,m({},p,{className:d})))}));Io.displayName="Button",Io.defaultProps={variant:"primary",active:!1,disabled:!1,type:"button"};var _o=Io,No=r("ma3e"),Do=r("KNWZ"),Fo=r.n(Do),jo=s.a.createElement;function Bo(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(lm){return!1}}();return function(){var r,n=Fn(e);if(t){var i=Fn(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Dn(this,r)}}var zo=function(e){In(r,e);var t=Bo(r);function r(){return Tn(this,r),t.apply(this,arguments)}return Mn(r,[{key:"render",value:function(){var e=this.props.application.bluePlateWorld.prixFixeWorld,t=this.props.application.cart;return 0===t.items.length?jo("div",{className:Fo.a.cartWelcome},jo("b",null,"Welcome to Short-Order! What can I get started for you?")):jo("div",{className:Fo.a.cart},jo("div",{style:{display:"flex",flexDirection:"row"}},jo("b",null,"Shopping Cart"),jo("div",{style:{flexGrow:1}}),jo(_o,{variant:"outline-primary",style:{border:"none"},onClick:this.props.onUndo},jo(No.p,null)),jo(_o,{variant:"outline-primary",style:{border:"none"},onClick:this.props.onClearCart},jo(No.l,null))),function e(t,r){return r.map((function(r){var n=t.catalog.getSpecific(r.key);return jo("div",{className:Fo.a.cartItem,key:r.uid},"".concat(r.quantity," ").concat(n.name," (").concat(n.sku,")"),e(t,r.children))}))}(e,t.items))}}]),r}(s.a.Component);var qo=X((function(e){return{application:e}}),(function(e){return{onClearCart:function(){e({type:dr.CLEAR_CART})},onUndo:function(){e({type:dr.UNDO})}}}))(zo),Lo=r("M39V"),Wo=r.n(Lo);function Uo(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(lm){return!1}}();return function(){var r,n=Fn(e);if(t){var i=Fn(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Dn(this,r)}}var $o=function(e){In(r,e);var t=Uo(r);function r(){var e;Tn(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return wr(Nn(e=t.call.apply(t,[this].concat(i))),"attempedChromeDetect",!1),e}return Mn(r,[{key:"render",value:function(){return null}},{key:"componentDidMount",value:function(){if(!this.attempedChromeDetect){this.attempedChromeDetect=!0,console.log("Attempting to detect chrome");var e;window;e="Chrome"===Wo.a.parse(window.navigator.userAgent).browser.name,console.log("this.props.speechSupported(isChrome)"),this.props.speechSupported(e)}}}]),r}(s.a.Component);var Ko=X(null,(function(e){return{speechSupported:function(t){e(br(t))}}}))($o),Ho=function(){},Go=s.a.forwardRef((function(e,t){var r=e.children,n=e.name,i=e.className,a=e.checked,c=e.type,u=e.onChange,l=e.value,p=e.disabled,h=e.inputRef,d=v(e,["children","name","className","checked","type","onChange","value","disabled","inputRef"]),f=Object(o.useState)(!1),g=f[0],y=f[1],b=Object(o.useCallback)((function(e){"INPUT"===e.target.tagName&&y(!0)}),[]),S=Object(o.useCallback)((function(e){"INPUT"===e.target.tagName&&y(!1)}),[]);return s.a.createElement(_o,m({},d,{ref:t,className:Bn()(i,g&&"focus",p&&"disabled"),type:null,active:!!a,as:"label"}),s.a.createElement("input",{name:n,type:c,value:l,ref:h,autoComplete:"off",checked:!!a,disabled:!!p,onFocus:b,onBlur:S,onChange:u||Ho}),r)}));Go.displayName="ToggleButton";var Vo=Go;var Yo=s.a.forwardRef((function(e,t){var r=e.bsPrefix,n=e.size,i=e.toggle,o=e.vertical,a=e.className,c=e.as,u=void 0===c?"div":c,l=v(e,["bsPrefix","size","toggle","vertical","className","as"]),p=Xn(r,"btn-group"),h=p;return o&&(h=p+"-vertical"),s.a.createElement(u,m({},l,{ref:t,className:Bn()(a,h,n&&p+"-"+n,i&&p+"-toggle")}))}));Yo.displayName="ButtonGroup",Yo.defaultProps={vertical:!1,toggle:!1,role:"group"};var Qo=Yo,Zo=s.a.forwardRef((function(e,t){var r=$n(e,{value:"onChange"}),n=r.children,i=r.type,o=r.name,a=r.value,c=r.onChange,u=v(r,["children","type","name","value","onChange"]),l=function(){return null==a?[]:[].concat(a)};return"radio"!==i||o||qn()(!1),s.a.createElement(Qo,m({},u,{ref:t,toggle:!0}),function(e,t){var r=0;return s.a.Children.map(e,(function(e){return s.a.isValidElement(e)?t(e,r++):e}))}(n,(function(e){var t=l(),r=e.props,n=r.value,a=r.onChange;return s.a.cloneElement(e,{type:i,name:e.name||o,checked:-1!==t.indexOf(n),onChange:vi(a,(function(e){return function(e,t){var r=l(),n=-1!==r.indexOf(e);"radio"!==i?c(n?r.filter((function(t){return t!==e})):[].concat(r,[e]),t):n||c(e,t)}(n,e)}))})})))}));Zo.defaultProps={type:"radio"},Zo.Button=Vo;var Jo=Zo,Xo=r("FG9h"),es=s.a.createElement;function ts(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(lm){return!1}}();return function(){var r,n=Fn(e);if(t){var i=Fn(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Dn(this,r)}}var rs,ns=Fo.a.graphShapeFiltered,is=(Fo.a.graphShapeWord,Fo.a.graphShapeToken),os=Fo.a.graphShapeSelected,ss=Fo.a.graphText,as=Fo.a.graphTextFiltered,cs=Fo.a.graphTextSelected,us=Fo.a.graphPath,ls=Fo.a.graphPathFiltered,ps=Fo.a.graphPathSelected,hs=function(e){In(r,e);var t=ts(r);function r(){return Tn(this,r),t.apply(this,arguments)}return Mn(r,[{key:"render",value:function(){var e=this.props.edge,t=e.selectedPath?os:e.filtered?ns:is,r=e.selectedPath?cs:e.filtered?as:ss,n=this.props.padding,i={x:e.x,y:e.y},o={x:2*n-2,y:.5*-e.textHeight-2,width:e.textWidth+4,height:e.textHeight+4},s={x:2*n,y:.1*-e.textHeight};return es("g",{transform:"translate(".concat(i.x," ").concat(i.y,")")},es("rect",m({},o,{className:t})),es("text",m({},s,{ref:e.control,className:r}),es("tspan",{style:{fontWeight:"bold"}},e.info.type),e.info.name,es("tspan",{x:2*n,dy:"1em"},"score=",e.info.score.toFixed(1),e.info.info)))}}]),r}(s.a.Component),ds=function(e){In(r,e);var t=ts(r);function r(){return Tn(this,r),t.apply(this,arguments)}return Mn(r,[{key:"render",value:function(){var e=this.props.edge,t=e.selectedPath?ps:e.filtered?ls:us;return es("path",{className:t,d:this.getPath()})}},{key:"getPath",value:function(){var e=this.props.padding,t=this.props.edge,r=e/2,n=t.x,i=t.x+t.width;return 0===t.y?"\n        M".concat(n,",",0,"\n        H").concat(i,"\n      "):t.y>0?"\n        M".concat(n,",",0,"\n        h").concat(r,"\n        a").concat(r,",").concat(r,",0,0,1,").concat(r,",").concat(r,"\n        V").concat(t.y-r,"\n        a").concat(r,",").concat(r,",0,0,0,").concat(r,",").concat(r,"\n        H").concat(i-3*r,"\n        a").concat(r,",").concat(r,",0,0,0,").concat(r,",").concat(-r,"\n        V").concat(r,"\n        a").concat(r,",").concat(r,",0,0,1,").concat(r,",").concat(-r,"\n        H").concat(i,"\n      "):"\n        M".concat(n,",",0,"\n        h").concat(r,"\n        a").concat(r,",").concat(r,",0,0,0,").concat(r,",").concat(-r,"\n        V").concat(t.y+r,"\n        a").concat(r,",").concat(r,",0,0,1,").concat(r,",").concat(-r,"\n        H").concat(i-3*r,"\n        a").concat(r,",").concat(r,",0,0,1,").concat(r,",").concat(r,"\n        V").concat(-r,"\n        a").concat(r,",").concat(r,",0,0,0,").concat(r,",").concat(r,"\n        H").concat(i,"\n      ")}}]),r}(s.a.Component);function fs(e,t){var r,n,i,o=e;switch(o.type){case Xr.ATTRIBUTE:r="ATTRIBUTE: ",n=o.name,i=", aid="+o.id;break;case Xr.ENTITY:r="PRODUCT: ",n=o.name,i=", pid="+o.pid;break;case Xo.NUMBERTOKEN:r="NUMBER: ",n=o.value.toString(),i="";break;case xr.OPTION:r="OPTION: ",n=o.name,i=", pid="+o.id;break;case Xr.OPTION_RECIPE:r="OPTION_RECIPE: ",n=o.name,i=", rid="+o.rid;break;case Xr.PRODUCT_RECIPE:r="PRODUCT_RECIPE: ",n=o.name,i=", rid="+o.rid;break;case Xr.QUANTITY:r="QUANTITY: ",n=o.value.toString(),i="";break;case Xr.UNIT:r="UNIT ",n="",i="";break;case Xr.WORD:r="WORD ",n=o.text,i="";break;default:var s=e.type.toString();r="".concat(s.slice(7,s.length-1)),n="",i=""}return{type:r,name:n,info:i,score:t}}function ms(e,t){var r;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"===typeof e)return vs(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vs(e,t)}(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return s=e.done,e},e:function(e){a=!0,o=e},f:function(){try{s||null==r.return||r.return()}finally{if(a)throw o}}}}function vs(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}!function(e){e.WORD="WORD",e.TOKEN="TOKEN",e.SELECTED="SELECTED"}(rs||(rs={}));var gs=function e(t,r,n,i){Tn(this,e),wr(this,"startCol",void 0),wr(this,"endCol",void 0),wr(this,"info",void 0),wr(this,"length",void 0),wr(this,"control",void 0),wr(this,"textWidth",void 0),wr(this,"textHeight",void 0),wr(this,"width",void 0),wr(this,"height",void 0),wr(this,"x",void 0),wr(this,"y",void 0),wr(this,"row",void 0),wr(this,"selectedPath",void 0),wr(this,"filtered",void 0),wr(this,"treatment",void 0),this.startCol=t,this.endCol=r,this.info=n,this.treatment=i,this.selectedPath=!1,this.filtered=!1,this.length=r-t,this.control=s.a.createRef(),this.textWidth=0,this.textHeight=0,this.width=0,this.height=0,this.x=0,this.y=0},ys=function(){function e(t){Tn(this,e),wr(this,"edges",[]),wr(this,"height",0),wr(this,"y",0);for(var r=0;r<t;++r)this.edges.push(null)}return Mn(e,[{key:"tryAssign",value:function(e){for(var t=e.startCol;t<e.endCol;++t)if(this.edges[t])return!1;for(var r=e.startCol;r<e.endCol;++r)this.edges[r]=e;return e.row=this,!0}},{key:"setHeight",value:function(){this.height=0;var e,t=ms(this.edges);try{for(t.s();!(e=t.n()).done;){var r=e.value;r&&r.height>this.height&&(this.height=r.height)}}catch(n){t.e(n)}finally{t.f()}}}]),e}(),bs=function(){function e(t,r){Tn(this,e),wr(this,"xPadding",20),wr(this,"yPadding",15),wr(this,"edges",void 0),wr(this,"paths",void 0),wr(this,"subgraph",void 0),wr(this,"selectedPathIndex",void 0),wr(this,"columns",[]),wr(this,"rows",[]),wr(this,"boundingBox",{x1:0,x2:0,y1:0,y2:0}),wr(this,"measurePassId",Symbol("measure")),r.sort((function(e,t){var r=e.length-t.length;return r||((r=e.startCol-t.startCol)||(e.treatment===t.treatment?0:e.treatment===rs.WORD?-1:1))})),this.edges=r,this.paths=[],this.subgraph=void 0,this.selectedPathIndex=0;for(var n=0;n<=t;++n)this.columns.push({x1:0,x2:0,in:[],out:[]});var i,o=ms(r);try{for(o.s();!(i=o.n()).done;){var s=i.value;this.columns[s.startCol].out.push(s),this.columns[s.endCol].in.push(s)}}catch(a){o.e(a)}finally{o.f()}}return Mn(e,[{key:"setPathList",value:function(e,t){this.paths=e,this.subgraph=t,this.selectedPathIndex=0}},{key:"getPathCount",value:function(){return this.paths.length}},{key:"select",value:function(e,t){this.selectedPathIndex=e;var r,n=this.paths[e],i=ms(this.edges);try{for(i.s();!(r=i.n()).done;){var o=r.value;o.selectedPath=n.has(o),o.filtered=this.subgraph&&!this.subgraph.has(o)}}catch(s){i.e(s)}finally{i.f()}}},{key:"measure",value:function(){this.measurePassId=Symbol("measure");var e,t=ms(this.edges);try{for(t.s();!(e=t.n()).done;){var r=e.value,n=r.control.current.getBBox(),i=n.width,o=n.height;r.textWidth=i,r.textHeight=o,r.width=0,r.height=o+2*this.yPadding}}catch(s){t.e(s)}finally{t.f()}}},{key:"layout",value:function(){var e,t=ms(this.columns);try{for(t.s();!(e=t.n()).done;){var r=e.value;r.x1=0,r.x2=0}}catch(C){t.e(C)}finally{t.f()}var n,i=ms(this.columns);try{for(i.s();!(n=i.n()).done;){var o=n.value;o.x1=0;var s,a=ms(o.in);try{for(a.s();!(s=a.n()).done;){var c=s.value,u=c.x+c.textWidth+4*this.xPadding;u>o.x1&&(o.x1=u)}}catch(C){a.e(C)}finally{a.f()}var l,p=ms(o.in);try{for(p.s();!(l=p.n()).done;){var h=l.value;h.width=o.x1-h.x}}catch(C){p.e(C)}finally{p.f()}var d,f=ms(o.out);try{for(f.s();!(d=f.n()).done;){d.value.x=o.x1}}catch(C){f.e(C)}finally{f.f()}}}catch(C){i.e(C)}finally{i.f()}var m,v=ms(this.edges);try{for(v.s();!(m=v.n()).done;){var g=m.value;this.assign(g)}}catch(C){v.e(C)}finally{v.f()}var y,b=ms(this.rows);try{for(b.s();!(y=b.n()).done;){y.value.setHeight()}}catch(C){b.e(C)}finally{b.f()}this.rows[0].y=0;for(var S=this.rows[0].height/2+this.yPadding,w=1;w<this.rows.length;w+=2)this.rows[w].y=S,S+=this.rows[w].height/2+this.yPadding;S=-this.rows[0].height/2-this.yPadding;for(var k=2;k<this.rows.length;k+=2)this.rows[k].y=S,S-=this.rows[k].height/2+this.yPadding;var E,O=ms(this.edges);try{for(O.s();!(E=O.n()).done;){var x=E.value;x.y=x.row.y}}catch(C){O.e(C)}finally{O.f()}this.boundingBox=this.edges.reduce((function(e,t){var r=t.x,n=t.x+t.width,i=t.y-t.textHeight/2,o=t.y+t.textHeight/2;return e.x1=void 0===e.x1||r<e.x1?r:e.x1,e.x2=void 0===e.x2||n>e.x2?n:e.x2,e.y1=void 0===e.y1||i<e.y1?i:e.y1,e.y2=void 0===e.y2||o>e.y2?o:e.y2,e}),{})}},{key:"assign",value:function(e){var t,r=ms(this.rows);try{for(r.s();!(t=r.n()).done;){if(t.value.tryAssign(e))return}}catch(i){r.e(i)}finally{r.f()}var n=new ys(this.columns.length);this.rows.push(n),n.tryAssign(e)}},{key:"getSpan",value:function(e,t){if(e!==t){for(var r=Math.min(e,t),n=Math.max(e,t),i=[],o=0;o<this.columns.length-1;++o){var s=this.columns[o].x1;r<=this.columns[o+1].x1&&n>=s&&i.push(o)}if(0!==i.length){if(1===i.length)return{start:i[0],length:1};var a=i[0];return{start:a,length:i[i.length-1]-a+1}}}}}]),e}();function Ss(e,t){var r;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"===typeof e)return ws(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ws(e,t)}(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return s=e.done,e},e:function(e){a=!0,o=e},f:function(){try{s||null==r.return||r.return()}finally{if(a)throw o}}}}function ws(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ks=function(){function e(t,r,n){var i=this;Tn(this,e),wr(this,"attributeInfo",void 0),wr(this,"lexer",void 0),wr(this,"cart",void 0),wr(this,"filteredGraph",void 0),wr(this,"tfEdgeToEdge",new Map),wr(this,"maximalPaths",void 0),wr(this,"layout",void 0),this.attributeInfo=t.attributeInfo,this.lexer=t.lexer,this.cart=n;var o=t.lexer.lexicon.termModel.breakWords(r),s=t.lexer.createGraph(r),a=Object(Xo.coalesceGraph)(t.lexer.tokenizer,s);this.filteredGraph=Object(Xo.filterGraph)(a,.35);var c,u=Or(Object(Xo.maximalPaths)(this.filteredGraph.edgeLists)).map((function(e){return new Set(e)})),l=[],p=Ss(this.filteredGraph.edgeLists.entries());try{for(p.s();!(c=p.n()).done;){var h,d=en(c.value,2),f=d[0],m=Ss(d[1]);try{for(m.s();!(h=m.n()).done;){var v=h.value,g=fs(v.token,v.score);if("UNKNOWNTOKEN"===g.type&&0===v.score&&1===v.length){var y={type:"WORD: ",name:o[f],info:"",score:0},b=new gs(f,f+1,y,rs.WORD);this.tfEdgeToEdge.set(v,b),l.push(b)}else{var S=new gs(f,f+v.length,g,rs.TOKEN);this.tfEdgeToEdge.set(v,S),l.push(S)}}}catch(w){m.e(w)}finally{m.f()}}}catch(w){p.e(w)}finally{p.f()}this.maximalPaths=u.map((function(e){return new Set(Or(e.values()).map((function(e){return i.tfEdgeToEdge.get(e)})))})),this.layout=new bs(a.edgeLists.length,l),this.layout.setPathList(this.maximalPaths,void 0)}return Mn(e,[{key:"setSpan",value:function(e){var t=this;if(e){var r,n=this.attributeInfo,i=this.lexer,o=Object(Xr.subgraphFromItems)(n,i,this.cart,this.filteredGraph,e,!0),s=Or(Object(Xo.allPaths)(o.edgeLists)).map((function(e){return new Set(e)})).map((function(e){return new Set(Or(e.values()).map((function(e){return t.tfEdgeToEdge.get(e)})))})),a=new Set,c=Ss(s);try{for(c.s();!(r=c.n()).done;){var u,l=Ss(r.value);try{for(l.s();!(u=l.n()).done;){var p=u.value;a.add(p)}}catch(h){l.e(h)}finally{l.f()}}}catch(h){c.e(h)}finally{c.f()}this.layout.setPathList(s,a)}else this.layout.setPathList(this.maximalPaths,void 0)}}]),e}(),Es=s.a.createElement;function Os(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(lm){return!1}}();return function(){var r,n=Fn(e);if(t){var i=Fn(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Dn(this,r)}}var xs=Fo.a.graphSelectionRectangle,Cs=function(e){In(r,e);var t=Os(r);function r(e){var n;return Tn(this,r),wr(Nn(n=t.call(this,e)),"transcription",void 0),wr(Nn(n),"graphBuilder",void 0),wr(Nn(n),"layout",void 0),wr(Nn(n),"measurePassId",void 0),wr(Nn(n),"span",void 0),n.state={measurePassId:Symbol(),pathIndex:0,cartFilter:!1,selecting:!1,x1:0,x2:0},n.graphBuilder=new ks(n.props.shortOrderWorld,n.props.transcription,n.props.cart),n.layout=n.graphBuilder.layout,n.onPathSelected=n.onPathSelected.bind(Nn(n)),n.onSetCartFilter=n.onSetCartFilter.bind(Nn(n)),n.onMouseDown=n.onMouseDown.bind(Nn(n)),n.onMouseMove=n.onMouseMove.bind(Nn(n)),n.onMouseUp=n.onMouseUp.bind(Nn(n)),n}return Mn(r,[{key:"onMouseDown",value:function(e){e.currentTarget.setPointerCapture(e.pointerId);var t=e.nativeEvent.offsetX;console.log("mouse down (".concat(t,",--)")),this.setState({selecting:!0,x1:t,x2:t}),e.preventDefault()}},{key:"onMouseMove",value:function(e){if(this.state.selecting){var t=e.nativeEvent.offsetX;console.log("mouse move (".concat(t,",--)")),this.setState({x2:t}),e.preventDefault()}}},{key:"onMouseUp",value:function(e){e.currentTarget.releasePointerCapture(e.pointerId);var t=e.nativeEvent.offsetX;console.log("mouse up (".concat(t,",--)"));var r=this.layout.getSpan(this.state.x1,t);r?console.log("span: start=".concat(r.start,", length=").concat(r.length)):console.log("span undefined"),this.setState({selecting:!1,span:r,pathIndex:0}),e.preventDefault()}},{key:"render",value:function(){var e=this;console.log("GraphControl.render()"),this.span!==this.state.span&&(console.log("Old span: ".concat(JSON.stringify(this.span))),console.log("New span: ".concat(JSON.stringify(this.state.span))),this.span=this.state.span,this.graphBuilder.setSpan(this.state.span)),console.log("this.layout.select(".concat(this.state.pathIndex,", ").concat(this.state.cartFilter,")")),this.layout.select(this.state.pathIndex,this.span);var t=this.layout.edges.filter((function(e){return e.selectedPath})),r=this.layout.edges.filter((function(e){return!e.selectedPath})),n=this.layout.boundingBox;n&&Es("rect",{x:n.x1,y:n.y1,width:n.x2-n.x1,height:n.y2-n.y1,style:{stroke:"blue",fill:"lightgray"}});var i="translate(".concat(n.x1+20,",").concat(20-n.y1,")"),o="".concat(n.x2-n.x1+40,"px"),s="".concat(n.y2-n.y1+40,"px"),a=this.layout.edges.reduce((function(e,t){return e+(t.selectedPath?t.info.score:0)}),0);return Es("div",{style:{display:"flex",flexDirection:"column",width:"100%",height:"100%",userSelect:"none"}},Es("div",{style:{overflow:"auto",flexGrow:1}},Es("div",{style:{width:o,height:s},onPointerDown:this.onMouseDown,onPointerUp:this.onMouseUp,onPointerMove:this.onMouseMove},Es("svg",{style:{width:o,height:s}},Es("g",{transform:i},this.renderSelection(n.y2-n.y1+40),this.layout.columns.map((function(e,t){return Es("circle",{key:t,cx:e.x1,cy:0,r:5,className:Fo.a.graphVertex})})),r.map((function(t,r){return Es(ds,{key:r,edge:t,padding:e.layout.xPadding})})),t.map((function(t,r){return Es("g",{key:r},Es(ds,{edge:t,padding:e.layout.xPadding}),Es("circle",{cx:t.x,cy:0,r:5,className:Fo.a.graphVertexSelected}),Es("circle",{cx:t.x+t.width,cy:0,r:5,className:Fo.a.graphVertexSelected}))})),this.layout.edges.map((function(t,r){return Es(hs,{key:r,edge:t,padding:e.layout.xPadding})})))))),Es("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",backgroundColor:"lightgreen"}},Es("div",{style:{fontWeight:"bold",marginLeft:"1em",marginRight:"1em"}},this.state.span?"Filtered ":"","Paths:"),this.renderPathSelectionControls(),Es("div",{style:{flexGrow:1}}),Es("div",{style:{fontWeight:"bold",marginLeft:"1em",marginRight:"1em"}},"Score: ",a)))}},{key:"renderSelection",value:function(e){if(this.state.selecting){var t=Math.min(this.state.x1,this.state.x2)-20,r=Math.max(this.state.x1,this.state.x2)-20-t;return Es("rect",{x:t,y:-1e3,width:r,height:2e3,className:xs})}return null}},{key:"onPathSelected",value:function(e){this.setState({pathIndex:e})}},{key:"onSetCartFilter",value:function(e){this.setState({cartFilter:e})}},{key:"renderPathSelectionControls",value:function(){for(var e=[],t=0;t<this.layout.getPathCount();++t)e.push(Es(Vo,{key:t,value:t,name:"options"},t));var r=this.state.span?"subgraph":"completegraph";return Es(Jo,{type:"radio",key:r,name:"options",value:this.state.pathIndex,onChange:this.onPathSelected},e)}},{key:"componentDidMount",value:function(){this.layout.measure(),this.layout.layout(),this.setState({measurePassId:this.layout.measurePassId})}},{key:"componentDidUpdate",value:function(){this.layout.measurePassId!==this.state.measurePassId?(console.log("  measure and layout"),this.layout.measure(),this.layout.layout(),this.setState({measurePassId:this.layout.measurePassId})):console.log("  skip measure and layout")}}]),r}(s.a.Component);var Ps=X((function(e){var t=e.bluePlateWorld;return e.transcription,{shortOrderWorld:t.shortOrderWorld}}))(Cs),Ts=s.a.createElement;function Rs(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(lm){return!1}}();return function(){var r,n=Fn(e);if(t){var i=Fn(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Dn(this,r)}}var Ms=function(e){In(r,e);var t=Rs(r);function r(){return Tn(this,r),t.apply(this,arguments)}return Mn(r,[{key:"render",value:function(){return Ts(Ps,{cart:this.props.application.cart,key:this.props.application.transcription,transcription:this.props.application.transcription})}}]),r}(s.a.Component);var As,Is=X((function(e){return{application:e}}))(Ms),_s=r("Gd76"),Ns=r.n(_s);function Ds(e){var t=Object(o.useRef)(null);return Object(o.useEffect)((function(){t.current=e})),t.current}function Fs(){return Object(o.useState)(null)}var js=s.a.createContext(null);function Bs(){var e=Object(o.useRef)(!0),t=Object(o.useRef)((function(){return e.current}));return Object(o.useEffect)((function(){return function(){e.current=!1}}),[]),t.current}var zs=function(e){var t=Bs();return[e[0],Object(o.useCallback)((function(r){if(t())return e[1](r)}),[t,e[1]])]};function qs(e){return e.split("-")[0]}function Ls(e){return{x:e.offsetLeft,y:e.offsetTop,width:e.offsetWidth,height:e.offsetHeight}}function Ws(e,t){var r=Boolean(t.getRootNode&&t.getRootNode().host);if(e.contains(t))return!0;if(r){var n=t;do{if(n&&e.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function Us(e){if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t?t.defaultView:window}return e}function $s(e){return e?(e.nodeName||"").toLowerCase():null}function Ks(e){return Us(e).getComputedStyle(e)}function Hs(e){return e instanceof Us(e).Element||e instanceof Element}function Gs(e){return e instanceof Us(e).HTMLElement||e instanceof HTMLElement}function Vs(e){return["table","td","th"].indexOf($s(e))>=0}function Ys(e){return(Hs(e)?e.ownerDocument:e.document).documentElement}function Qs(e){return"html"===$s(e)?e:e.assignedSlot||e.parentNode||e.host||Ys(e)}function Zs(e){return Gs(e)&&"fixed"!==Ks(e).position?e.offsetParent:null}function Js(e){for(var t=Us(e),r=Zs(e);r&&Vs(r)&&"static"===Ks(r).position;)r=Zs(r);return r&&"body"===$s(r)&&"static"===Ks(r).position?t:r||function(e){for(var t=Qs(e);Gs(t)&&["html","body"].indexOf($s(t))<0;){var r=Ks(t);if("none"!==r.transform||"none"!==r.perspective||"auto"!==r.willChange)return t;t=t.parentNode}return null}(e)||t}function Xs(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function ea(e,t,r){return Math.max(e,Math.min(t,r))}function ta(e){return Object.assign(Object.assign({},{top:0,right:0,bottom:0,left:0}),e)}function ra(e,t){return t.reduce((function(t,r){return t[r]=e,t}),{})}var na="top",ia="bottom",oa="right",sa="left",aa="auto",ca=[na,ia,oa,sa],ua="start",la="end",pa="clippingParents",ha="viewport",da="popper",fa="reference",ma=ca.reduce((function(e,t){return e.concat([t+"-"+ua,t+"-"+la])}),[]),va=[].concat(ca,[aa]).reduce((function(e,t){return e.concat([t,t+"-"+ua,t+"-"+la])}),[]),ga=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];var ya={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,r=e.state,n=e.name,i=r.elements.arrow,o=r.modifiersData.popperOffsets,s=qs(r.placement),a=Xs(s),c=[sa,oa].indexOf(s)>=0?"height":"width";if(i&&o){var u=r.modifiersData[n+"#persistent"].padding,l=Ls(i),p="y"===a?na:sa,h="y"===a?ia:oa,d=r.rects.reference[c]+r.rects.reference[a]-o[a]-r.rects.popper[c],f=o[a]-r.rects.reference[a],m=Js(i),v=m?"y"===a?m.clientHeight||0:m.clientWidth||0:0,g=d/2-f/2,y=u[p],b=v-l[c]-u[h],S=v/2-l[c]/2+g,w=ea(y,S,b),k=a;r.modifiersData[n]=((t={})[k]=w,t.centerOffset=w-S,t)}},effect:function(e){var t=e.state,r=e.options,n=e.name,i=r.element,o=void 0===i?"[data-popper-arrow]":i,s=r.padding,a=void 0===s?0:s;null!=o&&("string"!==typeof o||(o=t.elements.popper.querySelector(o)))&&Ws(t.elements.popper,o)&&(t.elements.arrow=o,t.modifiersData[n+"#persistent"]={padding:ta("number"!==typeof a?a:ra(a,ca))})},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]},ba={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Sa(e){var t,r=e.popper,n=e.popperRect,i=e.placement,o=e.offsets,s=e.position,a=e.gpuAcceleration,c=e.adaptive,u=function(e){var t=e.x,r=e.y,n=window.devicePixelRatio||1;return{x:Math.round(t*n)/n||0,y:Math.round(r*n)/n||0}}(o),l=u.x,p=u.y,h=o.hasOwnProperty("x"),d=o.hasOwnProperty("y"),f=sa,m=na,v=window;if(c){var g=Js(r);g===Us(r)&&(g=Ys(r)),i===na&&(m=ia,p-=g.clientHeight-n.height,p*=a?1:-1),i===sa&&(f=oa,l-=g.clientWidth-n.width,l*=a?1:-1)}var y,b=Object.assign({position:s},c&&ba);return a?Object.assign(Object.assign({},b),{},((y={})[m]=d?"0":"",y[f]=h?"0":"",y.transform=(v.devicePixelRatio||1)<2?"translate("+l+"px, "+p+"px)":"translate3d("+l+"px, "+p+"px, 0)",y)):Object.assign(Object.assign({},b),{},((t={})[m]=d?p+"px":"",t[f]=h?l+"px":"",t.transform="",t))}var wa={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,r=e.options,n=r.gpuAcceleration,i=void 0===n||n,o=r.adaptive,s=void 0===o||o,a={placement:qs(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign(Object.assign({},t.styles.popper),Sa(Object.assign(Object.assign({},a),{},{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign(Object.assign({},t.styles.arrow),Sa(Object.assign(Object.assign({},a),{},{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1})))),t.attributes.popper=Object.assign(Object.assign({},t.attributes.popper),{},{"data-popper-placement":t.placement})},data:{}},ka={passive:!0};var Ea={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,r=e.instance,n=e.options,i=n.scroll,o=void 0===i||i,s=n.resize,a=void 0===s||s,c=Us(t.elements.popper),u=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&u.forEach((function(e){e.addEventListener("scroll",r.update,ka)})),a&&c.addEventListener("resize",r.update,ka),function(){o&&u.forEach((function(e){e.removeEventListener("scroll",r.update,ka)})),a&&c.removeEventListener("resize",r.update,ka)}},data:{}},Oa={left:"right",right:"left",bottom:"top",top:"bottom"};function xa(e){return e.replace(/left|right|bottom|top/g,(function(e){return Oa[e]}))}var Ca={start:"end",end:"start"};function Pa(e){return e.replace(/start|end/g,(function(e){return Ca[e]}))}function Ta(e){var t=e.getBoundingClientRect();return{width:t.width,height:t.height,top:t.top,right:t.right,bottom:t.bottom,left:t.left,x:t.left,y:t.top}}function Ra(e){var t=Us(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function Ma(e){return Ta(Ys(e)).left+Ra(e).scrollLeft}function Aa(e){var t=Ks(e),r=t.overflow,n=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(r+i+n)}function Ia(e,t){void 0===t&&(t=[]);var r=function e(t){return["html","body","#document"].indexOf($s(t))>=0?t.ownerDocument.body:Gs(t)&&Aa(t)?t:e(Qs(t))}(e),n="body"===$s(r),i=Us(r),o=n?[i].concat(i.visualViewport||[],Aa(r)?r:[]):r,s=t.concat(o);return n?s:s.concat(Ia(Qs(o)))}function _a(e){return Object.assign(Object.assign({},e),{},{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Na(e,t){return t===ha?_a(function(e){var t=Us(e),r=Ys(e),n=t.visualViewport,i=r.clientWidth,o=r.clientHeight,s=0,a=0;return n&&(i=n.width,o=n.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(s=n.offsetLeft,a=n.offsetTop)),{width:i,height:o,x:s+Ma(e),y:a}}(e)):Gs(t)?function(e){var t=Ta(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}(t):_a(function(e){var t=Ys(e),r=Ra(e),n=e.ownerDocument.body,i=Math.max(t.scrollWidth,t.clientWidth,n?n.scrollWidth:0,n?n.clientWidth:0),o=Math.max(t.scrollHeight,t.clientHeight,n?n.scrollHeight:0,n?n.clientHeight:0),s=-r.scrollLeft+Ma(e),a=-r.scrollTop;return"rtl"===Ks(n||t).direction&&(s+=Math.max(t.clientWidth,n?n.clientWidth:0)-i),{width:i,height:o,x:s,y:a}}(Ys(e)))}function Da(e,t,r){var n="clippingParents"===t?function(e){var t=Ia(e),r=["absolute","fixed"].indexOf(Ks(e).position)>=0&&Gs(e)?Js(e):e;return Hs(r)?t.filter((function(e){return Hs(e)&&Ws(e,r)})):[]}(e):[].concat(t),i=[].concat(n,[r]),o=i[0],s=i.reduce((function(t,r){var n=Na(e,r);return t.top=Math.max(n.top,t.top),t.right=Math.min(n.right,t.right),t.bottom=Math.min(n.bottom,t.bottom),t.left=Math.max(n.left,t.left),t}),Na(e,o));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function Fa(e){return e.split("-")[1]}function ja(e){var t,r=e.reference,n=e.element,i=e.placement,o=i?qs(i):null,s=i?Fa(i):null,a=r.x+r.width/2-n.width/2,c=r.y+r.height/2-n.height/2;switch(o){case na:t={x:a,y:r.y-n.height};break;case ia:t={x:a,y:r.y+r.height};break;case oa:t={x:r.x+r.width,y:c};break;case sa:t={x:r.x-n.width,y:c};break;default:t={x:r.x,y:r.y}}var u=o?Xs(o):null;if(null!=u){var l="y"===u?"height":"width";switch(s){case ua:t[u]=Math.floor(t[u])-Math.floor(r[l]/2-n[l]/2);break;case la:t[u]=Math.floor(t[u])+Math.ceil(r[l]/2-n[l]/2)}}return t}function Ba(e,t){void 0===t&&(t={});var r=t,n=r.placement,i=void 0===n?e.placement:n,o=r.boundary,s=void 0===o?pa:o,a=r.rootBoundary,c=void 0===a?ha:a,u=r.elementContext,l=void 0===u?da:u,p=r.altBoundary,h=void 0!==p&&p,d=r.padding,f=void 0===d?0:d,m=ta("number"!==typeof f?f:ra(f,ca)),v=l===da?fa:da,g=e.elements.reference,y=e.rects.popper,b=e.elements[h?v:l],S=Da(Hs(b)?b:b.contextElement||Ys(e.elements.popper),s,c),w=Ta(g),k=ja({reference:w,element:y,strategy:"absolute",placement:i}),E=_a(Object.assign(Object.assign({},y),k)),O=l===da?E:w,x={top:S.top-O.top+m.top,bottom:O.bottom-S.bottom+m.bottom,left:S.left-O.left+m.left,right:O.right-S.right+m.right},C=e.modifiersData.offset;if(l===da&&C){var P=C[i];Object.keys(x).forEach((function(e){var t=[oa,ia].indexOf(e)>=0?1:-1,r=[na,ia].indexOf(e)>=0?"y":"x";x[e]+=P[r]*t}))}return x}var za={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,r=e.options,n=e.name;if(!t.modifiersData[n]._skip){for(var i=r.mainAxis,o=void 0===i||i,s=r.altAxis,a=void 0===s||s,c=r.fallbackPlacements,u=r.padding,l=r.boundary,p=r.rootBoundary,h=r.altBoundary,d=r.flipVariations,f=void 0===d||d,m=r.allowedAutoPlacements,v=t.options.placement,g=qs(v),y=c||(g===v||!f?[xa(v)]:function(e){if(qs(e)===aa)return[];var t=xa(e);return[Pa(e),t,Pa(t)]}(v)),b=[v].concat(y).reduce((function(e,r){return e.concat(qs(r)===aa?function(e,t){void 0===t&&(t={});var r=t,n=r.placement,i=r.boundary,o=r.rootBoundary,s=r.padding,a=r.flipVariations,c=r.allowedAutoPlacements,u=void 0===c?va:c,l=Fa(n),p=(l?a?ma:ma.filter((function(e){return Fa(e)===l})):ca).filter((function(e){return u.indexOf(e)>=0})).reduce((function(t,r){return t[r]=Ba(e,{placement:r,boundary:i,rootBoundary:o,padding:s})[qs(r)],t}),{});return Object.keys(p).sort((function(e,t){return p[e]-p[t]}))}(t,{placement:r,boundary:l,rootBoundary:p,padding:u,flipVariations:f,allowedAutoPlacements:m}):r)}),[]),S=t.rects.reference,w=t.rects.popper,k=new Map,E=!0,O=b[0],x=0;x<b.length;x++){var C=b[x],P=qs(C),T=Fa(C)===ua,R=[na,ia].indexOf(P)>=0,M=R?"width":"height",A=Ba(t,{placement:C,boundary:l,rootBoundary:p,altBoundary:h,padding:u}),I=R?T?oa:sa:T?ia:na;S[M]>w[M]&&(I=xa(I));var _=xa(I),N=[];if(o&&N.push(A[P]<=0),a&&N.push(A[I]<=0,A[_]<=0),N.every((function(e){return e}))){O=C,E=!1;break}k.set(C,N)}if(E)for(var D=function(e){var t=b.find((function(t){var r=k.get(t);if(r)return r.slice(0,e).every((function(e){return e}))}));if(t)return O=t,"break"},F=f?3:1;F>0;F--){if("break"===D(F))break}t.placement!==O&&(t.modifiersData[n]._skip=!0,t.placement=O,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function qa(e,t,r){return void 0===r&&(r={x:0,y:0}),{top:e.top-t.height-r.y,right:e.right-t.width+r.x,bottom:e.bottom-t.height+r.y,left:e.left-t.width-r.x}}function La(e){return[na,oa,ia,sa].some((function(t){return e[t]>=0}))}var Wa={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,r=e.name,n=t.rects.reference,i=t.rects.popper,o=t.modifiersData.preventOverflow,s=Ba(t,{elementContext:"reference"}),a=Ba(t,{altBoundary:!0}),c=qa(s,n),u=qa(a,i,o),l=La(c),p=La(u);t.modifiersData[r]={referenceClippingOffsets:c,popperEscapeOffsets:u,isReferenceHidden:l,hasPopperEscaped:p},t.attributes.popper=Object.assign(Object.assign({},t.attributes.popper),{},{"data-popper-reference-hidden":l,"data-popper-escaped":p})}};var Ua={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,r=e.options,n=e.name,i=r.offset,o=void 0===i?[0,0]:i,s=va.reduce((function(e,r){return e[r]=function(e,t,r){var n=qs(e),i=[sa,na].indexOf(n)>=0?-1:1,o="function"===typeof r?r(Object.assign(Object.assign({},t),{},{placement:e})):r,s=o[0],a=o[1];return s=s||0,a=(a||0)*i,[sa,oa].indexOf(n)>=0?{x:a,y:s}:{x:s,y:a}}(r,t.rects,o),e}),{}),a=s[t.placement],c=a.x,u=a.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=c,t.modifiersData.popperOffsets.y+=u),t.modifiersData[n]=s}};var $a={name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,r=e.name;t.modifiersData[r]=ja({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}};var Ka={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,r=e.options,n=e.name,i=r.mainAxis,o=void 0===i||i,s=r.altAxis,a=void 0!==s&&s,c=r.boundary,u=r.rootBoundary,l=r.altBoundary,p=r.padding,h=r.tether,d=void 0===h||h,f=r.tetherOffset,m=void 0===f?0:f,v=Ba(t,{boundary:c,rootBoundary:u,padding:p,altBoundary:l}),g=qs(t.placement),y=Fa(t.placement),b=!y,S=Xs(g),w="x"===S?"y":"x",k=t.modifiersData.popperOffsets,E=t.rects.reference,O=t.rects.popper,x="function"===typeof m?m(Object.assign(Object.assign({},t.rects),{},{placement:t.placement})):m,C={x:0,y:0};if(k){if(o){var P="y"===S?na:sa,T="y"===S?ia:oa,R="y"===S?"height":"width",M=k[S],A=k[S]+v[P],I=k[S]-v[T],_=d?-O[R]/2:0,N=y===ua?E[R]:O[R],D=y===ua?-O[R]:-E[R],F=t.elements.arrow,j=d&&F?Ls(F):{width:0,height:0},B=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},z=B[P],q=B[T],L=ea(0,E[R],j[R]),W=b?E[R]/2-_-L-z-x:N-L-z-x,U=b?-E[R]/2+_+L+q+x:D+L+q+x,$=t.elements.arrow&&Js(t.elements.arrow),K=$?"y"===S?$.clientTop||0:$.clientLeft||0:0,H=t.modifiersData.offset?t.modifiersData.offset[t.placement][S]:0,G=k[S]+W-H-K,V=k[S]+U-H,Y=ea(d?Math.min(A,G):A,M,d?Math.max(I,V):I);k[S]=Y,C[S]=Y-M}if(a){var Q="x"===S?na:sa,Z="x"===S?ia:oa,J=k[w],X=ea(J+v[Q],J,J-v[Z]);k[w]=X,C[w]=X-J}t.modifiersData[n]=C}},requiresIfExists:["offset"]};function Ha(e,t,r){void 0===r&&(r=!1);var n=Ys(t),i=Ta(e),o=Gs(t),s={scrollLeft:0,scrollTop:0},a={x:0,y:0};return(o||!o&&!r)&&(("body"!==$s(t)||Aa(n))&&(s=function(e){return e!==Us(e)&&Gs(e)?{scrollLeft:(t=e).scrollLeft,scrollTop:t.scrollTop}:Ra(e);var t}(t)),Gs(t)?((a=Ta(t)).x+=t.clientLeft,a.y+=t.clientTop):n&&(a.x=Ma(n))),{x:i.left+s.scrollLeft-a.x,y:i.top+s.scrollTop-a.y,width:i.width,height:i.height}}function Ga(e){var t=new Map,r=new Set,n=[];return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){r.has(e.name)||function e(i){r.add(i.name),[].concat(i.requires||[],i.requiresIfExists||[]).forEach((function(n){if(!r.has(n)){var i=t.get(n);i&&e(i)}})),n.push(i)}(e)})),n}function Va(e){var t;return function(){return t||(t=new Promise((function(r){Promise.resolve().then((function(){t=void 0,r(e())}))}))),t}}var Ya={placement:"bottom",modifiers:[],strategy:"absolute"};function Qa(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return!t.some((function(e){return!(e&&"function"===typeof e.getBoundingClientRect)}))}function Za(e){void 0===e&&(e={});var t=e,r=t.defaultModifiers,n=void 0===r?[]:r,i=t.defaultOptions,o=void 0===i?Ya:i;return function(e,t,r){void 0===r&&(r=o);var i={placement:"bottom",orderedModifiers:[],options:Object.assign(Object.assign({},Ya),o),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},s=[],a=!1,c={state:i,setOptions:function(r){u(),i.options=Object.assign(Object.assign(Object.assign({},o),i.options),r),i.scrollParents={reference:Hs(e)?Ia(e):e.contextElement?Ia(e.contextElement):[],popper:Ia(t)};var a=function(e){var t=Ga(e);return ga.reduce((function(e,r){return e.concat(t.filter((function(e){return e.phase===r})))}),[])}(function(e){var t=e.reduce((function(e,t){var r=e[t.name];return e[t.name]=r?Object.assign(Object.assign(Object.assign({},r),t),{},{options:Object.assign(Object.assign({},r.options),t.options),data:Object.assign(Object.assign({},r.data),t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(n,i.options.modifiers)));return i.orderedModifiers=a.filter((function(e){return e.enabled})),i.orderedModifiers.forEach((function(e){var t=e.name,r=e.options,n=void 0===r?{}:r,o=e.effect;if("function"===typeof o){var a=o({state:i,name:t,instance:c,options:n});s.push(a||function(){})}})),c.update()},forceUpdate:function(){if(!a){var e=i.elements,t=e.reference,r=e.popper;if(Qa(t,r)){i.rects={reference:Ha(t,Js(r),"fixed"===i.options.strategy),popper:Ls(r)},i.reset=!1,i.placement=i.options.placement,i.orderedModifiers.forEach((function(e){return i.modifiersData[e.name]=Object.assign({},e.data)}));for(var n=0;n<i.orderedModifiers.length;n++)if(!0!==i.reset){var o=i.orderedModifiers[n],s=o.fn,u=o.options,l=void 0===u?{}:u,p=o.name;"function"===typeof s&&(i=s({state:i,options:l,name:p,instance:c})||i)}else i.reset=!1,n=-1}}},update:Va((function(){return new Promise((function(e){c.forceUpdate(),e(i)}))})),destroy:function(){u(),a=!0}};if(!Qa(e,t))return c;function u(){s.forEach((function(e){return e()})),s=[]}return c.setOptions(r).then((function(e){!a&&r.onFirstUpdate&&r.onFirstUpdate(e)})),c}}var Ja=Za({defaultModifiers:[Wa,$a,wa,Ea,Ua,za,Ka,ya]}),Xa={position:"absolute",top:"0",left:"0",opacity:"0",pointerEvents:"none"},ec={};function tc(e){var t={};return Array.isArray(e)?(null==e||e.forEach((function(e){t[e.name]=e})),t):e||t}var rc=function(e,t,r){var n=void 0===r?{}:r,i=n.enabled,s=void 0===i||i,a=n.placement,c=void 0===a?"bottom":a,u=n.strategy,l=void 0===u?"absolute":u,p=n.eventsEnabled,h=void 0===p||p,d=n.modifiers,f=v(n,["enabled","placement","strategy","eventsEnabled","modifiers"]),g=Object(o.useRef)(),y=Object(o.useCallback)((function(){g.current&&g.current.update()}),[]),b=zs(Object(o.useState)({placement:c,scheduleUpdate:y,outOfBoundaries:!1,styles:Xa,arrowStyles:ec})),S=b[0],w=b[1],k=Object(o.useMemo)((function(){return{name:"updateStateModifier",enabled:!0,phase:"afterWrite",requires:["computeStyles"],fn:function(e){var t,r,n;w({scheduleUpdate:y,outOfBoundaries:!!(null==(t=e.state.modifiersData.hide)?void 0:t.isReferenceHidden),placement:e.state.placement,styles:m({},null==(r=e.state.styles)?void 0:r.popper),arrowStyles:m({},null==(n=e.state.styles)?void 0:n.arrow),state:e.state})}}}),[y,w]),E=function(e){return void 0===e&&(e={}),Array.isArray(e)?e:Object.keys(e).map((function(t){return e[t].name=t,e[t]}))}(d),O=E.find((function(e){return"eventListeners"===e.name}));return!O&&h&&(E=[].concat(E,[O={name:"eventListeners",enabled:!0}])),Object(o.useEffect)((function(){y()}),[S.placement,y]),Object(o.useEffect)((function(){g.current&&s&&g.current.setOptions({placement:c,strategy:l,modifiers:[].concat(E,[k])})}),[l,c,O.enabled,k,s]),Object(o.useEffect)((function(){if(s&&null!=e&&null!=t)return g.current=Ja(e,t,m(m({},f),{},{placement:c,strategy:l,modifiers:[].concat(E,[k])})),function(){null!=g.current&&(g.current.destroy(),g.current=void 0,w((function(e){return m(m({},e),{},{styles:Xa,arrowStyles:ec})})))}}),[s,e,t]),S};function nc(e,t){return e.contains?e.contains(t):e.compareDocumentPosition?e===t||!!(16&e.compareDocumentPosition(t)):void 0}function ic(e){return e&&"setState"in e?re.a.findDOMNode(e):null!=e?e:null}var oc=function(e){return Ni(ic(e))},sc=27,ac=function(){};var cc=function(e){return e&&("current"in e?e.current:e)};var uc=function(e,t,r){var n=void 0===r?{}:r,i=n.disabled,s=n.clickTrigger,a=void 0===s?"click":s,c=Object(o.useRef)(!1),u=t||ac,l=Object(o.useCallback)((function(t){var r,n=cc(e);Ei()(!!n,"RootClose captured a close event but does not have a ref to compare it to. useRootClose(), should be passed a ref that resolves to a DOM node"),c.current=!n||!!((r=t).metaKey||r.altKey||r.ctrlKey||r.shiftKey)||!function(e){return 0===e.button}(t)||!!nc(n,t.target)}),[e]),p=wi((function(e){c.current||u(e)})),h=wi((function(e){e.keyCode===sc&&u(e)}));Object(o.useEffect)((function(){if(!i&&null!=e){var t=oc(cc(e)),r=Hi(t,a,l,!0),n=Hi(t,a,p),o=Hi(t,"keyup",h),s=[];return"ontouchstart"in t.documentElement&&(s=[].slice.call(t.body.children).map((function(e){return Hi(e,"mousemove",ac)}))),function(){r(),n(),o(),s.forEach((function(e){return e()}))}}}),[e,i,a,l,p,h])},lc=function(){};function pc(e){var t;void 0===e&&(e={});var r=Object(o.useContext)(js),n=Fs(),i=n[0],s=n[1],a=Object(o.useRef)(!1),c=e,u=c.flip,l=c.rootCloseEvent,p=c.popperConfig,h=void 0===p?{}:p,d=c.usePopper,f=void 0===d?!!r:d,v=null==(null==r?void 0:r.show)?e.show:r.show,g=null==(null==r?void 0:r.alignEnd)?e.alignEnd:r.alignEnd;v&&!a.current&&(a.current=!0);var y=function(e){null==r||r.toggle(!1,e)},b=r||{},S=b.drop,w=b.setMenu,k=b.menuElement,E=b.toggleElement,O=g?"bottom-end":"bottom-start";"up"===S?O=g?"top-end":"top-start":"right"===S?O=g?"right-end":"right-start":"left"===S&&(O=g?"left-end":"left-start");var x,C=tc(h.modifiers),P=rc(E,k,m(m({},h),{},{placement:O,enabled:!(!f||!v),modifiers:m(m({},C),{},{eventListeners:{enabled:!!v},arrow:m(m({},C.arrow),{},{enabled:!!i,options:m(m({},null==(t=C.arrow)?void 0:t.options),{},{element:i})}),flip:m({enabled:!!u},C.flip)})})),T={ref:w||lc,"aria-labelledby":null==E?void 0:E.id},R={show:v,alignEnd:g,hasShown:a.current,close:y};return x=f?m(m(m({},P),R),{},{props:m(m({},T),{},{style:P.styles}),arrowProps:{ref:s,style:P.arrowStyles}}):m(m({},R),{},{props:T}),uc(k,y,{clickTrigger:l,disabled:!(x&&v)}),x}var hc={children:c.a.func.isRequired,show:c.a.bool,alignEnd:c.a.bool,flip:c.a.bool,usePopper:c.a.oneOf([!0,!1]),popperConfig:c.a.object,rootCloseEvent:c.a.string};function dc(e){var t=e.children,r=pc(v(e,["children"]));return s.a.createElement(s.a.Fragment,null,r.hasShown?t(r):null)}dc.displayName="ReactOverlaysDropdownMenu",dc.propTypes=hc,dc.defaultProps={usePopper:!0};var fc=dc,mc=function(){};function vc(){var e=Object(o.useContext)(js)||{},t=e.show,r=void 0!==t&&t,n=e.toggle,i=void 0===n?mc:n;return[{ref:e.setToggle||mc,"aria-haspopup":!0,"aria-expanded":!!r},{show:r,toggle:i}]}var gc={children:c.a.func.isRequired};function yc(e){var t=e.children,r=vc(),n=r[0],i=r[1],o=i.show,a=i.toggle;return s.a.createElement(s.a.Fragment,null,t({show:o,toggle:a,props:n}))}yc.displayName="ReactOverlaysDropdownToggle",yc.propTypes=gc;var bc=yc,Sc={children:c.a.func.isRequired,drop:c.a.oneOf(["up","left","right","down"]),focusFirstItemOnShow:c.a.oneOf([!1,!0,"keyboard"]),itemSelector:c.a.string,alignEnd:c.a.bool,show:c.a.bool,defaultShow:c.a.bool,onToggle:c.a.func};function wc(e){var t=e.drop,r=e.alignEnd,n=e.defaultShow,i=e.show,a=e.onToggle,c=e.itemSelector,u=void 0===c?"* > *":c,l=e.focusFirstItemOnShow,p=e.children,h=ii(),d=Un(i,n,a),f=d[0],m=d[1],v=Fs(),g=v[0],y=v[1],b=Object(o.useRef)(null),S=b.current,w=Object(o.useCallback)((function(e){b.current=e,h()}),[h]),k=Ds(f),E=Object(o.useRef)(null),O=Object(o.useRef)(!1),x=Object(o.useCallback)((function(e){m(!f,e)}),[m,f]),C=Object(o.useMemo)((function(){return{toggle:x,drop:t,show:f,alignEnd:r,menuElement:S,toggleElement:g,setMenu:w,setToggle:y}}),[x,t,f,r,S,g,w,y]);S&&k&&!f&&(O.current=S.contains(document.activeElement));var P=wi((function(){g&&g.focus&&g.focus()})),T=wi((function(){var e=E.current,t=l;if(null==t&&(t=!(!b.current||!function(e,t){if(!As){var r=document.body,n=r.matches||r.matchesSelector||r.webkitMatchesSelector||r.mozMatchesSelector||r.msMatchesSelector;As=function(e,t){return n.call(e,t)}}return As(e,t)}(b.current,"[role=menu]"))&&"keyboard"),!1!==t&&("keyboard"!==t||/^key.+$/.test(e))){var r=ni(b.current,u)[0];r&&r.focus&&r.focus()}}));Object(o.useEffect)((function(){f?T():O.current&&(O.current=!1,P())}),[f,O,P,T]),Object(o.useEffect)((function(){E.current=null}));var R=function(e,t){if(!b.current)return null;var r=ni(b.current,u),n=r.indexOf(e)+t;return r[n=Math.max(0,Math.min(n,r.length))]};return s.a.createElement(js.Provider,{value:C},p({props:{onKeyDown:function(e){var t=e.key,r=e.target;if(!/input|textarea/i.test(r.tagName)||!(" "===t||"Escape"!==t&&b.current&&b.current.contains(r)))switch(E.current=e.type,t){case"ArrowUp":var n=R(r,-1);return n&&n.focus&&n.focus(),void e.preventDefault();case"ArrowDown":if(e.preventDefault(),f){var i=R(r,1);i&&i.focus&&i.focus()}else x(e);return;case"Escape":case"Tab":m(!1,e)}}}}))}wc.displayName="ReactOverlaysDropdown",wc.propTypes=Sc,wc.Menu=fc,wc.Toggle=bc;var kc=wc,Ec={as:bi,disabled:!1},Oc=s.a.forwardRef((function(e,t){var r=e.bsPrefix,n=e.className,i=e.children,a=e.eventKey,c=e.disabled,u=e.href,l=e.onClick,p=e.onSelect,h=e.active,d=e.as,f=v(e,["bsPrefix","className","children","eventKey","disabled","href","onClick","onSelect","active","as"]),g=Xn(r,"dropdown-item"),y=Object(o.useContext)(li),b=(Object(o.useContext)(ai)||{}).activeKey,S=ui(a,u),w=null==h&&null!=S?ui(b)===S:h,k=wi((function(e){c||(l&&l(e),y&&y(S,e),p&&p(S,e))}));return s.a.createElement(d,m({},f,{ref:t,href:u,disabled:c,className:Bn()(n,g,w&&"active",c&&"disabled"),onClick:k}),i)}));Oc.displayName="DropdownItem",Oc.defaultProps=Ec;var xc=Oc;function Cc(e,t){return e}function Pc(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}function Tc(){var e=Object(o.useRef)(null),t=Object(o.useRef)(null);return[Object(o.useCallback)((function(r){r&&(Pc(r,"popover")||Pc(r,"dropdown-menu"))&&(t.current=function(e){var t=getComputedStyle(e);return{top:parseFloat(t.marginTop)||0,right:parseFloat(t.marginRight)||0,bottom:parseFloat(t.marginBottom)||0,left:parseFloat(t.marginLeft)||0}}(r),r.style.margin=0,e.current=r)}),[]),[Object(o.useMemo)((function(){return{name:"offset",options:{offset:function(e){var r=e.placement;if(!t.current)return[0,0];var n=t.current,i=n.top,o=n.left,s=n.bottom,a=n.right;switch(r.split("-")[0]){case"top":return[0,s];case"left":return[0,a];case"bottom":return[0,i];case"right":return[0,o];default:return[0,0]}}}}}),[t])]]}var Rc=s.a.forwardRef((function(e,t){var r=e.bsPrefix,n=e.className,i=e.alignRight,a=e.rootCloseEvent,c=e.flip,u=e.show,l=e.renderOnMount,p=e.as,h=void 0===p?"div":p,d=e.popperConfig,f=void 0===d?{}:d,g=v(e,["bsPrefix","className","alignRight","rootCloseEvent","flip","show","renderOnMount","as","popperConfig"]),y=Object(o.useContext)(ei),b=Xn(r,"dropdown-menu"),S=Tc(),w=S[0],k=pc({flip:c,rootCloseEvent:a,show:u,alignEnd:i,usePopper:!y,popperConfig:m({},f,{modifiers:S[1].concat(f.modifiers||[])})}),E=k.hasShown,O=k.placement,x=k.show,C=k.alignEnd,P=k.close,T=k.props;if(T.ref=si(w,si(Cc(t),T.ref)),!E&&!l)return null;"string"!==typeof h&&(T.show=x,T.close=P,T.alignRight=C);var R=g.style;return O&&(R=m({},R,{},T.style),g["x-placement"]=O),s.a.createElement(h,m({},g,T,{style:R,className:Bn()(n,b,x&&"show",C&&b+"-right")}))}));Rc.displayName="DropdownMenu",Rc.defaultProps={alignRight:!1,flip:!0};var Mc=Rc,Ac=(r("BO/t"),s.a.forwardRef((function(e,t){var r=e.bsPrefix,n=e.split,i=e.className,o=e.children,a=e.childBsPrefix,c=e.as,u=void 0===c?_o:c,l=v(e,["bsPrefix","split","className","children","childBsPrefix","as"]),p=Xn(r,"dropdown-toggle");void 0!==a&&(l.bsPrefix=a);var h=vc(),d=h[0],f=h[1].toggle;return d.ref=si(d.ref,Cc(t)),s.a.createElement(u,m({onClick:f,className:Bn()(i,p,n&&p+"-split")},d,l),o)})));Ac.displayName="DropdownToggle";var Ic=Ac,_c=/-(.)/g;var Nc=function(e){return e[0].toUpperCase()+(t=e,t.replace(_c,(function(e,t){return t.toUpperCase()}))).slice(1);var t};function Dc(e,t){var r=void 0===t?{}:t,n=r.displayName,i=void 0===n?Nc(e):n,o=r.Component,a=void 0===o?"div":o,c=r.defaultProps,u=s.a.forwardRef((function(t,r){var n=t.className,i=t.bsPrefix,o=t.as,c=void 0===o?a:o,u=v(t,["className","bsPrefix","as"]),l=Xn(i,e);return s.a.createElement(c,m({ref:r,className:Bn()(n,l)},u))}));return u.defaultProps=c,u.displayName=i,u}var Fc=s.a.forwardRef((function(e,t){var r=$n(e,{show:"onToggle"}),n=r.bsPrefix,i=r.drop,a=r.show,c=r.className,u=r.alignRight,l=r.onSelect,p=r.onToggle,h=r.focusFirstItemOnShow,d=r.as,f=void 0===d?"div":d,g=(r.navbar,v(r,["bsPrefix","drop","show","className","alignRight","onSelect","onToggle","focusFirstItemOnShow","as","navbar"])),y=Object(o.useContext)(li),b=Xn(n,"dropdown"),S=wi((function(e,t,r){void 0===r&&(r=t.type),t.currentTarget===document&&(r="rootClose"),p(e,t,{source:r})})),w=wi((function(e,t){y&&y(e,t),l&&l(e,t),S(!1,t,"select")}));return s.a.createElement(li.Provider,{value:w},s.a.createElement(kc,{drop:i,show:a,alignEnd:u,onToggle:S,focusFirstItemOnShow:h,itemSelector:"."+b+"-item:not(.disabled):not(:disabled)"},(function(e){var r=e.props;return(s.a.createElement(f,m({},g,r,{ref:t,className:Bn()(c,a&&"show",(!i||"down"===i)&&b,"up"===i&&"dropup","right"===i&&"dropright","left"===i&&"dropleft")})))})))}));Fc.displayName="Dropdown",Fc.defaultProps={navbar:!1},Fc.Toggle=Ic,Fc.Menu=Mc,Fc.Item=xc,Fc.Header=Dc("dropdown-header",{defaultProps:{role:"heading"}}),Fc.Divider=Dc("dropdown-divider",{defaultProps:{role:"separator"}});var jc=Fc,Bc=r("NIcq"),zc={type:c.a.string.isRequired,as:c.a.elementType},qc=s.a.forwardRef((function(e,t){var r=e.as,n=void 0===r?"div":r,i=e.className,o=e.type,a=v(e,["as","className","type"]);return(s.a.createElement(n,m({},a,{ref:t,className:Bn()(i,o&&o+"-feedback")})))}));qc.displayName="Feedback",qc.propTypes=zc,qc.defaultProps={type:"valid"};var Lc=qc,Wc=s.a.createContext({controlId:void 0}),Uc=s.a.forwardRef((function(e,t){var r=e.id,n=e.bsPrefix,i=e.bsCustomPrefix,a=e.className,c=e.isValid,u=e.isInvalid,l=e.isStatic,p=e.as,h=void 0===p?"input":p,d=v(e,["id","bsPrefix","bsCustomPrefix","className","isValid","isInvalid","isStatic","as"]),f=Object(o.useContext)(Wc),g=f.controlId,y=f.custom?[i,"custom-control-input"]:[n,"form-check-input"];return n=Xn(y[0],y[1]),s.a.createElement(h,m({},d,{ref:t,id:r||g,className:Bn()(a,n,c&&"is-valid",u&&"is-invalid",l&&"position-static")}))}));Uc.displayName="FormCheckInput",Uc.defaultProps={type:"checkbox"};var $c=Uc,Kc=s.a.forwardRef((function(e,t){var r=e.bsPrefix,n=e.bsCustomPrefix,i=e.className,a=e.htmlFor,c=v(e,["bsPrefix","bsCustomPrefix","className","htmlFor"]),u=Object(o.useContext)(Wc),l=u.controlId,p=u.custom?[n,"custom-control-label"]:[r,"form-check-label"];return r=Xn(p[0],p[1]),s.a.createElement("label",m({},c,{ref:t,htmlFor:a||l,className:Bn()(i,r)}))}));Kc.displayName="FormCheckLabel";var Hc=Kc,Gc=s.a.forwardRef((function(e,t){var r=e.id,n=e.bsPrefix,i=e.bsCustomPrefix,a=e.inline,c=e.disabled,u=e.isValid,l=e.isInvalid,p=e.feedback,h=e.className,d=e.style,f=e.title,g=e.type,y=e.label,b=e.children,S=e.custom,w=e.as,k=void 0===w?"input":w,E=v(e,["id","bsPrefix","bsCustomPrefix","inline","disabled","isValid","isInvalid","feedback","className","style","title","type","label","children","custom","as"]),O="switch"===g||S,x=O?[i,"custom-control"]:[n,"form-check"];n=Xn(x[0],x[1]);var C=Object(o.useContext)(Wc).controlId,P=Object(o.useMemo)((function(){return{controlId:r||C,custom:O}}),[C,O,r]),T=null!=y&&!1!==y&&!b,R=s.a.createElement($c,m({},E,{type:"switch"===g?"checkbox":g,ref:t,isValid:u,isInvalid:l,isStatic:!T,disabled:c,as:k}));return s.a.createElement(Wc.Provider,{value:P},s.a.createElement("div",{style:d,className:Bn()(h,n,O&&"custom-"+g,a&&n+"-inline")},b||s.a.createElement(s.a.Fragment,null,R,T&&s.a.createElement(Hc,{title:f},y),(u||l)&&s.a.createElement(Lc,{type:u?"valid":"invalid"},p))))}));Gc.displayName="FormCheck",Gc.defaultProps={type:"checkbox",inline:!1,disabled:!1,isValid:!1,isInvalid:!1,title:""},Gc.Input=$c,Gc.Label=Hc;var Vc=Gc,Yc=s.a.forwardRef((function(e,t){var r=e.id,n=e.bsPrefix,i=e.bsCustomPrefix,a=e.className,c=e.isValid,u=e.isInvalid,l=e.lang,p=e.as,h=void 0===p?"input":p,d=v(e,["id","bsPrefix","bsCustomPrefix","className","isValid","isInvalid","lang","as"]),f=Object(o.useContext)(Wc),g=f.controlId,y=f.custom?[i,"custom-file-input"]:[n,"form-control-file"];return n=Xn(y[0],y[1]),s.a.createElement(h,m({},d,{ref:t,id:r||g,type:"file",lang:l,className:Bn()(a,n,c&&"is-valid",u&&"is-invalid")}))}));Yc.displayName="FormFileInput";var Qc=Yc,Zc=s.a.forwardRef((function(e,t){var r=e.bsPrefix,n=e.bsCustomPrefix,i=e.className,a=e.htmlFor,c=v(e,["bsPrefix","bsCustomPrefix","className","htmlFor"]),u=Object(o.useContext)(Wc),l=u.controlId,p=u.custom?[n,"custom-file-label"]:[r,"form-file-label"];return r=Xn(p[0],p[1]),s.a.createElement("label",m({},c,{ref:t,htmlFor:a||l,className:Bn()(i,r),"data-browse":c["data-browse"]}))}));Zc.displayName="FormFileLabel";var Jc=Zc,Xc=s.a.forwardRef((function(e,t){var r=e.id,n=e.bsPrefix,i=e.bsCustomPrefix,a=e.disabled,c=e.isValid,u=e.isInvalid,l=e.feedback,p=e.className,h=e.style,d=e.label,f=e.children,g=e.custom,y=e.lang,b=e["data-browse"],S=e.as,w=void 0===S?"div":S,k=e.inputAs,E=void 0===k?"input":k,O=v(e,["id","bsPrefix","bsCustomPrefix","disabled","isValid","isInvalid","feedback","className","style","label","children","custom","lang","data-browse","as","inputAs"]),x=g?[i,"custom"]:[n,"form-file"];n=Xn(x[0],x[1]);var C=Object(o.useContext)(Wc).controlId,P=Object(o.useMemo)((function(){return{controlId:r||C,custom:g}}),[C,g,r]),T=null!=d&&!1!==d&&!f,R=s.a.createElement(Qc,m({},O,{ref:t,isValid:c,isInvalid:u,disabled:a,as:E,lang:y}));return s.a.createElement(Wc.Provider,{value:P},s.a.createElement(w,{style:h,className:Bn()(p,n,g&&"custom-file")},f||s.a.createElement(s.a.Fragment,null,g?s.a.createElement(s.a.Fragment,null,R,T&&s.a.createElement(Jc,{"data-browse":b},d)):s.a.createElement(s.a.Fragment,null,T&&s.a.createElement(Jc,null,d),R),(c||u)&&s.a.createElement(Lc,{type:c?"valid":"invalid"},l))))}));Xc.displayName="FormFile",Xc.defaultProps={disabled:!1,isValid:!1,isInvalid:!1},Xc.Input=Qc,Xc.Label=Jc;var eu=Xc,tu=s.a.forwardRef((function(e,t){var r,n,i=e.bsPrefix,a=e.bsCustomPrefix,c=e.type,u=e.size,l=e.id,p=e.className,h=e.isValid,d=e.isInvalid,f=e.plaintext,g=e.readOnly,y=e.custom,b=e.as,S=void 0===b?"input":b,w=v(e,["bsPrefix","bsCustomPrefix","type","size","id","className","isValid","isInvalid","plaintext","readOnly","custom","as"]),k=Object(o.useContext)(Wc).controlId,E=y?[a,"custom"]:[i,"form-control"];if(i=Xn(E[0],E[1]),f)(n={})[i+"-plaintext"]=!0,r=n;else if("file"===c){var O;(O={})[i+"-file"]=!0,r=O}else if("range"===c){var x;(x={})[i+"-range"]=!0,r=x}else if("select"===S&&y){var C;(C={})[i+"-select"]=!0,C[i+"-select-"+u]=u,r=C}else{var P;(P={})[i]=!0,P[i+"-"+u]=u,r=P}return s.a.createElement(S,m({},w,{type:c,ref:t,readOnly:g,id:l||k,className:Bn()(p,r,h&&"is-valid",d&&"is-invalid")}))}));tu.displayName="FormControl",tu.Feedback=Lc;var ru=tu,nu=s.a.forwardRef((function(e,t){var r=e.bsPrefix,n=e.className,i=e.children,a=e.controlId,c=e.as,u=void 0===c?"div":c,l=v(e,["bsPrefix","className","children","controlId","as"]);r=Xn(r,"form-group");var p=Object(o.useMemo)((function(){return{controlId:a}}),[a]);return(s.a.createElement(Wc.Provider,{value:p},s.a.createElement(u,m({},l,{ref:t,className:Bn()(n,r)}),i)))}));nu.displayName="FormGroup";var iu=nu,ou=["xl","lg","md","sm","xs"],su=s.a.forwardRef((function(e,t){var r=e.bsPrefix,n=e.className,i=e.as,o=void 0===i?"div":i,a=v(e,["bsPrefix","className","as"]),c=Xn(r,"col"),u=[],l=[];return ou.forEach((function(e){var t,r,n,i=a[e];if(delete a[e],null!=i&&"object"===typeof i){var o=i.span;t=void 0===o||o,r=i.offset,n=i.order}else t=i;var s="xs"!==e?"-"+e:"";null!=t&&u.push(!0===t?""+c+s:""+c+s+"-"+t),null!=n&&l.push("order"+s+"-"+n),null!=r&&l.push("offset"+s+"-"+r)})),u.length||u.push(c),s.a.createElement(o,m({},a,{ref:t,className:Bn.a.apply(void 0,[n].concat(u,l))}))}));su.displayName="Col";var au=su,cu=s.a.forwardRef((function(e,t){var r=e.as,n=void 0===r?"label":r,i=e.bsPrefix,a=e.column,c=e.srOnly,u=e.className,l=e.htmlFor,p=v(e,["as","bsPrefix","column","srOnly","className","htmlFor"]),h=Object(o.useContext)(Wc).controlId;i=Xn(i,"form-label");var d="col-form-label";"string"===typeof a&&(d=d+"-"+a);var f=Bn()(u,i,c&&"sr-only",a&&d);return l=l||h,a?s.a.createElement(au,m({as:"label",className:f,htmlFor:l},p)):s.a.createElement(n,m({ref:t,className:f,htmlFor:l},p))}));cu.displayName="FormLabel",cu.defaultProps={column:!1,srOnly:!1};var uu=cu,lu=s.a.forwardRef((function(e,t){var r=e.bsPrefix,n=e.className,i=e.as,o=void 0===i?"small":i,a=e.muted,c=v(e,["bsPrefix","className","as","muted"]);return r=Xn(r,"form-text"),s.a.createElement(o,m({},c,{ref:t,className:Bn()(n,r,a&&"text-muted")}))}));lu.displayName="FormText";var pu=lu,hu=s.a.forwardRef((function(e,t){return s.a.createElement(Vc,m({},e,{ref:t,type:"switch"}))}));hu.displayName="Switch",hu.Input=Vc.Input,hu.Label=Vc.Label;var du=hu,fu=s.a.forwardRef((function(e,t){var r=e.bsPrefix,n=e.inline,i=e.className,o=e.validated,a=e.as,c=void 0===a?"form":a,u=v(e,["bsPrefix","inline","className","validated","as"]);return r=Xn(r,"form"),s.a.createElement(c,m({},u,{ref:t,className:Bn()(i,o&&"was-validated",n&&r+"-inline")}))}));fu.displayName="Form",fu.defaultProps={inline:!1},fu.Row=Dc("form-row"),fu.Group=iu,fu.Control=ru,fu.Check=Vc,fu.File=eu,fu.Switch=du,fu.Label=uu,fu.Text=pu;var mu,vu=fu;function gu(e){if((!mu&&0!==mu||e)&&_i){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),mu=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return mu}function yu(e){void 0===e&&(e=Ni());try{var t=e.activeElement;return t&&t.nodeName?t:null}catch(lm){return e.body}}function bu(e){var t=function(e){var t=Object(o.useRef)(e);return t.current=e,t}(e);Object(o.useEffect)((function(){return function(){return t.current()}}),[])}function Su(e,t){e.classList?e.classList.add(t):Pc(e,t)||("string"===typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}function wu(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function ku(e,t){e.classList?e.classList.remove(t):"string"===typeof e.className?e.className=wu(e.className,t):e.setAttribute("class",wu(e.className&&e.className.baseVal||"",t))}function Eu(e){return"window"in e&&e.window===e?e:"nodeType"in(t=e)&&t.nodeType===document.DOCUMENT_NODE&&e.defaultView||!1;var t}function Ou(e){var t;return Eu(e)||(t=e)&&"body"===t.tagName.toLowerCase()?function(e){var t=Eu(e)?Ni():Ni(e),r=Eu(e)||t.defaultView;return t.body.clientWidth<r.innerWidth}(e):e.scrollHeight>e.clientHeight}var xu=["template","script","style"],Cu=function(e,t,r){[].forEach.call(e.children,(function(e){-1===t.indexOf(e)&&function(e){var t=e.nodeType,r=e.tagName;return 1===t&&-1===xu.indexOf(r.toLowerCase())}(e)&&r(e)}))};function Pu(e,t){t&&(e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden"))}var Tu,Ru=function(){function e(e){var t=void 0===e?{}:e,r=t.hideSiblingNodes,n=void 0===r||r,i=t.handleContainerOverflow,o=void 0===i||i;this.hideSiblingNodes=void 0,this.handleContainerOverflow=void 0,this.modals=void 0,this.containers=void 0,this.data=void 0,this.scrollbarSize=void 0,this.hideSiblingNodes=n,this.handleContainerOverflow=o,this.modals=[],this.containers=[],this.data=[],this.scrollbarSize=gu()}var t=e.prototype;return t.isContainerOverflowing=function(e){var t=this.data[this.containerIndexFromModal(e)];return t&&t.overflowing},t.containerIndexFromModal=function(e){return function(e,t){var r=-1;return e.some((function(e,n){return!!t(e,n)&&(r=n,!0)})),r}(this.data,(function(t){return-1!==t.modals.indexOf(e)}))},t.setContainerStyle=function(e,t){var r={overflow:"hidden"};e.style={overflow:t.style.overflow,paddingRight:t.style.paddingRight},e.overflowing&&(r.paddingRight=parseInt(qi(t,"paddingRight")||"0",10)+this.scrollbarSize+"px"),qi(t,r)},t.removeContainerStyle=function(e,t){var r=e.style;Object.keys(r).forEach((function(e){t.style[e]=r[e]}))},t.add=function(e,t,r){var n=this.modals.indexOf(e),i=this.containers.indexOf(t);if(-1!==n)return n;if(n=this.modals.length,this.modals.push(e),this.hideSiblingNodes&&function(e,t){var r=t.dialog,n=t.backdrop;Cu(e,[r,n],(function(e){return Pu(!0,e)}))}(t,e),-1!==i)return this.data[i].modals.push(e),n;var o={modals:[e],classes:r?r.split(/\s+/):[],overflowing:Ou(t)};return this.handleContainerOverflow&&this.setContainerStyle(o,t),o.classes.forEach(Su.bind(null,t)),this.containers.push(t),this.data.push(o),n},t.remove=function(e){var t=this.modals.indexOf(e);if(-1!==t){var r=this.containerIndexFromModal(e),n=this.data[r],i=this.containers[r];if(n.modals.splice(n.modals.indexOf(e),1),this.modals.splice(t,1),0===n.modals.length)n.classes.forEach(ku.bind(null,i)),this.handleContainerOverflow&&this.removeContainerStyle(n,i),this.hideSiblingNodes&&function(e,t){var r=t.dialog,n=t.backdrop;Cu(e,[r,n],(function(e){return Pu(!1,e)}))}(i,e),this.containers.splice(r,1),this.data.splice(r,1);else if(this.hideSiblingNodes){var o=n.modals[n.modals.length-1],s=o.backdrop;Pu(!1,o.dialog),Pu(!1,s)}}},t.isTopModal=function(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e},e}(),Mu=function(e){var t;return"undefined"===typeof document?null:null==e?Ni().body:("function"===typeof e&&(e=e()),e&&"current"in e&&(e=e.current),(null==(t=e)?void 0:t.nodeType)&&e||null)};function Au(e,t){var r=Object(o.useState)((function(){return Mu(e)})),n=r[0],i=r[1];if(!n){var s=Mu(e);s&&i(s)}return Object(o.useEffect)((function(){t&&n&&t(n)}),[t,n]),Object(o.useEffect)((function(){var t=Mu(e);t!==n&&i(t)}),[e,n]),n}function Iu(e){var t=e||(Tu||(Tu=new Ru),Tu),r=Object(o.useRef)({dialog:null,backdrop:null});return Object.assign(r.current,{add:function(e,n){return t.add(r.current,e,n)},remove:function(){return t.remove(r.current)},isTopModal:function(){return t.isTopModal(r.current)},setDialogRef:Object(o.useCallback)((function(e){r.current.dialog=e}),[]),setBackdropRef:Object(o.useCallback)((function(e){r.current.backdrop=e}),[])})}var _u=Object(o.forwardRef)((function(e,t){var r=e.show,n=void 0!==r&&r,i=e.role,a=void 0===i?"dialog":i,c=e.className,u=e.style,l=e.children,p=e.backdrop,h=void 0===p||p,d=e.keyboard,f=void 0===d||d,g=e.onBackdropClick,y=e.onEscapeKeyDown,b=e.transition,S=e.backdropTransition,w=e.autoFocus,k=void 0===w||w,E=e.enforceFocus,O=void 0===E||E,x=e.restoreFocus,C=void 0===x||x,P=e.restoreFocusOptions,T=e.renderDialog,R=e.renderBackdrop,M=void 0===R?function(e){return s.a.createElement("div",e)}:R,A=e.manager,I=e.container,_=e.containerClassName,N=e.onShow,D=e.onHide,F=void 0===D?function(){}:D,j=e.onExit,B=e.onExited,z=e.onExiting,q=e.onEnter,L=e.onEntering,W=e.onEntered,U=v(e,["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","backdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","containerClassName","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"]),$=Au(I),K=Iu(A),H=Bs(),G=Ds(n),V=Object(o.useState)(!n),Y=V[0],Q=V[1],Z=Object(o.useRef)(null);Object(o.useImperativeHandle)(t,(function(){return K}),[K]),_i&&!G&&n&&(Z.current=yu()),b||n||Y?n&&Y&&Q(!1):Q(!0);var J=wi((function(){if(K.add($,_),oe.current=Hi(document,"keydown",ne),ie.current=Hi(document,"focus",(function(){return setTimeout(ee)}),!0),N&&N(),k){var e=yu(document);K.dialog&&e&&!nc(K.dialog,e)&&(Z.current=e,K.dialog.focus())}})),X=wi((function(){var e;(K.remove(),null==oe.current||oe.current(),null==ie.current||ie.current(),C)&&(null==(e=Z.current)||null==e.focus||e.focus(P),Z.current=null)}));Object(o.useEffect)((function(){n&&$&&J()}),[n,$,J]),Object(o.useEffect)((function(){Y&&X()}),[Y,X]),bu((function(){X()}));var ee=wi((function(){if(O&&H()&&K.isTopModal()){var e=yu();K.dialog&&e&&!nc(K.dialog,e)&&K.dialog.focus()}})),te=wi((function(e){e.target===e.currentTarget&&(null==g||g(e),!0===h&&F())})),ne=wi((function(e){f&&27===e.keyCode&&K.isTopModal()&&(null==y||y(e),e.defaultPrevented||F())})),ie=Object(o.useRef)(),oe=Object(o.useRef)(),se=b;if(!$||!(n||se&&!Y))return null;var ae=m(m({role:a,ref:K.setDialogRef,"aria-modal":"dialog"===a||void 0},U),{},{style:u,className:c,tabIndex:-1}),ce=T?T(ae):s.a.createElement("div",ae,s.a.cloneElement(l,{role:"document"}));se&&(ce=s.a.createElement(se,{appear:!0,unmountOnExit:!0,in:!!n,onExit:j,onExiting:z,onExited:function(){Q(!0);for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];null==B||B.apply(void 0,t)},onEnter:q,onEntering:L,onEntered:W},ce));var ue=null;if(h){var le=S;ue=M({ref:K.setBackdropRef,onClick:te}),le&&(ue=s.a.createElement(le,{appear:!0,in:!!n},ue))}return(s.a.createElement(s.a.Fragment,null,re.a.createPortal(s.a.createElement(s.a.Fragment,null,ue,ce),$)))})),Nu={show:c.a.bool,container:c.a.any,onShow:c.a.func,onHide:c.a.func,backdrop:c.a.oneOfType([c.a.bool,c.a.oneOf(["static"])]),renderDialog:c.a.func,renderBackdrop:c.a.func,onEscapeKeyDown:c.a.func,onBackdropClick:c.a.func,containerClassName:c.a.string,keyboard:c.a.bool,transition:c.a.elementType,backdropTransition:c.a.elementType,autoFocus:c.a.bool,enforceFocus:c.a.bool,restoreFocus:c.a.bool,restoreFocusOptions:c.a.shape({preventScroll:c.a.bool}),onEnter:c.a.func,onEntering:c.a.func,onEntered:c.a.func,onExit:c.a.func,onExiting:c.a.func,onExited:c.a.func,manager:c.a.instanceOf(Ru)};_u.displayName="Modal",_u.propTypes=Nu;var Du=Object.assign(_u,{Manager:Ru}),Fu=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",ju=".sticky-top",Bu=".navbar-toggler",zu=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(t=e.call.apply(e,[this].concat(n))||this).adjustAndStore=function(e,t,r){var n,i=t.style[e];t.dataset[e]=i,qi(t,((n={})[e]=parseFloat(qi(t,e))+r+"px",n))},t.restore=function(e,t){var r,n=t.dataset[e];void 0!==n&&(delete t.dataset[e],qi(t,((r={})[e]=n,r)))},t}Kn(t,e);var r=t.prototype;return r.setContainerStyle=function(t,r){var n=this;if(e.prototype.setContainerStyle.call(this,t,r),t.overflowing){var i=gu();ni(r,Fu).forEach((function(e){return n.adjustAndStore("paddingRight",e,i)})),ni(r,ju).forEach((function(e){return n.adjustAndStore("margingRight",e,-i)})),ni(r,Bu).forEach((function(e){return n.adjustAndStore("margingRight",e,i)}))}},r.removeContainerStyle=function(t,r){var n=this;e.prototype.removeContainerStyle.call(this,t,r),ni(r,Fu).forEach((function(e){return n.restore("paddingRight",e)})),ni(r,ju).forEach((function(e){return n.restore("margingRight",e)})),ni(r,Bu).forEach((function(e){return n.restore("margingRight",e)}))},t}(Ru),qu=Dc("modal-body"),Lu=s.a.createContext({onHide:function(){}}),Wu=s.a.forwardRef((function(e,t){var r=e.bsPrefix,n=e.className,i=e.centered,o=e.size,a=e.children,c=e.scrollable,u=v(e,["bsPrefix","className","centered","size","children","scrollable"]),l=(r=Xn(r,"modal"))+"-dialog";return s.a.createElement("div",m({},u,{ref:t,className:Bn()(l,n,o&&r+"-"+o,i&&l+"-centered",c&&l+"-scrollable")}),s.a.createElement("div",{className:r+"-content"},a))}));Wu.displayName="ModalDialog";var Uu=Wu,$u=Dc("modal-footer"),Ku={label:c.a.string.isRequired,onClick:c.a.func},Hu=s.a.forwardRef((function(e,t){var r=e.label,n=e.onClick,i=e.className,o=v(e,["label","onClick","className"]);return(s.a.createElement("button",m({ref:t,type:"button",className:Bn()("close",i),onClick:n},o),s.a.createElement("span",{"aria-hidden":"true"},"\xd7"),s.a.createElement("span",{className:"sr-only"},r)))}));Hu.displayName="CloseButton",Hu.propTypes=Ku,Hu.defaultProps={label:"Close"};var Gu=Hu,Vu=s.a.forwardRef((function(e,t){var r=e.bsPrefix,n=e.closeLabel,i=e.closeButton,a=e.onHide,c=e.className,u=e.children,l=v(e,["bsPrefix","closeLabel","closeButton","onHide","className","children"]);r=Xn(r,"modal-header");var p=Object(o.useContext)(Lu),h=wi((function(){p&&p.onHide(),a&&a()}));return s.a.createElement("div",m({ref:t},l,{className:Bn()(c,r)}),u,i&&s.a.createElement(Gu,{label:n,onClick:h}))}));Vu.displayName="ModalHeader",Vu.defaultProps={closeLabel:"Close",closeButton:!1};var Yu,Qu,Zu=Vu,Ju=Dc("modal-title",{Component:(Yu="h4",s.a.forwardRef((function(e,t){return s.a.createElement("div",m({},e,{ref:t,className:Bn()(e.className,Yu)}))})))}),Xu={show:!1,backdrop:!0,keyboard:!0,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,animation:!0,dialogAs:Uu};function el(e){return s.a.createElement(ao,e)}function tl(e){return s.a.createElement(ao,e)}var rl=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(t=e.call.apply(e,[this].concat(n))||this).state={style:{}},t.modalContext={onHide:function(){return t.props.onHide()}},t.setModalRef=function(e){t._modal=e},t.handleDialogMouseDown=function(){t._waitingForMouseUp=!0},t.handleMouseUp=function(e){t._waitingForMouseUp&&e.target===t._modal.dialog&&(t._ignoreBackdropClick=!0),t._waitingForMouseUp=!1},t.handleClick=function(e){t._ignoreBackdropClick||e.target!==e.currentTarget?t._ignoreBackdropClick=!1:t.props.onHide()},t.handleEnter=function(e){var r;e&&(e.style.display="block",t.updateDialogStyle(e));for(var n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];t.props.onEnter&&(r=t.props).onEnter.apply(r,[e].concat(i))},t.handleEntering=function(e){for(var r,n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];t.props.onEntering&&(r=t.props).onEntering.apply(r,[e].concat(i)),$i(window,"resize",t.handleWindowResize)},t.handleExited=function(e){var r;e&&(e.style.display="");for(var n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];t.props.onExited&&(r=t.props).onExited.apply(r,i),Ki(window,"resize",t.handleWindowResize)},t.handleWindowResize=function(){t.updateDialogStyle(t._modal.dialog)},t.getModalManager=function(){return t.props.manager?t.props.manager:(Qu||(Qu=new zu),Qu)},t.renderBackdrop=function(e){var r=t.props,n=r.bsPrefix,i=r.backdropClassName,o=r.animation;return(s.a.createElement("div",m({},e,{className:Bn()(n+"-backdrop",i,!o&&"show")})))},t}Kn(t,e);var r=t.prototype;return r.componentWillUnmount=function(){Ki(window,"resize",this.handleWindowResize)},r.updateDialogStyle=function(e){if(_i){var t=this.getModalManager().isContainerOverflowing(this._modal),r=e.scrollHeight>Ni(e).documentElement.clientHeight;this.setState({style:{paddingRight:t&&!r?gu():void 0,paddingLeft:!t&&r?gu():void 0}})}},r.render=function(){var e=this.props,t=e.bsPrefix,r=e.className,n=e.style,i=e.dialogClassName,o=e.children,a=e.dialogAs,c=e["aria-labelledby"],u=e.show,l=e.animation,p=e.backdrop,h=e.keyboard,d=e.onEscapeKeyDown,f=e.onShow,g=e.onHide,y=e.container,b=e.autoFocus,S=e.enforceFocus,w=e.restoreFocus,k=e.restoreFocusOptions,E=e.onEntered,O=e.onExit,x=e.onExiting,C=(e.onExited,e.onEntering,e.onEnter,e.onEntering,e.backdropClassName,v(e,["bsPrefix","className","style","dialogClassName","children","dialogAs","aria-labelledby","show","animation","backdrop","keyboard","onEscapeKeyDown","onShow","onHide","container","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","onEntered","onExit","onExiting","onExited","onEntering","onEnter","onEntering","backdropClassName"])),P=!0===p?this.handleClick:null,T=m({},n,{},this.state.style);return l||(T.display="block"),s.a.createElement(Lu.Provider,{value:this.modalContext},s.a.createElement(Du,{show:u,backdrop:p,container:y,keyboard:h,autoFocus:b,enforceFocus:S,restoreFocus:w,restoreFocusOptions:k,onEscapeKeyDown:d,onShow:f,onHide:g,onEntered:E,onExit:O,onExiting:x,manager:this.getModalManager(),ref:this.setModalRef,style:T,className:Bn()(r,t),containerClassName:t+"-open",transition:l?el:void 0,backdropTransition:l?tl:void 0,renderBackdrop:this.renderBackdrop,onClick:P,onMouseUp:this.handleMouseUp,onEnter:this.handleEnter,onEntering:this.handleEntering,onExited:this.handleExited,"aria-labelledby":c},s.a.createElement(a,m({},C,{onMouseDown:this.handleDialogMouseDown,className:i}),o)))},t}(s.a.Component);rl.defaultProps=Xu;var nl=function(e,t){"string"===typeof t&&(t={prefix:t});var r=e.prototype&&e.prototype.isReactComponent,n=t,i=n.prefix,o=n.forwardRefAs,a=void 0===o?r?"ref":"innerRef":o;return Zn()((function(t,r){var n=m({},t);n[a]=r;var o=Xn(n.bsPrefix,i);return(s.a.createElement(e,m({},n,{bsPrefix:o})))}),{displayName:"Bootstrap("+(e.displayName||e.name)+")"})}(rl,"modal");nl.Body=qu,nl.Header=Zu,nl.Title=Ju,nl.Footer=$u,nl.Dialog=Uu,nl.TRANSITION_DURATION=300,nl.BACKDROP_TRANSITION_DURATION=150;var il=nl,ol=s.a.createElement;function sl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function al(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?sl(Object(r),!0).forEach((function(t){wr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sl(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function cl(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(lm){return!1}}();return function(){var r,n=Fn(e);if(t){var i=Fn(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Dn(this,r)}}var ul=function(e){In(r,e);var t=cl(r);function r(e){var n;return Tn(this,r),wr(Nn(n=t.call(this,e)),"save",(function(e){e.preventDefault(),n.props.save(n.state.speechConfig),n.props.close()})),n.state={speechConfig:e.application.speechConfig},n.onModeChange=n.onModeChange.bind(Nn(n)),n.onRegionChange=n.onRegionChange.bind(Nn(n)),n.onSubscriptionChange=n.onSubscriptionChange.bind(Nn(n)),n}return Mn(r,[{key:"onModeChange",value:function(e){var t=al(al({},this.state.speechConfig),{},{mode:e.target.value});this.setState({speechConfig:t})}},{key:"onSubscriptionChange",value:function(e){var t=e.target.value,r=t?this.state.speechConfig.mode:Hr.TEXT,n=al(al({},this.state.speechConfig),{},{azureSubscriptionKey:t,mode:r});this.setState({speechConfig:n})}},{key:"onRegionChange",value:function(e){var t=e.target.value,r=t?this.state.speechConfig.mode:Hr.TEXT;console.log('region="'.concat(t,'"')),console.log("mode=".concat(r));var n=al(al({},this.state.speechConfig),{},{azureRegion:t,mode:r});this.setState({speechConfig:n})}},{key:"render",value:function(){var e=this.state.speechConfig,t=e.mode,r=e.azureSubscriptionKey,n=!(!e.azureRegion||!r),i=e.speechSupport;return ol(il,{show:this.props.show,onHide:this.props.close,backdrop:"static",keyboard:!1},ol(vu,{onSubmit:this.save},ol(il.Header,{closeButton:!0},ol(il.Title,null,"Speech Settings")),ol(il.Body,null,ol(vu.Group,{controlId:"formWebSpeech1"},ol(vu.Check,{checked:t===Hr.TEXT,label:"Disable speech",type:"radio",value:Hr.TEXT,onChange:this.onModeChange}),ol(vu.Check,{checked:t===Hr.WEB_SPEECH,disabled:!i,label:"Use Web Speech API (Chrome browser only)",type:"radio",value:Hr.WEB_SPEECH,onChange:this.onModeChange}),ol(vu.Check,{checked:t===Hr.AZURE,disabled:!n,label:"Use Azure Speech API",type:"radio",value:Hr.AZURE,onChange:this.onModeChange})),ol(vu.Group,{controlId:"formSubscriptionKey"},ol(vu.Label,null,"Azure Subscription Key"),ol(vu.Control,{defaultValue:this.state.speechConfig.azureSubscriptionKey,placeholder:"enter subscription key",type:"password",onChange:this.onSubscriptionChange})),ol(vu.Group,{controlId:"formRegion"},ol(vu.Label,null,"Azure Region"),ol(vu.Control,{defaultValue:this.state.speechConfig.azureRegion,type:"text",placeholder:"enter region (e.g. westus2)",onChange:this.onRegionChange}))),ol(il.Footer,null,ol(_o,{variant:"secondary",onClick:this.props.close},"Cancel"),ol(_o,{variant:"primary",type:"submit"},"Save"))))}}]),r}(s.a.Component);var ll=X((function(e){return{application:e}}),(function(e){return{save:function(t){console.log("save"),e(yr(t))}}}))(ul),pl=s.a.createElement;function hl(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(lm){return!1}}();return function(){var r,n=Fn(e);if(t){var i=Fn(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Dn(this,r)}}var dl=function(e){In(r,e);var t=hl(r);function r(e){var n;return Tn(this,r),wr(Nn(n=t.call(this,e)),"downloadHistory",(function(){n.props.downloadHistory(n.props.application.history)})),wr(Nn(n),"cancelSettings",(function(){n.setState({showSettings:!1})})),wr(Nn(n),"openSettings",(function(){n.setState({showSettings:!0})})),n.state={showSettings:!1},n}return Mn(r,[{key:"render",value:function(){return pl("div",null,pl(jc,null,pl(jc.Toggle,{variant:"light",id:"dropdown-basic"},pl(Bc.a,null)),pl(jc.Menu,null,pl(jc.Item,{onSelect:this.downloadHistory},"Download History"),pl(jc.Item,{onSelect:this.props.doClearHistory},"Clear History"),pl(jc.Divider,null),pl(jc.Item,{disabled:!0},"Import Menu"),pl(jc.Item,{onSelect:this.openSettings},"Settings"))),pl(ll,{show:this.state.showSettings,close:this.cancelSettings}))}}]),r}(s.a.Component);var fl=X((function(e){return{application:e}}),(function(e){return{doClearHistory:function(){e({type:dr.CLEAR_HISTORY})},downloadHistory:function(e){var t=JSON.stringify(e,null,4),r="history-"+(new Date).toISOString().slice(0,-5).replace(/:/g,"-");Ns()(t,r,"application/json")}}}))(dl),ml=Math.pow(2,31)-1;function vl(){var e=Bs(),t=Object(o.useRef)();return bu((function(){return clearTimeout(t.current)})),Object(o.useMemo)((function(){var r=function(){return clearTimeout(t.current)};return{set:function(n,i){void 0===i&&(i=0),e()&&(r(),i<=ml?t.current=setTimeout(n,i):function e(t,r,n){var i=n-Date.now();t.current=i<=ml?setTimeout(r,i):setTimeout((function(){return e(t,r,n)}),ml)}(t,n,Date.now()+i))},clear:r}}),[])}var gl=s.a.forwardRef((function(e,t){var r,n,i=e.flip,a=e.placement,c=e.containerPadding,u=void 0===c?5:c,l=e.popperConfig,p=void 0===l?{}:l,h=e.transition,d=Fs(),f=d[0],g=d[1],y=Fs(),b=y[0],S=y[1],w=si(g,t),k=Au(e.container),E=Au(e.target),O=Object(o.useState)(!e.show),x=O[0],C=O[1],P=tc(p.modifiers),T=rc(E,f,m(m({},p),{},{placement:a||"bottom",modifiers:m(m({},P),{},{eventListeners:{enabled:!!e.show},preventOverflow:m(m({},P.preventOverflow),{},{options:m({padding:u||5},null==(r=P.preventOverflow)?void 0:r.options)}),arrow:m(m({},P.arrow),{},{enabled:!!b,options:m(m({},null==(n=P.arrow)?void 0:n.options),{},{element:b})}),flip:m({enabled:!!i},P.flip)})})),R=T.styles,M=T.arrowStyles,A=v(T,["styles","arrowStyles"]);e.show?x&&C(!1):e.transition||x||C(!0);var I=e.show||h&&!x;if(uc(f,e.onHide,{disabled:!e.rootClose||e.rootCloseDisabled,clickTrigger:e.rootCloseEvent}),!I)return null;var _=e.children(m(m({},A),{},{show:!!e.show,props:{style:R,ref:w},arrowProps:{style:M,ref:S}}));if(h){var N=e.onExit,D=e.onExiting,F=e.onEnter,j=e.onEntering,B=e.onEntered;_=s.a.createElement(h,{in:e.show,appear:!0,onExit:N,onExiting:D,onExited:function(){C(!0),e.onExited&&e.onExited.apply(e,arguments)},onEnter:F,onEntering:j,onEntered:B},_)}return k?re.a.createPortal(_,k):null}));gl.displayName="Overlay",gl.propTypes={show:c.a.bool,placement:c.a.oneOf(va),target:c.a.any,container:c.a.any,flip:c.a.bool,children:c.a.func.isRequired,containerPadding:c.a.number,popperConfig:c.a.object,rootClose:c.a.bool,rootCloseEvent:c.a.oneOf(["click","mousedown"]),rootCloseDisabled:c.a.bool,onHide:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var i;return e.rootClose?(i=c.a.func).isRequired.apply(i,[e].concat(r)):c.a.func.apply(c.a,[e].concat(r))},transition:c.a.elementType,onEnter:c.a.func,onEntering:c.a.func,onEntered:c.a.func,onExit:c.a.func,onExiting:c.a.func,onExited:c.a.func};var yl=gl,bl={transition:ao,rootClose:!1,show:!1,placement:"top"};function Sl(e){var t=e.children,r=e.transition,n=e.popperConfig,i=void 0===n?{}:n,a=v(e,["children","transition","popperConfig"]),c=Object(o.useRef)({}),u=Tc(),l=u[0],p=u[1];return r=!0===r?ao:r||null,s.a.createElement(yl,m({},a,{ref:l,popperConfig:m({},i,{modifiers:p.concat(i.modifiers||[])}),transition:r}),(function(e){var n=e.props,i=e.arrowProps,o=e.show,a=e.state,u=e.scheduleUpdate,l=e.placement,p=e.outOfBoundaries,h=v(e,["props","arrowProps","show","state","scheduleUpdate","placement","outOfBoundaries"]);!function(e,t){var r=e.ref,n=t.ref;e.ref=r.__wrapped||(r.__wrapped=function(e){return r(ic(e))}),t.ref=n.__wrapped||(n.__wrapped=function(e){return n(ic(e))})}(n,i);var d=Object.assign(c.current,{state:a,scheduleUpdate:u,placement:l,outOfBoundaries:p});return"function"===typeof t?t(m({},h,{},n,{placement:l,show:o,popper:d,arrowProps:i})):s.a.cloneElement(t,m({},h,{},n,{placement:l,arrowProps:i,popper:d,className:Bn()(t.props.className,!r&&o&&"show"),style:m({},t.props.style,{},n.style)}))}))}Sl.defaultProps=bl;var wl=Sl,kl=function(e){function t(){return e.apply(this,arguments)||this}return Kn(t,e),t.prototype.render=function(){return this.props.children},t}(s.a.Component);function El(e,t,r){var n=t.currentTarget,i=t.relatedTarget||t.nativeEvent[r];i&&i===n||nc(n,i)||e(t)}function Ol(e){var t=e.trigger,r=e.overlay,n=e.children,i=e.popperConfig,a=void 0===i?{}:i,c=e.defaultShow,u=e.delay,l=e.placement,p=e.flip,h=void 0===p?l&&-1!==l.indexOf("auto"):p,d=v(e,["trigger","overlay","children","popperConfig","defaultShow","delay","placement","flip"]),f=Object(o.useRef)(null),g=vl(),y=Object(o.useRef)(),b=Object(o.useState)(!!c),S=b[0],w=b[1],k=function(e){return e&&"object"===typeof e?e:{show:e,hide:e}}(u),E=s.a.Children.only(n),O=E.props,x=O.onFocus,C=O.onBlur,P=O.onClick,T=Object(o.useCallback)((function(){return ic(f.current)}),[]),R=Object(o.useCallback)((function(){g.clear(),y.current="show",k.show?g.set((function(){"show"===y.current&&w(!0)}),k.show):w(!0)}),[k.show,g]),M=Object(o.useCallback)((function(){g.clear(),y.current="hide",k.hide?g.set((function(){"hide"===y.current&&w(!1)}),k.hide):w(!1)}),[k.hide,g]),A=Object(o.useCallback)((function(e){R(e),x&&x(e)}),[R,x]),I=Object(o.useCallback)((function(e){M(e),C&&C(e)}),[M,C]),_=Object(o.useCallback)((function(e){w((function(e){return!e})),P&&P(e)}),[P]),N=Object(o.useCallback)((function(e){El(R,e,"fromElement")}),[R]),D=Object(o.useCallback)((function(e){El(M,e,"toElement")}),[M]),F={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:function(e){var t=e.state;return function(){t.elements.reference.removeAttribute("aria-describedby")}},fn:function(e){var t=e.state.elements,r=t.popper,n=t.reference;if(S&&n){var i=r.getAttribute("role")||"";r.id&&"tooltip"===i.toLowerCase()&&n.setAttribute("aria-describedby",r.id)}}},j=null==t?[]:[].concat(t),B={};return-1!==j.indexOf("click")&&(B.onClick=_),-1!==j.indexOf("focus")&&(B.onFocus=A,B.onBlur=I),-1!==j.indexOf("hover")&&(B.onMouseOver=N,B.onMouseOut=D),s.a.createElement(s.a.Fragment,null,s.a.createElement(kl,{ref:f},Object(o.cloneElement)(E,B)),s.a.createElement(wl,m({},d,{popperConfig:m({},a,{modifiers:[F].concat(a.modifiers||[])}),show:S,onHide:M,target:T,placement:l,flip:h}),r))}Ol.defaultProps={defaultShow:!1,trigger:["hover","focus"]};var xl=Ol,Cl=s.a.forwardRef((function(e,t){var r=e.as,n=void 0===r?"div":r,i=e.bsPrefix,o=e.className,a=e.children,c=v(e,["as","bsPrefix","className","children"]);return i=Xn(i,"popover-header"),s.a.createElement(n,m({ref:t},c,{className:Bn()(i,o)}),a)})),Pl=s.a.forwardRef((function(e,t){var r=e.as,n=void 0===r?"div":r,i=e.bsPrefix,o=e.className,a=e.children,c=v(e,["as","bsPrefix","className","children"]);return i=Xn(i,"popover-body"),s.a.createElement(n,m({ref:t},c,{className:Bn()(o,i)}),a)})),Tl=s.a.forwardRef((function(e,t){var r=e.bsPrefix,n=e.placement,i=e.className,o=e.style,a=e.children,c=e.content,u=e.arrowProps,l=(e.popper,e.show,v(e,["bsPrefix","placement","className","style","children","content","arrowProps","popper","show"])),p=Xn(r,"popover");return s.a.createElement("div",m({ref:t,role:"tooltip",style:o,"x-placement":n,className:Bn()(i,p,"bs-popover-"+n)},l),s.a.createElement("div",m({className:"arrow"},u,{style:u?m({},u.style,{margin:0}):void 0})),c?s.a.createElement(Pl,null,a):a)}));Tl.defaultProps={placement:"right"},Tl.Title=Cl,Tl.Content=Pl;var Rl=Tl,Ml=s.a.createElement;function Al(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(lm){return!1}}();return function(){var r,n=Fn(e);if(t){var i=Fn(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Dn(this,r)}}var Il=function(e){In(r,e);var t=Al(r);function r(e){var n;return Tn(this,r),wr(Nn(n=t.call(this,e)),"textAreaRef",s.a.createRef()),n.state={hover:!1},n}return Mn(r,[{key:"render",value:function(){var e=this;return Ml("textarea",{ref:this.textAreaRef,autoFocus:!0,onInput:function(t){e.props.setNote(e.props.id,t.currentTarget.value)},onKeyDown:function(e){console.log('"'.concat(e.key,'"')),"Escape"===e.key&&document.body.click()},rows:5,cols:20,style:{resize:"both"},defaultValue:this.props.note})}},{key:"componentDidMount",value:function(){var e=this.textAreaRef.current,t=e.value.length;e.focus(),e.setSelectionRange(t,t)}}]),r}(s.a.Component);var _l=X(null,(function(e){return{setNote:function(t,r){console.log("setNote(".concat(t,', "').concat(r,'")')),e(Sr(t,{note:r}))}}}))(Il),Nl=s.a.createElement;function Dl(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(lm){return!1}}();return function(){var r,n=Fn(e);if(t){var i=Fn(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Dn(this,r)}}var Fl=function(e){In(r,e);var t=Dl(r);function r(e){var n;return Tn(this,r),wr(Nn(n=t.call(this,e)),"panelEndRef",s.a.createRef()),wr(Nn(n),"itemCount",0),wr(Nn(n),"scrollOnUpdate",!1),wr(Nn(n),"setCorrectness",(function(e,t){t!==Kr.CORRECT&&t!==Kr.INCORRECT&&t!==Kr.UNKNOWN||n.props.setCorrectness(e,{correctness:t})})),wr(Nn(n),"setNote",(function(e,t){n.props.setCorrectness(e,{note:t})})),n.onMouseEnter=n.onMouseEnter.bind(Nn(n)),n.onMouseLeave=n.onMouseLeave.bind(Nn(n)),n.state={hover:!1},n}return Mn(r,[{key:"onMouseEnter",value:function(e){this.setState({hover:!0})}},{key:"onMouseLeave",value:function(){this.setState({hover:!1})}},{key:"render",value:function(){var e,t=this.props.history;return Nl("div",{className:Fo.a.historyItem,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},Nl("div",{className:Fo.a.historyItemHeader},function(e,t,r){var n=t.correctness,i=t.id;return e?Nl(jc,{onSelect:function(e){r(i,e)}},Nl(jc.Toggle,{as:jl,id:"dropdown-basic"},Bl(e,n)),Nl(jc.Menu,{style:{minWidth:"1rem",padding:"0px 2px"}},Nl(jc.Item,{eventKey:Kr.CORRECT,style:{padding:"1px 1ex"}},Nl(No.n,{style:{color:"green"}})),Nl(jc.Item,{eventKey:Kr.INCORRECT,style:{padding:"1px 1ex"}},Nl(No.m,{style:{color:"red"}})),Nl(jc.Item,{eventKey:Kr.UNKNOWN,style:{padding:"1px 1ex"}},Nl(No.j,{style:{color:"lightgray"}})))):Nl("div",{className:"dropdown"},Bl(e,n))}(this.state.hover,t,this.setCorrectness),(e=t.source,Nl("span",{className:Fo.a.historySource},function(e){switch(e){case $r.COMMAND:return Nl(No.p,null);case $r.KEYBOARD:return Nl(No.f,null);case $r.MICROPHONE:return Nl(No.g,null);default:return Nl(No.j,null)}}(e))),Nl("b",null,"".concat(t.timestamp.toLocaleTimeString(),": ")),Nl("span",{style:{paddingLeft:"6px"}},Nl("i",null,t.text)),function(e,t,r){var n=t.note,i=n?{color:"#ffd699",marginLeft:"6px"}:{color:"lightgray",marginLeft:"6px"},o=Nl(n?No.d:No.k,{style:i});if(e){var s=Nl(Rl,{id:"popover-basic",style:{maxWidth:"unset"}},Nl(Rl.Content,null,Nl(_l,{id:t.id,note:n})));return Nl(xl,{trigger:"click",placement:"right",overlay:s,rootClose:!0,rootCloseEvent:"mousedown"},o)}return n?o:null}(this.state.hover,t,this.setNote)),this.renderCart(t.cart))}},{key:"renderCart",value:function(e){return Nl("div",{className:Fo.a.historyCart},this.renderItemList(e.items))}},{key:"renderItemList",value:function(e){var t=this;return e.map((function(e){var r=t.props.world.catalog.getSpecific(e.key);return Nl("div",{className:Fo.a.cartItem,key:e.uid},"".concat(e.quantity," ").concat(r.name," (").concat(r.sku,")"),t.renderItemList(e.children))}))}},{key:"scrollToBottom",value:function(){this.panelEndRef.current.scrollIntoView({behavior:"auto"})}}]),r}(s.a.Component);var jl=s.a.forwardRef((function(e,t){var r=e.children,n=e.onClick;return Nl("a",{href:"",ref:t,onClick:function(e){e.preventDefault(),n(e)}},r)}));function Bl(e,t){switch(t){case Kr.CORRECT:return Nl(No.n,{style:{color:"green",paddingRight:"4px"}});case Kr.INCORRECT:return Nl(No.m,{style:{color:"red",paddingRight:"4px"}});default:return Nl(No.j,{style:e?{color:"lightgray",paddingRight:"4px"}:{color:"white",paddingRight:"4px"}})}}var zl=X((function(e){return{world:e.bluePlateWorld.prixFixeWorld}}),(function(e){return{setCorrectness:function(t,r){e(Sr(t,r))}}}))(Fl),ql=s.a.createElement,Ll=i.a.mark(Gl);function Wl(e,t){var r;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"===typeof e)return Ul(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ul(e,t)}(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return s=e.done,e},e:function(e){a=!0,o=e},f:function(){try{s||null==r.return||r.return()}finally{if(a)throw o}}}}function Ul(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function $l(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(lm){return!1}}();return function(){var r,n=Fn(e);if(t){var i=Fn(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Dn(this,r)}}var Kl=function(e){In(r,e);var t=$l(r);function r(){var e;Tn(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return wr(Nn(e=t.call.apply(t,[this].concat(i))),"panelEndRef",s.a.createRef()),wr(Nn(e),"itemCount",0),wr(Nn(e),"scrollOnUpdate",!1),wr(Nn(e),"renderHistoryGroup",(function(e,t){return ql("div",{className:Fo.a.historyGroup,key:t.toString()},e[0].timestamp.toLocaleDateString(),e.map((function(e){return ql(zl,{history:e,key:e.id})})))})),e}return Mn(r,[{key:"render",value:function(){return ql("div",{className:Fo.a.historyPane},this.renderHistory(this.props.history),ql("div",{ref:this.panelEndRef}))}},{key:"componentDidMount",value:function(){this.scrollToBottom(),this.scrollOnUpdate=!1}},{key:"componentDidUpdate",value:function(){this.scrollOnUpdate&&(this.scrollToBottom(),this.scrollOnUpdate=!1)}},{key:"renderHistory",value:function(e){return this.itemCount!==e.length&&(this.itemCount=e.length,this.scrollOnUpdate=!0),Or(Gl(e)).map(this.renderHistoryGroup)}},{key:"scrollToBottom",value:function(){this.panelEndRef.current.scrollIntoView({behavior:"auto"})}}]),r}(s.a.Component),Hl=6e4;function Gl(e){var t,r,n,o;return i.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(!(e.length>0)){i.next=33;break}t=[],r=Wl(e),i.prev=3,r.s();case 5:if((n=r.n()).done){i.next=22;break}if((o=n.value).timestamp,0!==t.length){i.next=12;break}t.push(o),i.next=20;break;case 12:if(!(o.timestamp.getTime()-t[0].timestamp.getTime()<=Hl)){i.next=17;break}t.push(o),i.next=20;break;case 17:return i.next=19,t;case 19:t=[o];case 20:i.next=5;break;case 22:i.next=27;break;case 24:i.prev=24,i.t0=i.catch(3),r.e(i.t0);case 27:return i.prev=27,r.f(),i.finish(27);case 30:if(!(t.length>0)){i.next=33;break}return i.next=33,t;case 33:case"end":return i.stop()}}),Ll,null,[[3,24,27,30]])}var Vl=X((function(e){return{world:e.bluePlateWorld.prixFixeWorld}}))(Kl),Yl=r("IujW"),Ql=r.n(Yl),Zl=s.a.createElement;function Jl(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(lm){return!1}}();return function(){var r,n=Fn(e);if(t){var i=Fn(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Dn(this,r)}}var Xl=function(e){In(r,e);var t=Jl(r);function r(){return Tn(this,r),t.apply(this,arguments)}return Mn(r,[{key:"render",value:function(){var e=this.props.speechConfig,t=e.azureSubscriptionKey,r=!(!e.azureRegion||!t);return console.log("AzureWarning: ".concat(r)),r?null:Zl("div",{className:Fo.a.warning},Zl(Ql.a,{source:this.props.text}))}}]),r}(s.a.Component);var ep=X((function(e){return{speechConfig:e.speechConfig}}))(Xl),tp=s.a.createElement;function rp(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(lm){return!1}}();return function(){var r,n=Fn(e);if(t){var i=Fn(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Dn(this,r)}}var np=function(e){In(r,e);var t=rp(r);function r(){return Tn(this,r),t.apply(this,arguments)}return Mn(r,[{key:"render",value:function(){return console.log("ChromeWarning: ".concat(this.props.speechSupport)),this.props.speechSupport?null:tp("div",{className:Fo.a.warning},tp(Ql.a,{source:this.props.text}))}}]),r}(s.a.Component);var ip=X((function(e){return{speechSupport:e.speechConfig.speechSupport}}))(np),op=s.a.createElement;function sp(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(lm){return!1}}();return function(){var r,n=Fn(e);if(t){var i=Fn(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Dn(this,r)}}var ap=r("HvpQ").default.toString(),cp={code:function(e){var t=e.language,r=e.value;return"warning-chrome"===t?op(ip,{text:r}):"warning-azure"===t?op(ep,{text:r}):op("pre",null,op("code",{className:t&&"language-".concat(t)},r))}},up=function(e){In(r,e);var t=sp(r);function r(){return Tn(this,r),t.apply(this,arguments)}return Mn(r,[{key:"render",value:function(){return op("div",{id:"InfoControl",className:Fo.a.infoPane},op(Ql.a,{source:ap,renderers:cp}))}}]),r}(s.a.Component);var lp=X((function(e){return{application:e}}))(up),pp=s.a.createElement;function hp(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(lm){return!1}}();return function(){var r,n=Fn(e);if(t){var i=Fn(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Dn(this,r)}}var dp=function(e){In(r,e);var t=hp(r);function r(){return Tn(this,r),t.apply(this,arguments)}return Mn(r,[{key:"render",value:function(){var e="es-US"===this.props.application.language?"Espa\xf1ol (es-US)":"English (en-US)";return pp(jc,null,pp(jc.Toggle,{variant:"light",id:"dropdown-basic"},pp(No.e,{style:{width:"1.2em",height:"1.2em",paddingRight:"4px"}}),e),pp(jc.Menu,null,pp(jc.Item,{onSelect:this.props.setEnglish},"English (en-US)"),pp(jc.Item,{onSelect:this.props.setSpanish},"Espa\xf1ol (es-US)")))}}]),r}(s.a.Component);var fp=X((function(e){return{application:e}}),(function(e){return{setEnglish:function(){e(vr("en-US"))},setSpanish:function(){e(vr("es-US"))}}}))(dp),mp=s.a.createElement;function vp(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(lm){return!1}}();return function(){var r,n=Fn(e);if(t){var i=Fn(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Dn(this,r)}}function gp(e,t,r){return function(n){In(o,n);var i=vp(o);function o(e){var t;return Tn(this,o),wr(Nn(t=i.call(this,e)),"onDetail",(function(e){console.log("onDetail ".concat(e)),t.setState({detailKey:e,drilldownKey:void 0})})),wr(Nn(t),"onDrilldown",(function(e){console.log("onDrilldown ".concat(e)),t.setState({drilldownKey:0===e.length?void 0:e})})),t.onDetail=t.onDetail.bind(Nn(t)),t.onDrilldown=t.onDrilldown.bind(Nn(t)),t.state={},t}return Mn(o,[{key:"render",value:function(){return mp("div",{style:{display:"flex",flexDirection:"row",width:"100%",height:"100%"}},mp("div",{style:{flexShrink:0,overflow:"auto"}},mp(Mi,{className:"flex-column",variant:"pills",activeKey:this.state.detailKey,onSelect:this.onDetail,style:{backgroundColor:"white"}},mp(e,{selected:this.state.detailKey,onDetail:this.onDetail}))),mp("div",{style:{flexGrow:1,overflow:"auto"}},mp(Mi,{onSelect:this.onDrilldown,style:{width:"100%",height:"100%"}},void 0===this.state.drilldownKey?mp(t,{isDrilldown:!1,selected:this.state.detailKey}):mp(r,{isDrilldown:!0,selected:this.state.drilldownKey}))))}}]),o}(s.a.Component)}function yp(){return mp(Mi.Link,{eventKey:""},mp(No.a,{style:{color:"#007bff",width:"30px",height:"30px"}}))}gp((function(e){return mp("div",null,mp("h1",null,"Master ",e.selected),mp(Mi.Item,null,mp(Mi.Link,{eventKey:"one"},"one")),mp(Mi.Item,null,mp(Mi.Link,{eventKey:"two"},"two")))}),(function(e){var t=e.selected+"/a",r=e.selected+"/b";return mp("div",null,mp("h1",null,"Detail ",e.selected),mp(Mi.Link,{eventKey:t},t),mp(Mi.Link,{eventKey:r},r))}),(function(e){return mp("div",null,mp("h1",null,"Drilldown ",e.selected),mp(yp,null))}));var bp=s.a.createElement;function Sp(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(lm){return!1}}();return function(){var r,n=Fn(e);if(t){var i=Fn(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Dn(this,r)}}var wp=function(e){In(r,e);var t=Sp(r);function r(){return Tn(this,r),t.apply(this,arguments)}return Mn(r,[{key:"render",value:function(){if(this.props.lexiconSpec){var e=this.props.selected;return e||(e=Op(this.props.lexiconSpec.lexicon[0]),this.props.onDetail(e)),bp("div",{style:{width:"100%",height:"100%",overflow:"auto"}},bp(Mi,{className:"flex-column",activeKey:this.props.selected,variant:"pills"},this.props.lexiconSpec.lexicon.map((function(e,t){var r=Op(e);return bp(Mi.Item,{key:r,style:{paddingTop:"0",paddingBottom:"0"}},bp(Mi.Link,{style:{whiteSpace:"nowrap",paddingTop:"0",paddingBottom:"0"},eventKey:r},r))}))))}return null}}],[{key:"connect",value:function(){return X((function(e){return{lexiconSpec:e.bluePlateWorld.lexiconSpec}}))(r)}}]),r}(s.a.Component),kp=function(e){In(r,e);var t=Sp(r);function r(){return Tn(this,r),t.apply(this,arguments)}return Mn(r,[{key:"render",value:function(){var e=this;if(this.props.lexiconSpec){var t=this.props.lexiconSpec.lexicon.find((function(t){return Op(t)===e.props.selected}));if(t){var r=Op(t);return bp("div",{style:{display:"flex",flexDirection:"column",width:"100%",height:"100%"}},bp("h1",null,r),bp("div",{style:{flexGrow:1,overflow:"auto"}},t.aliases.map((function(e,t){return bp(Mi.Item,{key:t,style:{paddingTop:"0",paddingBottom:"0"}},bp(Mi.Link,{style:{whiteSpace:"nowrap",paddingTop:"0",paddingBottom:"0"},eventKey:e},e))}))))}return null}return null}}],[{key:"connect",value:function(){return X((function(e){return{lexiconSpec:e.bluePlateWorld.lexiconSpec}}))(r)}}]),r}(s.a.Component),Ep=function(e){In(r,e);var t=Sp(r);function r(){return Tn(this,r),t.apply(this,arguments)}return Mn(r,[{key:"render",value:function(){var e=Object(xr.patternFromExpression)(this.props.selected),t=Or(Object(xr.aliasesFromPattern)(e));return console.log(e),console.log(t),bp("div",{style:{display:"flex",flexDirection:"column",width:"100%",height:"100%"}},bp("div",{style:{display:"flex",flexDirection:"row"}},bp(yp,null),bp("h1",{style:{flexGrow:1,whiteSpace:"nowrap"}},t.length," variant",1===t.length?"":"s")),bp("div",{style:{flexGrow:1,overflow:"auto"}},bp("div",{style:{fontWeight:"bold",whiteSpace:"nowrap"}},this.props.selected),t.map((function(e,t){return bp("div",{className:Fo.a.nested,key:t,style:{whiteSpace:"nowrap"}},e)}))))}}]),r}(s.a.Component);function Op(e){return"QUANTITY"===e.name?"QUANTITY("+e.value+")":e.name}var xp=gp(wp.connect(),kp.connect(),Ep),Cp=s.a.createElement;function Pp(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(lm){return!1}}();return function(){var r,n=Fn(e);if(t){var i=Fn(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Dn(this,r)}}var Tp=function(e){In(r,e);var t=Pp(r);function r(){return Tn(this,r),t.apply(this,arguments)}return Mn(r,[{key:"render",value:function(){return Cp("h1",null,"Loading")}}]),r}(s.a.Component),Rp=s.a.createElement;function Mp(e,t){var r;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"===typeof e)return Ap(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ap(e,t)}(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return s=e.done,e},e:function(e){a=!0,o=e},f:function(){try{s||null==r.return||r.return()}finally{if(a)throw o}}}}function Ap(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ip(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(lm){return!1}}();return function(){var r,n=Fn(e);if(t){var i=Fn(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Dn(this,r)}}var _p=function(e){In(r,e);var t=Ip(r);function r(){var e;Tn(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return wr(Nn(e=t.call.apply(t,[this].concat(i))),"renderGenericLink",(function(e){return Rp(Mi.Item,{key:e.pid,style:{paddingTop:"0",paddingBottom:"0"}},Rp(Mi.Link,{className:Fo.a.nested,key:e.pid,eventKey:e.pid},e.name," (",e.pid,")"))})),e}return Mn(r,[{key:"render",value:function(){return Rp("div",{id:"productDetail",style:{width:"100%",height:"100%"}},this.renderGeneric(this.props.world))}},{key:"renderGeneric",value:function(e){var t=e.catalog;if(void 0===this.props.selected)return null;var r=Number(this.props.selected);if(t.hasPID(r)){var n=t.getGeneric(r);return Rp("div",{style:{display:"flex",flexDirection:"column",width:"100%",height:"100%"}},Rp("div",{style:{display:"flex",flexDirection:"row"}},this.props.isDrilldown?Rp(yp,null):null,Rp("h1",null,n.name," (",n.pid,")")),Rp("div",{style:{display:"flex",flexDirection:"row",flexGrow:1,overflow:"auto"}},function(e){return Rp("div",{className:Fo.a.menuDetailColumn},Rp("div",{style:{fontWeight:"bold"}},"Aliases"),Np(e.aliases))}(n),function(e,t){var r=e.attributeInfo.getTensor(t.tensor);return Rp("div",{className:Fo.a.menuDetailColumn},Rp("div",{style:{fontWeight:"bold"}},"Attributes"),r.dimensions.map((function(e,t){return Rp("div",{className:Fo.a.nested,key:t},Rp("div",{style:{fontWeight:"bold"}},e.name),e.attributes.map(n))})));function n(e,t){return Rp("div",{className:Fo.a.nested,key:t},Rp("div",{style:{fontWeight:"bold"}},e.name),Np(e.aliases))}}(e,n),function(e,t){var r=e.catalog,n=Or(r.getSpecificsForGeneric(t.pid));return Rp("div",{className:Fo.a.menuDetailColumn},Rp("div",{style:{fontWeight:"bold"}},"Specific Forms"),n.map((function(e,n){var i=t.defaultKey===e?" <== default":"",o=r.getSpecific(e),s=o.name,a=o.sku;return Rp("div",{className:Fo.a.nested,key:n},s," (",e,", ",a,")",i?Rp("span",{style:{paddingLeft:"1ex"}},Rp(No.c,{title:"default form"})):null)})))}(e,n),this.renderLegalOptions(e,n),this.renderExlusionSets(e,n)))}return Rp("div",null,"Unknown PID ",r)}},{key:"renderLegalOptions",value:function(e,t){var r,n=e.catalog,i=e.ruleChecker,o=n.getSpecific(t.defaultKey),s=[],a=Mp(i.getValidChildren(t.defaultKey));try{for(a.s();!(r=a.n()).done;){var c=r.value;if(n.hasPID(c)){var u=n.getGeneric(c);s.push(u)}}}catch(l){a.e(l)}finally{a.f()}return s.sort((function(e,t){return e.name.localeCompare(t.name)})),Rp("div",{className:Fo.a.menuDetailColumn},Rp("div",{style:{fontWeight:"bold",whiteSpace:"nowrap"}},"Options for ",Rp("span",{style:{backgroundColor:"lightgray"}},o.name," (",o.key,", ",o.sku,")")),s.map(this.renderGenericLink))}},{key:"renderExlusionSets",value:function(e,t){var r=this,n=e.catalog,i=Or(e.ruleChecker.getExclusionGroups(t.pid));return Rp("div",{className:Fo.a.menuDetailColumn},Rp("div",{style:{fontWeight:"bold"}},"Exclusion Sets"),i.map((function(e,t){var i=Or(e.values()).map((function(e){return n.getGeneric(e)}));return i.sort((function(e,t){return e.name.localeCompare(t.name)})),Rp("div",{className:Fo.a.nested,key:t},Rp("div",{style:{fontWeight:"bold"}},"Set ",t),i.map(r.renderGenericLink))})))}},{key:"renderSortedGenerics",value:function(e){return e.sort((function(e,t){return e.name.localeCompare(t.name)})),e.map(this.renderGenericLink)}}]),r}(s.a.Component);function Np(e){var t,r=[],n=Mp(e);try{for(n.s();!(t=n.n()).done;){var i,o=t.value,s=Object(xr.patternFromExpression)(o),a=Mp(Object(xr.aliasesFromPattern)(s));try{for(a.s();!(i=a.n()).done;){var c=i.value;r.push(c)}}catch(u){a.e(u)}finally{a.f()}}}catch(u){n.e(u)}finally{n.f()}return r.sort(),r.map((function(e,t){return Rp("div",{className:Fo.a.nested,key:t},e)}))}var Dp=X((function(e){return{world:e.bluePlateWorld.prixFixeWorld}}))(_p),Fp=s.a.createElement;function jp(e,t){var r;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"===typeof e)return Bp(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Bp(e,t)}(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return s=e.done,e},e:function(e){a=!0,o=e},f:function(){try{s||null==r.return||r.return()}finally{if(a)throw o}}}}function Bp(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function zp(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(lm){return!1}}();return function(){var r,n=Fn(e);if(t){var i=Fn(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Dn(this,r)}}var qp=function(e){In(r,e);var t=zp(r);function r(){return Tn(this,r),t.apply(this,arguments)}return Mn(r,[{key:"render",value:function(){return Fp("div",null,this.renderCatalog())}},{key:"renderCatalog",value:function(){var e,t=[],r=[],n=jp(this.props.application.bluePlateWorld.prixFixeWorld.catalog.genericEntities());try{for(n.s();!(e=n.n()).done;){var i=e.value;i.kind===xr.MENUITEM?t.push(i):r.push(i)}}catch(a){n.e(a)}finally{n.f()}t.sort((function(e,t){return e.name.localeCompare(t.name)})),r.sort((function(e,t){return e.name.localeCompare(t.name)}));var o=Number(this.props.selected);return isNaN(o)&&(t.length>0?o=t[0].pid:r.length>0&&(o=r[0].pid),this.props.onDetail(o.toString())),Fp("div",{style:{width:"100%",height:"100%",overflow:"auto"}},Fp(Mi,{className:"flex-column",activeKey:o,variant:"pills"},Fp("div",{style:{fontWeight:"bold"}},"Products:"),t.map(s),Fp("div",{style:{fontWeight:"bold"}},"Options:"),r.map(s)));function s(e){return Fp(Mi.Item,{key:e.pid,style:{paddingTop:"0",paddingBottom:"0"}},Fp(Mi.Link,{style:{whiteSpace:"nowrap",paddingTop:"0",paddingBottom:"0"},eventKey:e.pid},e.name," (",e.pid,")"))}}}]),r}(s.a.Component);var Lp=gp(X((function(e){return{application:e}}))(qp),Dp,Dp),Wp=s.a.createElement;function Up(e,t){var r;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"===typeof e)return $p(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $p(e,t)}(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return s=e.done,e},e:function(e){a=!0,o=e},f:function(){try{s||null==r.return||r.return()}finally{if(a)throw o}}}}function $p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Kp(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(lm){return!1}}();return function(){var r,n=Fn(e);if(t){var i=Fn(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Dn(this,r)}}var Hp=function(e){In(r,e);var t=Kp(r);function r(){return Tn(this,r),t.apply(this,arguments)}return Mn(r,[{key:"render",value:function(){return console.log("Master render"),console.log(this.props),this.props.invertedIndex?(this.props.selected||this.props.onDetail(this.props.invertedIndex.terms[0].hash.toString()),this.props.invertedIndex.terms.map((function(e,t){return Wp(Mi.Item,{key:e.hash,style:{paddingTop:"0",paddingBottom:"0"}},Wp(Mi.Link,{style:{whiteSpace:"nowrap",paddingTop:"0",paddingBottom:"0"},eventKey:e.hash},e.term," (",e.tokenToAliases.size,")"))}))):null}}],[{key:"connect",value:function(){return X((function(e){return{invertedIndex:e.bluePlateWorld.postings}}))(r)}}]),r}(s.a.Component),Gp=function(e){In(r,e);var t=Kp(r);function r(){return Tn(this,r),t.apply(this,arguments)}return Mn(r,[{key:"render",value:function(){var e=this;if(!this.props.invertedIndex)return null;var t=Number(this.props.selected),r=this.props.invertedIndex.terms.find((function(e){return e.hash===t}));if(!r)return null;var n,i=new Map,o=Up(r.tokenToAliases.keys());try{for(o.s();!(n=o.n()).done;){var s=n.value,a=i.get(s.type);a?a.push(s):i.set(s.type,[s])}}catch(c){o.e(c)}finally{o.f()}return Wp("div",{style:{display:"flex",flexDirection:"column",width:"100%",height:"100%"}},Wp("h1",null,r.term),Wp("div",{style:{display:"flex",flexDirection:"row",flexGrow:1,overflow:"auto"}},Or(i.entries()).map((function(t,n){var i=t[0].toString();"".concat(i.slice(7,i.length-1));return e.renderTokenTypes(r,t[0],t[1])}))))}},{key:"renderTokenTypes",value:function(e,t,r){var n=t.toString(),i="".concat(n.slice(7,n.length-1));return Wp("div",{style:{borderRight:"solid black 1px",paddingRight:"1em",marginRight:"1em"}},Wp("b",null,i),r.map((function(t){var r=fs(t,0),n=e.tokenToAliases.get(t);return Wp("div",null,Wp("div",{style:{fontWeight:"bold",paddingLeft:"1em"}},r.name),n.map((function(e){return Wp("div",{style:{paddingLeft:"2em",whiteSpace:"nowrap"}},e.text)})))})))}}],[{key:"connect",value:function(){return X((function(e){return{invertedIndex:e.bluePlateWorld.postings}}))(r)}}]),r}(s.a.Component),Vp=function(e){In(r,e);var t=Kp(r);function r(){return Tn(this,r),t.apply(this,arguments)}return Mn(r,[{key:"render",value:function(){if(!this.props.selected)return null;var e=this.props.selected.split("/"),t=Number(e[0]),r=Number(e[1]),n=this.props.invertedIndex.idToToken.get(r),i=this.props.invertedIndex.terms.find((function(e){return e.hash===t})).tokenToAliases.get(n);return Wp("div",null,Wp("div",{style:{display:"flex",flexDirection:"row"}},Wp(yp,null),Wp("h1",{style:{flexGrow:1}},"Detail ",this.props.selected)),Wp("b",null,this.props.selected),i.map((function(e,t){return Wp("div",{className:Fo.a.nested,key:t},e.text)})))}}],[{key:"connect",value:function(){return X((function(e){return{invertedIndex:e.bluePlateWorld.postings}}))(r)}}]),r}(s.a.Component);var Yp=gp(Hp.connect(),Gp.connect(),Vp.connect());const Qp="OutputFormat",Zp="CancellationErrorCode",Jp="ServiceProperties",Xp="ForceDication";class eh{static throwIfNullOrUndefined(e,t){if(void 0===e||null===e)throw new Error("throwIfNullOrUndefined:"+t)}static throwIfNull(e,t){if(null===e)throw new Error("throwIfNull:"+t)}static throwIfNullOrWhitespace(e,t){if(eh.throwIfNullOrUndefined(e,t),(""+e).trim().length<1)throw new Error("throwIfNullOrWhitespace:"+t)}static throwIfDisposed(e){if(e)throw new Error("the object is already disposed")}static throwIfArrayEmptyOrWhitespace(e,t){if(eh.throwIfNullOrUndefined(e,t),0===e.length)throw new Error("throwIfArrayEmptyOrWhitespace:"+t);for(const r of e)eh.throwIfNullOrWhitespace(r,t)}static throwIfFileDoesNotExist(e,t){eh.throwIfNullOrWhitespace(e,t)}static throwIfNotUndefined(e,t){if(void 0!==e)throw new Error("throwIfNotUndefined:"+t)}}var th,rh,nh,ih,oh,sh,ah,ch,uh;!function(e){e[e.SpeechServiceConnection_Key=0]="SpeechServiceConnection_Key",e[e.SpeechServiceConnection_Endpoint=1]="SpeechServiceConnection_Endpoint",e[e.SpeechServiceConnection_Region=2]="SpeechServiceConnection_Region",e[e.SpeechServiceAuthorization_Token=3]="SpeechServiceAuthorization_Token",e[e.SpeechServiceAuthorization_Type=4]="SpeechServiceAuthorization_Type",e[e.SpeechServiceConnection_EndpointId=5]="SpeechServiceConnection_EndpointId",e[e.SpeechServiceConnection_TranslationToLanguages=6]="SpeechServiceConnection_TranslationToLanguages",e[e.SpeechServiceConnection_TranslationVoice=7]="SpeechServiceConnection_TranslationVoice",e[e.SpeechServiceConnection_TranslationFeatures=8]="SpeechServiceConnection_TranslationFeatures",e[e.SpeechServiceConnection_IntentRegion=9]="SpeechServiceConnection_IntentRegion",e[e.SpeechServiceConnection_ProxyHostName=10]="SpeechServiceConnection_ProxyHostName",e[e.SpeechServiceConnection_ProxyPort=11]="SpeechServiceConnection_ProxyPort",e[e.SpeechServiceConnection_ProxyUserName=12]="SpeechServiceConnection_ProxyUserName",e[e.SpeechServiceConnection_ProxyPassword=13]="SpeechServiceConnection_ProxyPassword",e[e.SpeechServiceConnection_RecoMode=14]="SpeechServiceConnection_RecoMode",e[e.SpeechServiceConnection_RecoLanguage=15]="SpeechServiceConnection_RecoLanguage",e[e.Speech_SessionId=16]="Speech_SessionId",e[e.SpeechServiceConnection_SynthLanguage=17]="SpeechServiceConnection_SynthLanguage",e[e.SpeechServiceConnection_SynthVoice=18]="SpeechServiceConnection_SynthVoice",e[e.SpeechServiceConnection_SynthOutputFormat=19]="SpeechServiceConnection_SynthOutputFormat",e[e.SpeechServiceResponse_RequestDetailedResultTrueFalse=20]="SpeechServiceResponse_RequestDetailedResultTrueFalse",e[e.SpeechServiceResponse_RequestProfanityFilterTrueFalse=21]="SpeechServiceResponse_RequestProfanityFilterTrueFalse",e[e.SpeechServiceResponse_JsonResult=22]="SpeechServiceResponse_JsonResult",e[e.SpeechServiceResponse_JsonErrorDetails=23]="SpeechServiceResponse_JsonErrorDetails",e[e.CancellationDetails_Reason=24]="CancellationDetails_Reason",e[e.CancellationDetails_ReasonText=25]="CancellationDetails_ReasonText",e[e.CancellationDetails_ReasonDetailedText=26]="CancellationDetails_ReasonDetailedText",e[e.LanguageUnderstandingServiceResponse_JsonResult=27]="LanguageUnderstandingServiceResponse_JsonResult",e[e.SpeechServiceConnection_Url=28]="SpeechServiceConnection_Url",e[e.SpeechServiceConnection_InitialSilenceTimeoutMs=29]="SpeechServiceConnection_InitialSilenceTimeoutMs",e[e.SpeechServiceConnection_EndSilenceTimeoutMs=30]="SpeechServiceConnection_EndSilenceTimeoutMs",e[e.SpeechServiceConnection_EnableAudioLogging=31]="SpeechServiceConnection_EnableAudioLogging",e[e.SpeechServiceResponse_ProfanityOption=32]="SpeechServiceResponse_ProfanityOption",e[e.SpeechServiceResponse_PostProcessingOption=33]="SpeechServiceResponse_PostProcessingOption",e[e.SpeechServiceResponse_RequestWordLevelTimestamps=34]="SpeechServiceResponse_RequestWordLevelTimestamps",e[e.SpeechServiceResponse_StablePartialResultThreshold=35]="SpeechServiceResponse_StablePartialResultThreshold",e[e.SpeechServiceResponse_OutputFormatOption=36]="SpeechServiceResponse_OutputFormatOption",e[e.SpeechServiceResponse_TranslationRequestStablePartialResult=37]="SpeechServiceResponse_TranslationRequestStablePartialResult",e[e.Conversation_ApplicationId=38]="Conversation_ApplicationId",e[e.Conversation_DialogType=39]="Conversation_DialogType",e[e.Conversation_Initial_Silence_Timeout=40]="Conversation_Initial_Silence_Timeout",e[e.Conversation_From_Id=41]="Conversation_From_Id",e[e.Conversation_Conversation_Id=42]="Conversation_Conversation_Id",e[e.Conversation_Custom_Voice_Deployment_Ids=43]="Conversation_Custom_Voice_Deployment_Ids",e[e.Conversation_Speech_Activity_Template=44]="Conversation_Speech_Activity_Template",e[e.SpeechServiceConnection_Host=45]="SpeechServiceConnection_Host",e[e.ConversationTranslator_Host=46]="ConversationTranslator_Host",e[e.ConversationTranslator_Name=47]="ConversationTranslator_Name",e[e.ConversationTranslator_CorrelationId=48]="ConversationTranslator_CorrelationId",e[e.ConversationTranslator_Token=49]="ConversationTranslator_Token"}(th||(th={}));class lh{constructor(){this.privKeys=[],this.privValues=[]}getProperty(e,t){let r;r="string"===typeof e?e:th[e];for(let n=0;n<this.privKeys.length;n++)if(this.privKeys[n]===r)return this.privValues[n];return t}setProperty(e,t){let r;r="string"===typeof e?e:th[e];for(let n=0;n<this.privKeys.length;n++)if(this.privKeys[n]===r)return void(this.privValues[n]=t);this.privKeys.push(r),this.privValues.push(t)}clone(){const e=new lh;for(let t=0;t<this.privKeys.length;t++)e.privKeys.push(this.privKeys[t]),e.privValues.push(this.privValues[t]);return e}}!function(e){e[e.Simple=0]="Simple",e[e.Detailed=1]="Detailed"}(rh||(rh={})),function(e){e[e.Masked=0]="Masked",e[e.Removed=1]="Removed",e[e.Raw=2]="Raw"}(nh||(nh={})),function(e){e[e.Raw8Khz8BitMonoMULaw=0]="Raw8Khz8BitMonoMULaw",e[e.Riff16Khz16KbpsMonoSiren=1]="Riff16Khz16KbpsMonoSiren",e[e.Audio16Khz16KbpsMonoSiren=2]="Audio16Khz16KbpsMonoSiren",e[e.Audio16Khz32KBitRateMonoMp3=3]="Audio16Khz32KBitRateMonoMp3",e[e.Audio16Khz128KBitRateMonoMp3=4]="Audio16Khz128KBitRateMonoMp3",e[e.Audio16Khz64KBitRateMonoMp3=5]="Audio16Khz64KBitRateMonoMp3",e[e.Audio24Khz48KBitRateMonoMp3=6]="Audio24Khz48KBitRateMonoMp3",e[e.Audio24Khz96KBitRateMonoMp3=7]="Audio24Khz96KBitRateMonoMp3",e[e.Audio24Khz160KBitRateMonoMp3=8]="Audio24Khz160KBitRateMonoMp3",e[e.Raw16Khz16BitMonoTrueSilk=9]="Raw16Khz16BitMonoTrueSilk",e[e.Riff16Khz16BitMonoPcm=10]="Riff16Khz16BitMonoPcm",e[e.Riff8Khz16BitMonoPcm=11]="Riff8Khz16BitMonoPcm",e[e.Riff24Khz16BitMonoPcm=12]="Riff24Khz16BitMonoPcm",e[e.Riff8Khz8BitMonoMULaw=13]="Riff8Khz8BitMonoMULaw",e[e.Raw16Khz16BitMonoPcm=14]="Raw16Khz16BitMonoPcm",e[e.Raw24Khz16BitMonoPcm=15]="Raw24Khz16BitMonoPcm",e[e.Raw8Khz16BitMonoPcm=16]="Raw8Khz16BitMonoPcm",e[e.Ogg16Khz16BitMonoOpus=17]="Ogg16Khz16BitMonoOpus",e[e.Ogg24Khz16BitMonoOpus=18]="Ogg24Khz16BitMonoOpus"}(ih||(ih={}));class ph{constructor(){}static fromSubscription(e,t){eh.throwIfNullOrWhitespace(e,"subscriptionKey"),eh.throwIfNullOrWhitespace(t,"region");const r=new hh;return r.setProperty(th.SpeechServiceConnection_Region,t),r.setProperty(th.SpeechServiceConnection_IntentRegion,t),r.setProperty(th.SpeechServiceConnection_Key,e),r}static fromEndpoint(e,t){eh.throwIfNull(e,"endpoint");const r=new hh;return r.setProperty(th.SpeechServiceConnection_Endpoint,e.href),void 0!==t&&r.setProperty(th.SpeechServiceConnection_Key,t),r}static fromHost(e,t){eh.throwIfNull(e,"hostName");const r=new hh;return r.setProperty(th.SpeechServiceConnection_Host,e.protocol+"//"+e.hostname+(""===e.port?"":":"+e.port)),void 0!==t&&r.setProperty(th.SpeechServiceConnection_Key,t),r}static fromAuthorizationToken(e,t){eh.throwIfNull(e,"authorizationToken"),eh.throwIfNullOrWhitespace(t,"region");const r=new hh;return r.setProperty(th.SpeechServiceConnection_Region,t),r.setProperty(th.SpeechServiceConnection_IntentRegion,t),r.authorizationToken=e,r}close(){}}class hh extends ph{constructor(){super(),this.privProperties=new lh,this.speechRecognitionLanguage="en-US",this.outputFormat=rh.Simple}get properties(){return this.privProperties}get endPoint(){return new URL(this.privProperties.getProperty(th.SpeechServiceConnection_Endpoint))}get subscriptionKey(){return this.privProperties.getProperty(th.SpeechServiceConnection_Key)}get region(){return this.privProperties.getProperty(th.SpeechServiceConnection_Region)}get authorizationToken(){return this.privProperties.getProperty(th.SpeechServiceAuthorization_Token)}set authorizationToken(e){this.privProperties.setProperty(th.SpeechServiceAuthorization_Token,e)}get speechRecognitionLanguage(){return this.privProperties.getProperty(th.SpeechServiceConnection_RecoLanguage)}set speechRecognitionLanguage(e){this.privProperties.setProperty(th.SpeechServiceConnection_RecoLanguage,e)}get outputFormat(){return rh[this.privProperties.getProperty(Qp,void 0)]}set outputFormat(e){this.privProperties.setProperty(Qp,rh[e])}get endpointId(){return this.privProperties.getProperty(th.SpeechServiceConnection_EndpointId)}set endpointId(e){this.privProperties.setProperty(th.SpeechServiceConnection_EndpointId,e)}setProperty(e,t){eh.throwIfNull(t,"value"),this.privProperties.setProperty(e,t)}getProperty(e,t){return this.privProperties.getProperty(e,t)}setProxy(e,t,r,n){this.setProperty(th[th.SpeechServiceConnection_ProxyHostName],e),this.setProperty(th[th.SpeechServiceConnection_ProxyPort],t),this.setProperty(th[th.SpeechServiceConnection_ProxyUserName],r),this.setProperty(th[th.SpeechServiceConnection_ProxyPassword],n)}setServiceProperty(e,t,r){const n=JSON.parse(this.privProperties.getProperty(Jp,"{}"));n[e]=t,this.privProperties.setProperty(Jp,JSON.stringify(n))}setProfanity(e){this.privProperties.setProperty(th.SpeechServiceResponse_ProfanityOption,nh[e])}enableAudioLogging(){this.privProperties.setProperty(th.SpeechServiceConnection_EnableAudioLogging,"true")}requestWordLevelTimestamps(){this.privProperties.setProperty(th.SpeechServiceResponse_RequestWordLevelTimestamps,"true")}enableDictation(){this.privProperties.setProperty(Xp,"true")}clone(){const e=new hh;return e.privProperties=this.privProperties.clone(),e}get speechSynthesisLanguage(){return this.privProperties.getProperty(th.SpeechServiceConnection_SynthLanguage)}set speechSynthesisLanguage(e){this.privProperties.setProperty(th.SpeechServiceConnection_SynthLanguage,e)}get speechSynthesisVoiceName(){return this.privProperties.getProperty(th.SpeechServiceConnection_SynthVoice)}set speechSynthesisVoiceName(e){this.privProperties.setProperty(th.SpeechServiceConnection_SynthVoice,e)}get speechSynthesisOutputFormat(){return ih[this.privProperties.getProperty(th.SpeechServiceConnection_SynthOutputFormat,void 0)]}set speechSynthesisOutputFormat(e){this.privProperties.setProperty(th.SpeechServiceConnection_SynthOutputFormat,ih[e])}}class dh{constructor(e,t){this.encode=e=>{const t=this.downSampleAudioFrame(e,this.privActualSampleRate,this.privDesiredSampleRate);if(!t)return null;const r=2*t.length,n=new ArrayBuffer(r),i=new DataView(n);return this.floatTo16BitPCM(i,0,t),n},this.setString=(e,t,r)=>{for(let n=0;n<r.length;n++)e.setUint8(t+n,r.charCodeAt(n))},this.floatTo16BitPCM=(e,t,r)=>{for(let n=0;n<r.length;n++,t+=2){const i=Math.max(-1,Math.min(1,r[n]));e.setInt16(t,i<0?32768*i:32767*i,!0)}},this.downSampleAudioFrame=(e,t,r)=>{if(r===t||r>t)return e;const n=t/r,i=Math.round(e.length/n),o=new Float32Array(i);let s=0,a=0;for(;a<i;){const t=Math.round((a+1)*n);let r=0,i=0;for(;s<t&&s<e.length;)r+=e[s++],i++;o[a++]=r/i}return o},this.privActualSampleRate=e,this.privDesiredSampleRate=t}}class fh{constructor(){this.record=(e,t,r)=>{const n=(()=>{let t=0;try{return e.createScriptProcessor(t,1,1)}catch(r){t=2048;let n=e.sampleRate;for(;t<16384&&n>=32e3;)t<<=1,n>>=1;return e.createScriptProcessor(t,1,1)}})(),i=new dh(e.sampleRate,16e3);let o=!0;n.onaudioprocess=e=>{const t=e.inputBuffer.getChannelData(0);if(r&&!r.isClosed){const e=i.encode(t);e&&(r.writeStreamChunk({buffer:e,isEnd:!1,timeReceived:Date.now()}),o=!1)}};const s=e.createMediaStreamSource(t);this.privSpeechProcessorScript&&e.audioWorklet?e.audioWorklet.addModule(this.privSpeechProcessorScript).then(()=>{const n=new AudioWorkletNode(e,"speech-processor");n.port.onmessage=e=>{const t=e.data;if(r&&!r.isClosed){const e=i.encode(t);e&&(r.writeStreamChunk({buffer:e,isEnd:!1,timeReceived:Date.now()}),o=!1)}},s.connect(n),n.connect(e.destination),this.privMediaResources={scriptProcessorNode:n,source:s,stream:t}}).catch(()=>{s.connect(n),n.connect(e.destination),this.privMediaResources={scriptProcessorNode:n,source:s,stream:t}}):(s.connect(n),n.connect(e.destination),this.privMediaResources={scriptProcessorNode:n,source:s,stream:t})},this.releaseMediaResources=e=>{this.privMediaResources&&(this.privMediaResources.scriptProcessorNode&&(this.privMediaResources.scriptProcessorNode.disconnect(e.destination),this.privMediaResources.scriptProcessorNode=null),this.privMediaResources.source&&(this.privMediaResources.source.disconnect(),this.privMediaResources.stream.getTracks().forEach(e=>e.stop()),this.privMediaResources.source=null))}}setWorkletUrl(e){this.privSpeechProcessorScript=e}}!function(e){e[e.Interactive=0]="Interactive",e[e.Conversation=1]="Conversation",e[e.Dictation=2]="Dictation"}(oh||(oh={})),function(e){e[e.Simple=0]="Simple",e[e.Detailed=1]="Detailed"}(sh||(sh={}));class mh{constructor(e,t){this.privRecognitionMode=oh.Interactive,this.privSpeechServiceConfig=e||new vh(new gh(null)),this.privParameters=t}get parameters(){return this.privParameters}get recognitionMode(){return this.privRecognitionMode}set recognitionMode(e){this.privRecognitionMode=e,this.privRecognitionActivityTimeout=e===oh.Interactive?8e3:25e3,this.privSpeechServiceConfig.Recognition=oh[e]}get SpeechServiceConfig(){return this.privSpeechServiceConfig}get recognitionActivityTimeout(){return this.privRecognitionActivityTimeout}get isContinuousRecognition(){return this.privRecognitionMode!==oh.Interactive}}class vh{constructor(e){this.serialize=()=>JSON.stringify(this,(e,t)=>{if(t&&"object"===typeof t){const e={};for(const r in t)Object.hasOwnProperty.call(t,r)&&(e[r&&r.charAt(0).toLowerCase()+r.substring(1)]=t[r]);return e}return t}),this.context=e}get Context(){return this.context}get Recognition(){return this.recognition}set Recognition(e){this.recognition=e.toLowerCase()}}class gh{constructor(e){this.system=new yh,this.os=e}}class yh{constructor(){this.name="SpeechSDK",this.version="1.12.1",this.build="JavaScript",this.lang="JavaScript"}}class bh{constructor(e,t,r){this.platform=e,this.name=t,this.version=r}}!function(e){e.Bluetooth="Bluetooth",e.Wired="Wired",e.WiFi="WiFi",e.Cellular="Cellular",e.InBuilt="InBuilt",e.Unknown="Unknown"}(ah||(ah={})),(uh=ch||(ch={})).Phone="Phone",uh.Speaker="Speaker",uh.Car="Car",uh.Headset="Headset",uh.Thermostat="Thermostat",uh.Microphones="Microphones",uh.Deskphone="Deskphone",uh.RemoteControl="RemoteControl",uh.Unknown="Unknown",uh.File="File",uh.Stream="Stream";var Sh=r("ruVm"),wh=r("ulfs");class kh extends wh.b{constructor(e,t,r=wh.a.Info){super(e,r),this.privAudioSourceId=t}get audioSourceId(){return this.privAudioSourceId}}class Eh extends kh{constructor(e){super("AudioSourceInitializingEvent",e)}}class Oh extends kh{constructor(e){super("AudioSourceReadyEvent",e)}}class xh extends kh{constructor(e){super("AudioSourceOffEvent",e)}}class Ch extends kh{constructor(e,t){super("AudioSourceErrorEvent",e,wh.a.Error),this.privError=t}get error(){return this.privError}}class Ph extends kh{constructor(e,t,r){super(e,t),this.privAudioNodeId=r}get audioNodeId(){return this.privAudioNodeId}}class Th extends Ph{constructor(e,t){super("AudioStreamNodeAttachingEvent",e,t)}}class Rh extends Ph{constructor(e,t){super("AudioStreamNodeAttachedEvent",e,t)}}class Mh extends Ph{constructor(e,t){super("AudioStreamNodeDetachedEvent",e,t)}}class Ah extends Ph{constructor(e,t,r){super("AudioStreamNodeErrorEvent",e,t),this.privError=r}get error(){return this.privError}}var Ih=r("ahYF"),_h=r("YonC"),Nh=r("PpvX");class Dh{constructor(e){this.privReaderIdCounter=1,this.privIsEnded=!1,this.getReader=()=>{const e=this.privReaderIdCounter;this.privReaderIdCounter++;const t=new Nh.a,r=this.privStreambuffer.length;this.privReaderQueues[e]=t;for(let n=0;n<r;n++)t.enqueue(this.privStreambuffer[n]);return new Fh(this.privId,t,()=>{delete this.privReaderQueues[e]})},this.throwIfClosed=()=>{if(this.privIsEnded)throw new Ih.b("Stream closed")},this.privId=e||Object(_h.a)(),this.privStreambuffer=[],this.privReaderQueues={}}get isClosed(){return this.privIsEnded}get id(){return this.privId}close(){this.privIsEnded||(this.writeStreamChunk({buffer:null,isEnd:!0,timeReceived:Date.now()}),this.privIsEnded=!0)}writeStreamChunk(e){this.throwIfClosed(),this.privStreambuffer.push(e);for(const t in this.privReaderQueues)if(!this.privReaderQueues[t].isDisposed())try{this.privReaderQueues[t].enqueue(e)}catch(lm){}}}class Fh{constructor(e,t,r){this.privIsClosed=!1,this.read=()=>{if(this.isClosed)throw new Ih.b("StreamReader closed");return this.privReaderQueue.dequeue().onSuccessContinueWith(e=>((void 0===e||e.isEnd)&&this.privReaderQueue.dispose("End of stream reached"),e))},this.close=()=>{this.privIsClosed||(this.privIsClosed=!0,this.privReaderQueue.dispose("StreamReader closed"),this.privOnClose())},this.privReaderQueue=t,this.privOnClose=r,this.privStreamId=e}get isClosed(){return this.privIsClosed}get streamId(){return this.privStreamId}}class jh extends Dh{constructor(e,t){super(t),this.privTargetChunkSize=e,this.privNextBufferReadyBytes=0}writeStreamChunk(e){if(e.isEnd||0===this.privNextBufferReadyBytes&&e.buffer.byteLength===this.privTargetChunkSize)return void super.writeStreamChunk(e);let t=0;for(;t<e.buffer.byteLength;){void 0===this.privNextBufferToWrite&&(this.privNextBufferToWrite=new ArrayBuffer(this.privTargetChunkSize),this.privNextBufferStartTime=e.timeReceived);const r=Math.min(e.buffer.byteLength-t,this.privTargetChunkSize-this.privNextBufferReadyBytes),n=new Uint8Array(this.privNextBufferToWrite),i=new Uint8Array(e.buffer.slice(t,r+t));n.set(i,this.privNextBufferReadyBytes),this.privNextBufferReadyBytes+=r,t+=r,this.privNextBufferReadyBytes===this.privTargetChunkSize&&(super.writeStreamChunk({buffer:this.privNextBufferToWrite,isEnd:!1,timeReceived:this.privNextBufferStartTime}),this.privNextBufferReadyBytes=0,this.privNextBufferToWrite=void 0)}}close(){0===this.privNextBufferReadyBytes||this.isClosed||super.writeStreamChunk({buffer:this.privNextBufferToWrite.slice(0,this.privNextBufferReadyBytes),isEnd:!1,timeReceived:this.privNextBufferStartTime}),super.close()}}var Bh=r("MGH9"),zh=r("rmMg");class qh{static getDefaultInputFormat(){return Lh.getDefaultInputFormat()}static getWaveFormatPCM(e,t,r){return new Lh(e,t,r)}}class Lh extends qh{constructor(e=16e3,t=16,r=1){super(),this.setString=(e,t,r)=>{for(let n=0;n<r.length;n++)e.setUint8(t+n,r.charCodeAt(n))},this.formatTag=1,this.bitsPerSample=t,this.samplesPerSec=e,this.channels=r,this.avgBytesPerSec=this.samplesPerSec*this.channels*(this.bitsPerSample/8),this.blockAlign=this.channels*Math.max(this.bitsPerSample,8),this.privHeader=new ArrayBuffer(44);const n=new DataView(this.privHeader);this.setString(n,0,"RIFF"),n.setUint32(4,0,!0),this.setString(n,8,"WAVEfmt "),n.setUint32(16,16,!0),n.setUint16(20,1,!0),n.setUint16(22,this.channels,!0),n.setUint32(24,this.samplesPerSec,!0),n.setUint32(28,this.avgBytesPerSec,!0),n.setUint16(32,this.channels*(this.bitsPerSample/8),!0),n.setUint16(34,this.bitsPerSample,!0),this.setString(n,36,"data"),n.setUint32(40,0,!0)}static getDefaultInputFormat(){return new Lh}close(){}get header(){return this.privHeader}}const Wh="MICROPHONE-WorkletSourceUrl";class Uh{constructor(e,t,r){this.privRecorder=e,this.deviceId=t,this.privStreams={},this.turnOn=()=>{if(this.privInitializeDeferral)return this.privInitializeDeferral.promise();this.privInitializeDeferral=new Sh.a;try{this.createAudioContext()}catch(r){if(r instanceof Error){const e=r;this.privInitializeDeferral.reject(e.name+": "+e.message)}else this.privInitializeDeferral.reject(r);return this.privInitializeDeferral.promise()}const e=window.navigator;let t=e.getUserMedia||e.webkitGetUserMedia||e.mozGetUserMedia||e.msGetUserMedia;if(e.mediaDevices&&(t=(t,r,n)=>{e.mediaDevices.getUserMedia(t).then(r).catch(n)}),t){const e=()=>{this.onEvent(new Eh(this.privId)),t({audio:!this.deviceId||{deviceId:this.deviceId},video:!1},e=>{this.privMediaStream=e,this.onEvent(new Oh(this.privId)),this.privInitializeDeferral.resolve(!0)},e=>{const t=`Error occurred during microphone initialization: ${e}`,r=this.privInitializeDeferral;this.privInitializeDeferral=null,r.reject(t),this.onEvent(new Ch(this.privId,t))})};"suspended"===this.privContext.state?this.privContext.resume().then(e,e=>{this.privInitializeDeferral.reject(`Failed to initialize audio context: ${e}`)}):e()}else{const e="Browser does not support getUserMedia.";this.privInitializeDeferral.reject(e),this.onEvent(new Ch(e,""))}return this.privInitializeDeferral.promise()},this.id=()=>this.privId,this.attach=e=>(this.onEvent(new Th(this.privId,e)),this.listen(e).onSuccessContinueWith(t=>(this.onEvent(new Rh(this.privId,e)),{detach:()=>{t.close(),this.turnOff(),delete this.privStreams[e],this.onEvent(new Mh(this.privId,e))},id:()=>e,read:()=>t.read()}))),this.detach=e=>{e&&this.privStreams[e]&&(this.privStreams[e].close(),delete this.privStreams[e],this.onEvent(new Mh(this.privId,e)))},this.turnOff=()=>{for(const e in this.privStreams)if(e){const t=this.privStreams[e];t&&t.close()}return this.onEvent(new xh(this.privId)),this.privInitializeDeferral=null,this.destroyAudioContext(),Sh.b.fromResult(!0)},this.listen=e=>this.turnOn().onSuccessContinueWith(t=>{const r=new jh(this.privOutputChunkSize,e);this.privStreams[e]=r;try{this.privRecorder.record(this.privContext,this.privMediaStream,r)}catch(n){throw this.onEvent(new Ah(this.privId,e,n)),n}return r.getReader()}),this.onEvent=e=>{this.privEvents.onEvent(e),Bh.a.instance.onEvent(e)},this.createAudioContext=()=>{if(!this.privContext){if("undefined"===typeof AudioContext)throw new Error("Browser does not support Web Audio API (AudioContext is not available).");navigator.mediaDevices.getSupportedConstraints().sampleRate?this.privContext=new AudioContext({sampleRate:Uh.AUDIOFORMAT.samplesPerSec}):this.privContext=new AudioContext}},this.destroyAudioContext=()=>{if(!this.privContext)return;this.privRecorder.releaseMediaResources(this.privContext);let e=!1;"close"in this.privContext&&(e=!0),e?(this.privContext.close(),this.privContext=null):null!==this.privContext&&"running"===this.privContext.state&&this.privContext.suspend()},this.privOutputChunkSize=Uh.AUDIOFORMAT.avgBytesPerSec/10,this.privId=r||Object(_h.a)(),this.privEvents=new zh.a}get format(){return Sh.b.fromResult(Uh.AUDIOFORMAT)}get events(){return this.privEvents}get deviceInfo(){return this.getMicrophoneLabel().onSuccessContinueWith(e=>({bitspersample:Uh.AUDIOFORMAT.bitsPerSample,channelcount:Uh.AUDIOFORMAT.channels,connectivity:ah.Unknown,manufacturer:"Speech SDK",model:e,samplerate:Uh.AUDIOFORMAT.samplesPerSec,type:ch.Microphones}))}setProperty(e,t){if(e!==Wh)throw new Error("Property '"+e+"' is not supported on Microphone.");this.privRecorder.setWorkletUrl(t)}getMicrophoneLabel(){if(void 0!==this.privMicrophoneLabel)return Sh.b.fromResult(this.privMicrophoneLabel);if(void 0===this.privMediaStream||!this.privMediaStream.active)return Sh.b.fromResult("microphone");this.privMicrophoneLabel="microphone";const e=this.privMediaStream.getTracks()[0].getSettings().deviceId;if(void 0===e)return Sh.b.fromResult(this.privMicrophoneLabel);const t=new Sh.a;return navigator.mediaDevices.enumerateDevices().then(r=>{for(const t of r)if(t.deviceId===e){this.privMicrophoneLabel=t.label;break}t.resolve(this.privMicrophoneLabel)},()=>t.resolve(this.privMicrophoneLabel)),t.promise()}}Uh.AUDIOFORMAT=qh.getDefaultInputFormat();class $h{constructor(e,t){this.privStreams={},this.turnOn=()=>{if("undefined"===typeof FileReader){const e="Browser does not support FileReader.";return this.onEvent(new Ch(e,"")),Sh.b.fromError(e)}if(this.privFile.name.lastIndexOf(".wav")!==this.privFile.name.length-4){const e=this.privFile.name+" is not supported. Only WAVE files are allowed at the moment.";return this.onEvent(new Ch(e,"")),Sh.b.fromError(e)}return this.onEvent(new Eh(this.privId)),this.onEvent(new Oh(this.privId)),Sh.b.fromResult(!0)},this.id=()=>this.privId,this.attach=e=>(this.onEvent(new Th(this.privId,e)),this.upload(e).onSuccessContinueWith(t=>(this.onEvent(new Rh(this.privId,e)),{detach:()=>{t.close(),delete this.privStreams[e],this.onEvent(new Mh(this.privId,e)),this.turnOff()},id:()=>e,read:()=>t.read()}))),this.detach=e=>{e&&this.privStreams[e]&&(this.privStreams[e].close(),delete this.privStreams[e],this.onEvent(new Mh(this.privId,e)))},this.turnOff=()=>{for(const e in this.privStreams)if(e){const t=this.privStreams[e];t&&!t.isClosed&&t.close()}return this.onEvent(new xh(this.privId)),Sh.b.fromResult(!0)},this.readHeader=()=>{const e=this.privFile.slice(0,44),t=new FileReader,r=new Sh.a;return t.onload=e=>{const t=e.target.result,n=new DataView(t);"RIFF"!==String.fromCharCode(n.getUint8(0),n.getUint8(1),n.getUint8(2),n.getUint8(3))&&r.reject("Invalid WAV header in file, RIFF was not found"),"WAVEfmt"!==String.fromCharCode(n.getUint8(8),n.getUint8(9),n.getUint8(10),n.getUint8(11),n.getUint8(12),n.getUint8(13),n.getUint8(14))&&r.reject("Invalid WAV header in file, WAVEfmt was not found");const i=n.getUint16(22,!0),o=n.getUint32(24,!0),s=n.getUint16(34,!0);r.resolve(qh.getWaveFormatPCM(o,s,i))},t.readAsArrayBuffer(e),r.promise()},this.upload=e=>this.turnOn().onSuccessContinueWithPromise(t=>this.privAudioFormatPromise.onSuccessContinueWith(t=>{new jh(3200);const r=new FileReader,n=new jh(t.avgBytesPerSec/10,e);this.privStreams[e]=n;r.onload=e=>{n.isClosed||(n.writeStreamChunk({buffer:r.result,isEnd:!1,timeReceived:Date.now()}),n.close())},r.onerror=t=>{const r=`Error occurred while processing '${this.privFile.name}'. ${t}`;throw this.onEvent(new Ah(this.privId,e,r)),new Error(r)};const i=this.privFile.slice(44);return r.readAsArrayBuffer(i),n.getReader()})),this.onEvent=e=>{this.privEvents.onEvent(e),Bh.a.instance.onEvent(e)},this.privId=t||Object(_h.a)(),this.privEvents=new zh.a,this.privFile=e,this.privAudioFormatPromise=this.readHeader()}get format(){return this.privAudioFormatPromise}get events(){return this.privEvents}get deviceInfo(){return this.privAudioFormatPromise.onSuccessContinueWithPromise(e=>Sh.b.fromResult({bitspersample:e.bitsPerSample,channelcount:e.channels,connectivity:ah.Unknown,manufacturer:"Speech SDK",model:"File",samplerate:e.samplesPerSec,type:ch.File}))}}class Kh{}class Hh{constructor(){}static createPushStream(e){return Gh.create(e)}static createPullStream(e,t){return Yh.create(e,t)}}class Gh extends Hh{static create(e){return new Vh(e)}}class Vh extends Gh{constructor(e){super(),this.onEvent=e=>{this.privEvents.onEvent(e),Bh.a.instance.onEvent(e)},this.privFormat=void 0===e?Lh.getDefaultInputFormat():e,this.privEvents=new zh.a,this.privId=Object(_h.a)(),this.privStream=new jh(this.privFormat.avgBytesPerSec/10)}get format(){return Sh.b.fromResult(this.privFormat)}write(e){this.privStream.writeStreamChunk({buffer:e,isEnd:!1,timeReceived:Date.now()})}close(){this.privStream.close()}id(){return this.privId}turnOn(){return this.onEvent(new Eh(this.privId)),this.onEvent(new Oh(this.privId)),Sh.b.fromResult(!0)}attach(e){return this.onEvent(new Th(this.privId,e)),this.turnOn().onSuccessContinueWith(e=>this.privStream.getReader()).onSuccessContinueWith(t=>(this.onEvent(new Rh(this.privId,e)),{detach:()=>{t.close(),this.onEvent(new Mh(this.privId,e)),this.turnOff()},id:()=>e,read:()=>t.read()}))}detach(e){this.onEvent(new Mh(this.privId,e))}turnOff(){return Sh.b.fromResult(!1)}get events(){return this.privEvents}get deviceInfo(){return Sh.b.fromResult({bitspersample:this.privFormat.bitsPerSample,channelcount:this.privFormat.channels,connectivity:ah.Unknown,manufacturer:"Speech SDK",model:"PushStream",samplerate:this.privFormat.samplesPerSec,type:ch.Stream})}}class Yh extends Hh{constructor(){super()}static create(e,t){return new Qh(e,t)}}class Qh extends Yh{constructor(e,t){super(),this.onEvent=e=>{this.privEvents.onEvent(e),Bh.a.instance.onEvent(e)},this.privFormat=void 0===t?qh.getDefaultInputFormat():t,this.privEvents=new zh.a,this.privId=Object(_h.a)(),this.privCallback=e,this.privIsClosed=!1,this.privBufferSize=this.privFormat.avgBytesPerSec/10}get format(){return Sh.b.fromResult(this.privFormat)}close(){this.privIsClosed=!0,this.privCallback.close()}id(){return this.privId}turnOn(){return this.onEvent(new Eh(this.privId)),this.onEvent(new Oh(this.privId)),Sh.b.fromResult(!0)}attach(e){return this.onEvent(new Th(this.privId,e)),this.turnOn().onSuccessContinueWith(t=>(this.onEvent(new Rh(this.privId,e)),{detach:()=>{this.privCallback.close(),this.onEvent(new Mh(this.privId,e)),this.turnOff()},id:()=>e,read:()=>{let e,t=0;for(;t<this.privBufferSize;){const r=new ArrayBuffer(this.privBufferSize-t),n=this.privCallback.read(r);if(void 0===e)e=r;else{new Int8Array(e).set(new Int8Array(r),t)}if(0===n)break;t+=n}return Sh.b.fromResult({buffer:e.slice(0,t),isEnd:this.privIsClosed||0===t,timeReceived:Date.now()})}}))}detach(e){this.onEvent(new Mh(this.privId,e))}turnOff(){return Sh.b.fromResult(!1)}get events(){return this.privEvents}get deviceInfo(){return Sh.b.fromResult({bitspersample:this.privFormat.bitsPerSample,channelcount:this.privFormat.channels,connectivity:ah.Unknown,manufacturer:"Speech SDK",model:"PullStream",samplerate:this.privFormat.samplesPerSec,type:ch.Stream})}}var Zh,Jh,Xh,ed=r("vyC1"),td=r("lqU6"),rd=r("JlOb");class nd{constructor(e){this.privResult=e}get result(){return this.privResult}}class id{constructor(e,t,r,n,i){this.privResultId=e,this.privReason=t,this.privAudioData=r,this.privErrorDetails=n,this.privProperties=i}get resultId(){return this.privResultId}get reason(){return this.privReason}get audioData(){return this.privAudioData}get errorDetails(){return this.privErrorDetails}get properties(){return this.privProperties}}!function(e){e[e.NoMatch=0]="NoMatch",e[e.Canceled=1]="Canceled",e[e.RecognizingSpeech=2]="RecognizingSpeech",e[e.RecognizedSpeech=3]="RecognizedSpeech",e[e.RecognizingIntent=4]="RecognizingIntent",e[e.RecognizedIntent=5]="RecognizedIntent",e[e.TranslatingSpeech=6]="TranslatingSpeech",e[e.TranslatedSpeech=7]="TranslatedSpeech",e[e.SynthesizingAudio=8]="SynthesizingAudio",e[e.SynthesizingAudioCompleted=9]="SynthesizingAudioCompleted",e[e.SynthesizingAudioStarted=10]="SynthesizingAudioStarted"}(Zh||(Zh={}));class od{constructor(e,t,r,n){this.privAduioOffset=e,this.privText=t,this.privWordLength=r,this.privTextOffset=n}get audioOffset(){return this.privAduioOffset}get text(){return this.privText}get wordLength(){return this.privWordLength}get textOffset(){return this.privTextOffset}}!function(e){e[e.Error=0]="Error",e[e.EndOfStream=1]="EndOfStream"}(Jh||(Jh={})),function(e){e[e.NoError=0]="NoError",e[e.AuthenticationFailure=1]="AuthenticationFailure",e[e.BadRequestParameters=2]="BadRequestParameters",e[e.TooManyRequests=3]="TooManyRequests",e[e.ConnectionFailure=4]="ConnectionFailure",e[e.ServiceTimeout=5]="ServiceTimeout",e[e.ServiceError=6]="ServiceError",e[e.RuntimeError=7]="RuntimeError"}(Xh||(Xh={}));var sd=r("e9oO");class ad{constructor(e,t,r,n,i,o){if(this.privIsDisposed=!1,this.dispose=()=>{this.privIsDisposed=!0,this.privConnectionMessageAdapter&&this.privConnectionMessageAdapter.close()},this.isDisposed=()=>this.privIsDisposed,this.state=()=>this.privConnectionMessageAdapter.state,this.open=()=>this.privConnectionMessageAdapter.open(),this.send=e=>this.privConnectionMessageAdapter.send(e),this.read=()=>this.privConnectionMessageAdapter.read(),!e)throw new Ih.a("uri");if(!n)throw new Ih.a("messageFormatter");this.privMessageFormatter=n;let s="",a=0;if(t)for(const c in t)if(c){s+=0===a&&-1===e.indexOf("?")?"?":"&",s+=`${c}=${encodeURIComponent(t[c])}`,a++}if(r)for(const c in r)if(c){s+=0===a?"?":"&",s+=`${c}=${encodeURIComponent(r[c])}`,a++}this.privUri=e+s,this.privId=o||Object(_h.a)(),this.privConnectionMessageAdapter=new sd.a(this.privUri,this.id,this.privMessageFormatter,i,r)}get id(){return this.privId}get events(){return this.privConnectionMessageAdapter.events}}class cd{constructor(e,t,r,n){this.privProxyHostName=e,this.privProxyPort=t,this.privProxyUserName=r,this.privProxyPassword=n}static fromParameters(e){return new cd(e.getProperty(th.SpeechServiceConnection_ProxyHostName),parseInt(e.getProperty(th.SpeechServiceConnection_ProxyPort),10),e.getProperty(th.SpeechServiceConnection_ProxyUserName),e.getProperty(th.SpeechServiceConnection_ProxyPassword))}static fromRecognizerConfig(e){return this.fromParameters(e.parameters)}get HostName(){return this.privProxyHostName}get Port(){return this.privProxyPort}get UserName(){return this.privProxyUserName}get Password(){return this.privProxyPassword}}var ud=r("BMJ/");const ld="\r\n";class pd{constructor(){this.toConnectionMessage=e=>{const t=new Sh.a;try{if(e.messageType===td.b.Text){const r=e.textContent;let n={},i=null;if(r){const e=r.split("\r\n\r\n");e&&e.length>0&&(n=this.parseHeaders(e[0]),e.length>1&&(i=e[1]))}t.resolve(new td.a(e.messageType,i,n,e.id))}else if(e.messageType===td.b.Binary){const r=e.binaryContent;let n={},i=null;if(!r||r.byteLength<2)throw new Error("Invalid binary message format. Header length missing.");const o=new DataView(r),s=o.getInt16(0);if(r.byteLength<s+2)throw new Error("Invalid binary message format. Header content missing.");let a="";for(let e=0;e<s;e++)a+=String.fromCharCode(o.getInt8(e+2));n=this.parseHeaders(a),r.byteLength>s+2&&(i=r.slice(2+s)),t.resolve(new td.a(e.messageType,i,n,e.id))}}catch(lm){t.reject(`Error formatting the message. Error: ${lm}`)}return t.promise()},this.fromConnectionMessage=e=>{const t=new Sh.a;try{if(e.messageType===td.b.Text){const r=`${this.makeHeaders(e)}${ld}${e.textBody?e.textBody:""}`;t.resolve(new ud.a(td.b.Text,r,e.id))}else if(e.messageType===td.b.Binary){const r=this.makeHeaders(e),n=e.binaryBody,i=new Int8Array(this.stringToArrayBuffer(r)),o=new ArrayBuffer(2+i.byteLength+(n?n.byteLength:0)),s=new DataView(o);s.setInt16(0,i.length);for(let e=0;e<i.byteLength;e++)s.setInt8(2+e,i[e]);if(n){const e=new Int8Array(n);for(let t=0;t<e.byteLength;t++)s.setInt8(2+i.byteLength+t,e[t])}t.resolve(new ud.a(td.b.Binary,o,e.id))}}catch(lm){t.reject(`Error formatting the message. ${lm}`)}return t.promise()},this.makeHeaders=e=>{let t="";if(e.headers)for(const r in e.headers)r&&(t+=`${r}: ${e.headers[r]}${ld}`);return t},this.parseHeaders=e=>{const t={};if(e){const r=e.match(/[^\r\n]+/g);if(t)for(const e of r)if(e){const r=e.indexOf(":"),n=r>0?e.substr(0,r).trim().toLowerCase():e,i=r>0&&e.length>r+1?e.substr(r+1).trim():"";t[n]=i}}return t},this.stringToArrayBuffer=e=>{const t=new ArrayBuffer(e.length),r=new DataView(t);for(let n=0;n<e.length;n++)r.setUint8(n,e.charCodeAt(n));return t}}}class hd{static get TestHooksParamName(){return"testhooks"}static get ConnectionIdHeader(){return"X-ConnectionId"}static get DeploymentIdParamName(){return"cid"}static get FormatParamName(){return"format"}static get LanguageParamName(){return"language"}static get TranslationFromParamName(){return"from"}static get TranslationToParamName(){return"to"}static get Profanify(){return"profanity"}static get EnableAudioLogging(){return"storeAudio"}static get EnableWordLevelTimestamps(){return"wordLevelTimestamps"}static get InitialSilenceTimeoutMs(){return"initialSilenceTimeoutMs"}static get EndSilenceTimeoutMs(){return"endSilenceTimeoutMs"}static get StableIntermediateThreshold(){return"stableIntermediateThreshold"}static get StableTranslation(){return"stableTranslation"}}class dd{constructor(){this.synthesisUri="/cognitiveservices/websocket/v1",this.create=(e,t,r)=>{let n=e.parameters.getProperty(th.SpeechServiceConnection_Endpoint,void 0);const i=e.parameters.getProperty(th.SpeechServiceConnection_Region,void 0),o=i&&i.toLowerCase().startsWith("china")?".azure.cn":".microsoft.com",s=e.parameters.getProperty(th.SpeechServiceConnection_Host,"wss://"+i+".tts.speech"+o);n||(n=s+this.synthesisUri);const a={};return void 0!==t.token&&""!==t.token&&(a[t.headerName]=t.token),a[hd.ConnectionIdHeader]=r,e.parameters.setProperty(th.SpeechServiceConnection_Url,n),new ad(n,{},a,new pd,cd.fromParameters(e.parameters),r)}}}var fd;!function(e){e[e.Standard=0]="Standard",e[e.Custom=1]="Custom"}(fd||(fd={}));class md{constructor(e,t){this.privSynthesisServiceType=fd.Standard,this.privSpeechServiceConfig=e||new vh(new gh(null)),this.privParameters=t}get parameters(){return this.privParameters}get synthesisServiceType(){return this.privSynthesisServiceType}set synthesisServiceType(e){this.privSynthesisServiceType=e}get SpeechServiceConfig(){return this.privSpeechServiceConfig}}class vd{constructor(e,t){this.privHeaderName=e,this.privToken=t}get headerName(){return this.privHeaderName}get token(){return this.privToken}}const gd="Ocp-Apim-Subscription-Key";class yd{constructor(e){if(this.fetch=e=>Sh.b.fromResult(this.privAuthInfo),this.fetchOnExpiry=e=>Sh.b.fromResult(this.privAuthInfo),!e)throw new Ih.a("subscriptionKey");this.privAuthInfo=new vd(gd,e)}}const bd="Authorization";class Sd{constructor(e,t){if(this.fetch=e=>this.privFetchCallback(e).onSuccessContinueWith(e=>new vd(bd,e)),this.fetchOnExpiry=e=>this.privFetchOnExpiryCallback(e).onSuccessContinueWith(e=>new vd(bd,e)),!e)throw new Ih.a("fetchCallback");if(!t)throw new Ih.a("fetchOnExpiryCallback");this.privFetchCallback=e,this.privFetchOnExpiryCallback=t}}var wd,kd=r(0);class Ed{constructor(e){this.id=()=>this.privId,this.privFd=kd.openSync(e,"w")}set format(e){eh.throwIfNotUndefined(this.privAudioFormat,"format is already set"),this.privAudioFormat=e;let t=0;this.privAudioFormat.hasHeader&&(t=this.privAudioFormat.header.byteLength),void 0!==this.privFd&&(this.privWriteStream=kd.createWriteStream("",{fd:this.privFd,start:t,autoClose:!1}))}write(e){eh.throwIfNullOrUndefined(this.privAudioFormat,"must set format before writing."),void 0!==this.privWriteStream&&this.privWriteStream.write(new Uint8Array(e.slice(0)))}close(){void 0!==this.privFd&&(this.privWriteStream.on("finish",()=>{this.privAudioFormat.hasHeader&&(this.privAudioFormat.updateHeader(this.privWriteStream.bytesWritten),kd.writeSync(this.privFd,new Int8Array(this.privAudioFormat.header),0,this.privAudioFormat.header.byteLength,0)),kd.closeSync(this.privFd),this.privFd=void 0}),this.privWriteStream.end())}}!function(e){e[e.PCM=1]="PCM",e[e.MuLaw=2]="MuLaw",e[e.Siren=3]="Siren",e[e.MP3=4]="MP3",e[e.SILKSkype=5]="SILKSkype",e[e.Opus=6]="Opus"}(wd||(wd={}));class Od extends Lh{constructor(e,t,r,n,i,o,s,a,c){super(r,o,t),this.formatTag=e,this.avgBytesPerSec=n,this.blockAlign=i,this.priAudioFormatString=s,this.priRequestAudioFormatString=a,this.priHasHeader=c}static fromSpeechSynthesisOutputFormat(e){return void 0===e?Od.getDefaultOutputFormat():Od.fromSpeechSynthesisOutputFormatString(Od.SpeechSynthesisOutputFormatToString[e])}static fromSpeechSynthesisOutputFormatString(e){switch(e){case"raw-8khz-8bit-mono-mulaw":return new Od(wd.PCM,1,8e3,8e3,1,8,e,e,!1);case"riff-16khz-16kbps-mono-siren":return new Od(wd.Siren,1,16e3,2e3,40,0,e,"audio-16khz-16kbps-mono-siren",!0);case"audio-16khz-16kbps-mono-siren":return new Od(wd.Siren,1,16e3,2e3,40,0,e,e,!1);case"audio-16khz-32kbitrate-mono-mp3":return new Od(wd.MP3,1,16e3,4096,2,16,e,e,!1);case"audio-16khz-128kbitrate-mono-mp3":return new Od(wd.MP3,1,16e3,16384,2,16,e,e,!1);case"audio-16khz-64kbitrate-mono-mp3":return new Od(wd.MP3,1,16e3,8192,2,16,e,e,!1);case"audio-24khz-48kbitrate-mono-mp3":return new Od(wd.MP3,1,16e3,6144,2,16,e,e,!1);case"audio-24khz-96kbitrate-mono-mp3":return new Od(wd.MP3,1,16e3,12288,2,16,e,e,!1);case"audio-24khz-160kbitrate-mono-mp3":return new Od(wd.MP3,1,16e3,20480,2,16,e,e,!1);case"raw-16khz-16bit-mono-truesilk":return new Od(wd.SILKSkype,1,16e3,32e3,2,16,e,e,!1);case"riff-8khz-16bit-mono-pcm":return new Od(wd.PCM,1,8e3,16e3,2,16,e,"raw-8khz-16bit-mono-pcm",!0);case"riff-24khz-16bit-mono-pcm":return new Od(wd.PCM,1,24e3,48e3,2,16,e,"raw-24khz-16bit-mono-pcm",!0);case"riff-8khz-8bit-mono-mulaw":return new Od(wd.MuLaw,1,8e3,8e3,1,8,e,"raw-8khz-8bit-mono-mulaw",!0);case"raw-16khz-16bit-mono-pcm":return new Od(wd.PCM,1,16e3,32e3,2,16,e,"raw-16khz-16bit-mono-pcm",!1);case"raw-24khz-16bit-mono-pcm":return new Od(wd.PCM,1,24e3,48e3,2,16,e,"raw-24khz-16bit-mono-pcm",!1);case"raw-8khz-16bit-mono-pcm":return new Od(wd.PCM,1,8e3,16e3,2,16,e,"raw-8khz-16bit-mono-pcm",!1);case"ogg-16khz-16bit-mono-opus":return new Od(wd.Opus,1,16e3,8192,2,16,e,"ogg-16khz-16bit-mono-opus",!1);case"ogg-24khz-16bit-mono-opus":return new Od(wd.Opus,1,24e3,8192,2,16,e,"ogg-24khz-16bit-mono-opus",!1);case"riff-16khz-16bit-mono-pcm":default:return new Od(wd.PCM,1,16e3,32e3,2,16,"riff-16khz-16bit-mono-pcm","raw-16khz-16bit-mono-pcm",!0)}}static getDefaultOutputFormat(){return Od.fromSpeechSynthesisOutputFormatString("undefined"!==typeof window?"audio-16khz-64kbitrate-mono-mp3":"riff-16khz-16bit-mono-pcm")}get hasHeader(){return this.priHasHeader}get header(){if(this.hasHeader)return this.privHeader}updateHeader(e){if(this.priHasHeader){new DataView(this.privHeader).setUint32(40,e,!0)}}get requestAudioFormatString(){return this.priRequestAudioFormatString}}Od.SpeechSynthesisOutputFormatToString={[ih.Raw8Khz8BitMonoMULaw]:"raw-8khz-8bit-mono-mulaw",[ih.Riff16Khz16KbpsMonoSiren]:"riff-16khz-16kbps-mono-siren",[ih.Audio16Khz16KbpsMonoSiren]:"audio-16khz-16kbps-mono-siren",[ih.Audio16Khz32KBitRateMonoMp3]:"audio-16khz-32kbitrate-mono-mp3",[ih.Audio16Khz128KBitRateMonoMp3]:"audio-16khz-128kbitrate-mono-mp3",[ih.Audio16Khz64KBitRateMonoMp3]:"audio-16khz-64kbitrate-mono-mp3",[ih.Audio24Khz48KBitRateMonoMp3]:"audio-24khz-48kbitrate-mono-mp3",[ih.Audio24Khz96KBitRateMonoMp3]:"audio-24khz-96kbitrate-mono-mp3",[ih.Audio24Khz160KBitRateMonoMp3]:"audio-24khz-160kbitrate-mono-mp3",[ih.Raw16Khz16BitMonoTrueSilk]:"raw-16khz-16bit-mono-truesilk",[ih.Riff16Khz16BitMonoPcm]:"riff-16khz-16bit-mono-pcm",[ih.Riff8Khz16BitMonoPcm]:"riff-8khz-16bit-mono-pcm",[ih.Riff24Khz16BitMonoPcm]:"riff-24khz-16bit-mono-pcm",[ih.Riff8Khz8BitMonoMULaw]:"riff-8khz-8bit-mono-mulaw",[ih.Raw16Khz16BitMonoPcm]:"raw-16khz-16bit-mono-pcm",[ih.Raw24Khz16BitMonoPcm]:"raw-24khz-16bit-mono-pcm",[ih.Raw8Khz16BitMonoPcm]:"raw-8khz-16bit-mono-pcm",[ih.Ogg16Khz16BitMonoOpus]:"ogg-16khz-16bit-mono-opus",[ih.Ogg24Khz16BitMonoOpus]:"ogg-24khz-16bit-mono-opus"};class xd{constructor(){}static createPullStream(){return Cd.create()}}class Cd extends xd{static create(){return new Pd}}class Pd extends Cd{constructor(){super(),this.privId=Object(_h.a)(),this.privStream=new Dh,this.streamReader=this.privStream.getReader()}set format(e){void 0!==e&&null!==e||(this.privFormat=Od.getDefaultOutputFormat()),this.privFormat=e}get format(){return this.privFormat}get isClosed(){return this.privStream.isClosed}id(){return this.privId}read(e){const t=new Int8Array(e);let r=0;if(void 0!==this.privLastChunkView){if(this.privLastChunkView.length>e.byteLength)return t.set(this.privLastChunkView.slice(0,e.byteLength)),this.privLastChunkView=this.privLastChunkView.slice(e.byteLength),Sh.b.fromResult(e.byteLength);t.set(this.privLastChunkView),r=this.privLastChunkView.length,this.privLastChunkView=void 0}const n=new Sh.a,i=()=>{r<e.byteLength&&!this.streamReader.isClosed?this.streamReader.read().onSuccessContinueWith(o=>{if(void 0===o||o.isEnd)this.streamReader.close(),n.resolve(r);else{let n;o.buffer.byteLength>e.byteLength-r?(n=o.buffer.slice(0,e.byteLength-r),this.privLastChunkView=new Int8Array(o.buffer.slice(e.byteLength-r))):n=o.buffer,t.set(new Int8Array(n),r),r+=n.byteLength,i()}}):n.resolve(r)};return i(),n.promise()}write(e){eh.throwIfNullOrUndefined(this.privStream,"must set format before writing"),this.privStream.writeStreamChunk({buffer:e,isEnd:!1,timeReceived:Date.now()})}close(){this.privStream.close()}}class Td extends xd{constructor(){super()}static create(e){return new Rd(e)}}class Rd extends Td{constructor(e){super(),this.privId=Object(_h.a)(),this.privCallback=e}set format(e){}write(e){this.privCallback.write&&this.privCallback.write(e)}close(){this.privCallback.close&&this.privCallback.close()}id(){return this.privId}}class Md{}class Ad{constructor(e,t){const r=e;eh.throwIfNull(r,"speechConfig"),null!==t&&(this.audioConfig=void 0!==t?t:Jd.fromDefaultSpeakerOutput()),this.privProperties=r.properties.clone(),this.privDisposed=!1,this.privSynthesizing=!1,this.privConnectionFactory=new dd,this.synthesisRequestQueue=new Nh.a,this.implCommonSynthesizeSetup()}get authorizationToken(){return this.properties.getProperty(th.SpeechServiceAuthorization_Token)}set authorizationToken(e){eh.throwIfNullOrWhitespace(e,"token"),this.properties.setProperty(th.SpeechServiceAuthorization_Token,e)}get properties(){return this.privProperties}static buildSsml(e,t){const r={"ar-EG":"Microsoft Server Speech Text to Speech Voice (ar-EG, Hoda)","ar-SA":"Microsoft Server Speech Text to Speech Voice (ar-SA, Naayf)","bg-BG":"Microsoft Server Speech Text to Speech Voice (bg-BG, Ivan)","ca-ES":"Microsoft Server Speech Text to Speech Voice (ca-ES, HerenaRUS)","cs-CZ":"Microsoft Server Speech Text to Speech Voice (cs-CZ, Jakub)","da-DK":"Microsoft Server Speech Text to Speech Voice (da-DK, HelleRUS)","de-AT":"Microsoft Server Speech Text to Speech Voice (de-AT, Michael)","de-CH":"Microsoft Server Speech Text to Speech Voice (de-CH, Karsten)","de-DE":"Microsoft Server Speech Text to Speech Voice (de-DE, HeddaRUS)","el-GR":"Microsoft Server Speech Text to Speech Voice (el-GR, Stefanos)","en-AU":"Microsoft Server Speech Text to Speech Voice (en-AU, HayleyRUS)","en-CA":"Microsoft Server Speech Text to Speech Voice (en-CA, HeatherRUS)","en-GB":"Microsoft Server Speech Text to Speech Voice (en-GB, HazelRUS)","en-IE":"Microsoft Server Speech Text to Speech Voice (en-IE, Sean)","en-IN":"Microsoft Server Speech Text to Speech Voice (en-IN, PriyaRUS)","en-US":"Microsoft Server Speech Text to Speech Voice (en-US, AriaRUS)","es-ES":"Microsoft Server Speech Text to Speech Voice (es-ES, HelenaRUS)","es-MX":"Microsoft Server Speech Text to Speech Voice (es-MX, HildaRUS)","fi-FI":"Microsoft Server Speech Text to Speech Voice (fi-FI, HeidiRUS)","fr-CA":"Microsoft Server Speech Text to Speech Voice (fr-CA, HarmonieRUS)","fr-CH":"Microsoft Server Speech Text to Speech Voice (fr-CH, Guillaume)","fr-FR":"Microsoft Server Speech Text to Speech Voice (fr-FR, HortenseRUS)","he-IL":"Microsoft Server Speech Text to Speech Voice (he-IL, Asaf)","hi-IN":"Microsoft Server Speech Text to Speech Voice (hi-IN, Kalpana)","hr-HR":"Microsoft Server Speech Text to Speech Voice (hr-HR, Matej)","hu-HU":"Microsoft Server Speech Text to Speech Voice (hu-HU, Szabolcs)","id-ID":"Microsoft Server Speech Text to Speech Voice (id-ID, Andika)","it-IT":"Microsoft Server Speech Text to Speech Voice (it-IT, LuciaRUS)","ja-JP":"Microsoft Server Speech Text to Speech Voice (ja-JP, HarukaRUS)","ko-KR":"Microsoft Server Speech Text to Speech Voice (ko-KR, HeamiRUS)","ms-MY":"Microsoft Server Speech Text to Speech Voice (ms-MY, Rizwan)","nb-NO":"Microsoft Server Speech Text to Speech Voice (nb-NO, HuldaRUS)","nl-NL":"Microsoft Server Speech Text to Speech Voice (nl-NL, HannaRUS)","pl-PL":"Microsoft Server Speech Text to Speech Voice (pl-PL, PaulinaRUS)","pt-BR":"Microsoft Server Speech Text to Speech Voice (pt-BR, HeloisaRUS)","pt-PT":"Microsoft Server Speech Text to Speech Voice (pt-PT, HeliaRUS)","ro-RO":"Microsoft Server Speech Text to Speech Voice (ro-RO, Andrei)","ru-RU":"Microsoft Server Speech Text to Speech Voice (ru-RU, EkaterinaRUS)","sk-SK":"Microsoft Server Speech Text to Speech Voice (sk-SK, Filip)","sl-SI":"Microsoft Server Speech Text to Speech Voice (sl-SI, Lado)","sv-SE":"Microsoft Server Speech Text to Speech Voice (sv-SE, HedvigRUS)","ta-IN":"Microsoft Server Speech Text to Speech Voice (ta-IN, Valluvar)","te-IN":"Microsoft Server Speech Text to Speech Voice (te-IN, Chitra)","th-TH":"Microsoft Server Speech Text to Speech Voice (th-TH, Pattara)","tr-TR":"Microsoft Server Speech Text to Speech Voice (tr-TR, SedaRUS)","vi-VN":"Microsoft Server Speech Text to Speech Voice (vi-VN, An)","zh-CN":"Microsoft Server Speech Text to Speech Voice (zh-CN, HuihuiRUS)","zh-HK":"Microsoft Server Speech Text to Speech Voice (zh-HK, TracyRUS)","zh-TW":"Microsoft Server Speech Text to Speech Voice (zh-TW, HanHanRUS)"},n=t.getProperty(th.SpeechServiceConnection_SynthLanguage,"en-US");return`<speak version='1.0' xmlns='http://www.w3.org/2001/10/synthesis' xmlns:mstts='http://www.w3.org/2001/mstts' xmlns:emo='http://www.w3.org/2009/10/emotionml' xml:lang='${n}'><voice name='${t.getProperty(th.SpeechServiceConnection_SynthVoice,r[n])}'>${this.XMLEncode(e)}</voice></speak>`}speakTextAsync(e,t,r,n){this.speakImpl(e,!1,t,r,n)}speakSsmlAsync(e,t,r,n){this.speakImpl(e,!0,t,r,n)}close(){eh.throwIfDisposed(this.privDisposed),this.dispose(!0)}get internalData(){return this.privAdapter}dispose(e){this.privDisposed||(e&&this.privAdapter&&this.privAdapter.dispose(),this.privDisposed=!0)}createSynthesizerConfig(e){return new md(e,this.privProperties)}createSynthesisAdapter(e,t,r,n){return new Vd(e,t,n,this,this.audioConfig)}implCommonSynthesizeSetup(){let e="undefined"!==typeof window?"Browser":"Node",t="unknown",r="unknown";"undefined"!==typeof navigator&&(e=e+"/"+navigator.platform,t=navigator.userAgent,r=navigator.appVersion);const n=this.createSynthesizerConfig(new vh(new gh(new bh(e,t,r)))),i=this.privProperties.getProperty(th.SpeechServiceConnection_Key,void 0),o=i&&""!==i?new yd(i):new Sd(e=>{const t=this.privProperties.getProperty(th.SpeechServiceAuthorization_Token,void 0);return Sh.b.fromResult(t)},e=>{const t=this.privProperties.getProperty(th.SpeechServiceAuthorization_Token,void 0);return Sh.b.fromResult(t)});this.privAdapter=this.createSynthesisAdapter(o,this.privConnectionFactory,this.audioConfig,n),this.privAdapter.audioOutputFormat=Od.fromSpeechSynthesisOutputFormat(ih[this.properties.getProperty(th.SpeechServiceConnection_SynthOutputFormat,void 0)])}speakImpl(e,t,r,n,i){try{eh.throwIfDisposed(this.privDisposed);const o=Object(_h.a)();let s;s=i instanceof Md?new Rd(i):i instanceof Cd?i:void 0!==i?new Ed(i):void 0,this.synthesisRequestQueue.enqueue(new Id(o,e,t,e=>{if(this.privSynthesizing=!1,r)try{r(e)}catch(e){n&&n(e)}r=void 0,this.adapterSpeak()},e=>{n&&n(e)},s)),this.adapterSpeak()}catch(o){if(n)if(o instanceof Error){const e=o;n(e.name+": "+e.message)}else n(o);this.dispose(!0)}}adapterSpeak(){return this.privDisposed||this.privSynthesizing?Sh.b.fromResult(!0):(this.privSynthesizing=!0,this.synthesisRequestQueue.dequeue().onSuccessContinueWithPromise(e=>this.privAdapter.Speak(e.text,e.isSSML,e.requestId,e.cb,e.err,e.dataStream)))}static XMLEncode(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}}class Id{constructor(e,t,r,n,i,o){this.requestId=e,this.text=t,this.isSSML=r,this.cb=n,this.err=i,this.dataStream=o}}class _d{constructor(e){this.privSynthesisAudioMetadata=JSON.parse(e)}static fromJSON(e){return new _d(e)}get Metadata(){return this.privSynthesisAudioMetadata.Metadata}}class Nd extends wh.b{constructor(e,t,r=wh.a.Info){super(e,r),this.privRequestId=t}get requestId(){return this.privRequestId}}class Dd extends Nd{constructor(e,t,r){super("SynthesisTriggeredEvent",e),this.privSessionAudioDestinationId=t,this.privTurnAudioDestinationId=r}get audioSessionDestinationId(){return this.privSessionAudioDestinationId}get audioTurnDestinationId(){return this.privTurnAudioDestinationId}}class Fd extends Nd{constructor(e,t){super("ConnectingToSynthesisServiceEvent",e),this.privAuthFetchEventId=t}get authFetchEventId(){return this.privAuthFetchEventId}}class jd extends Nd{constructor(e,t){super("SynthesisStartedEvent",e),this.privAuthFetchEventId=t}get authFetchEventId(){return this.privAuthFetchEventId}}class Bd{constructor(){this.privIsDisposed=!1,this.privIsSynthesizing=!1,this.privIsSynthesisEnded=!1,this.privBytesReceived=0,this.privTextOffset=0,this.privNextSearchTextIndex=0,this.onPreConnectionStart=(e,t)=>{this.privAuthFetchEventId=e,this.onEvent(new Fd(this.privRequestId,this.privAuthFetchEventId))},this.onAuthCompleted=(e,t)=>{e&&this.onComplete()},this.onConnectionEstablishCompleted=(e,t)=>{if(200===e)return this.onEvent(new jd(this.requestId,this.privAuthFetchEventId)),void(this.privBytesReceived=0);403===e&&this.onComplete()},this.onServiceResponseMessage=e=>{const t=JSON.parse(e);this.streamId=t.audio.streamId},this.onServiceTurnEndResponse=()=>{this.privTurnDeferral.resolve(!0),this.onComplete()},this.onServiceTurnStartResponse=()=>{this.privTurnDeferral.state()===Sh.c.None&&this.privTurnDeferral.reject("Another turn started before current completed."),this.privTurnDeferral=new Sh.a},this.dispose=e=>{this.privIsDisposed||(this.privIsDisposed=!0)},this.onEvent=e=>{Bh.a.instance.onEvent(e)},this.onComplete=()=>{this.privIsSynthesizing&&(this.privIsSynthesizing=!1,this.privIsSynthesisEnded=!0,this.privAudioOutputStream.close(),void 0!==this.privTurnAudioDestination&&(this.privTurnAudioDestination.close(),this.privTurnAudioDestination=void 0))},this.privRequestId=Object(_h.a)(),this.privAudioNodeId=Object(_h.a)(),this.privTurnDeferral=new Sh.a,this.privTurnDeferral.resolve(!0)}get requestId(){return this.privRequestId}get streamId(){return this.privStreamId}set streamId(e){this.privStreamId=e}get audioOutputFormat(){return this.privAudioOutputFormat}set audioOutputFormat(e){this.privAudioOutputFormat=e}get turnCompletionPromise(){return this.privTurnDeferral.promise()}get isSynthesisEnded(){return this.privIsSynthesisEnded}get isSynthesizing(){return this.privIsSynthesizing}get currentTextOffset(){return this.privTextOffset}get bytesReceived(){return this.privBytesReceived}get allReceivedAudio(){return this.privReceivedAudio?this.privReceivedAudio:this.privIsSynthesisEnded?(this.readAllAudioFromStream(),this.allReceivedAudio):null}get allReceivedAudioWithHeader(){return this.privReceivedAudioWithHeader?this.privReceivedAudioWithHeader:this.privIsSynthesisEnded?this.audioOutputFormat.hasHeader?(this.privReceivedAudioWithHeader=Vd.addHeader(this.allReceivedAudio,this.audioOutputFormat),this.allReceivedAudioWithHeader):this.allReceivedAudio:null}startNewSynthesis(e,t,r,n){this.privIsSynthesisEnded=!1,this.privIsSynthesizing=!0,this.privRequestId=e,this.privRawText=t,this.privIsSSML=r,this.privAudioOutputStream=new Pd,this.privAudioOutputStream.format=this.privAudioOutputFormat,this.privReceivedAudio=null,this.privReceivedAudioWithHeader=null,this.privBytesReceived=0,this.privTextOffset=0,this.privNextSearchTextIndex=0,void 0!==n&&(this.privTurnAudioDestination=n,this.privTurnAudioDestination.format=this.privAudioOutputFormat),this.onEvent(new Dd(this.requestId,void 0,void 0===n?void 0:n.id()))}onAudioChunkReceived(e){this.isSynthesizing&&(this.privAudioOutputStream.write(e),this.privBytesReceived+=e.byteLength,void 0!==this.privTurnAudioDestination&&this.privTurnAudioDestination.write(e))}onWordBoundaryEvent(e){this.updateTextOffset(e)}onStopSynthesizing(){this.onComplete()}updateTextOffset(e){this.privTextOffset>=0&&(this.privTextOffset=this.privRawText.indexOf(e,this.privNextSearchTextIndex),this.privTextOffset>=0&&(this.privNextSearchTextIndex=this.privTextOffset+e.length),this.privIsSSML&&this.privRawText.indexOf("<",this.privTextOffset+1)>this.privRawText.indexOf(">",this.privTextOffset+1)&&this.updateTextOffset(e))}readAllAudioFromStream(){if(this.privIsSynthesisEnded){this.privReceivedAudio=new ArrayBuffer(this.bytesReceived);try{this.privAudioOutputStream.read(this.privReceivedAudio)}catch(lm){this.privReceivedAudio=new ArrayBuffer(0)}}}}class zd{addPhrase(e){this.privPhrases||(this.privPhrases=[]),e instanceof Array?this.privPhrases=this.privPhrases.concat(e):this.privPhrases.push(e)}clearPhrases(){this.privPhrases=void 0}addReferenceGrammar(e){this.privGrammars||(this.privGrammars=[]),e instanceof Array?this.privGrammars=this.privGrammars.concat(e):this.privGrammars.push(e)}clearGrammars(){this.privGrammars=void 0}generateGrammarObject(){if(void 0===this.privGrammars&&void 0===this.privPhrases)return;const e={};if(e.ReferenceGrammars=this.privGrammars,void 0!==this.privPhrases&&0!==this.privPhrases.length){const t=[];this.privPhrases.forEach((e,r,n)=>{t.push({Text:e})}),e.Groups=[{Type:"Generic",Items:t}]}return e}}class qd{constructor(e){this.privContext={},this.privDynamicGrammar=e}setSection(e,t){this.privContext[e]=t}toJSON(){const e=this.privDynamicGrammar.generateGrammarObject();return this.setSection("dgi",e),JSON.stringify(this.privContext)}}class Ld{toJsonString(){return JSON.stringify(this.iPrivConfig)}get(){return this.iPrivConfig}set(e){this.iPrivConfig=e}}const Wd="Path",Ud="Content-Type",$d="X-RequestId",Kd="X-Timestamp",Hd="x-streamid";class Gd extends td.a{constructor(e,t,r,n,i,o,s,a){if(!t)throw new Ih.a("path");if(!r)throw new Ih.a("requestId");const c={};if(c[Wd]=t,c[$d]=r,c[Kd]=(new Date).toISOString(),n&&(c[Ud]=n),o&&(c[Hd]=o),s)for(const u in s)u&&(c[u]=s[u]);a?super(e,i,c,a):super(e,i,c),this.privPath=t,this.privRequestId=r,this.privContentType=n,this.privStreamId=o,this.privAdditionalHeaders=s}get path(){return this.privPath}get requestId(){return this.privRequestId}get contentType(){return this.privContentType}get streamId(){return this.privStreamId}get additionalHeaders(){return this.privAdditionalHeaders}}Gd.fromConnectionMessage=e=>{let t=null,r=null,n=null,i=null,o=null;const s={};if(e.headers)for(const a in e.headers)a&&(a.toLowerCase()===Wd.toLowerCase()?t=e.headers[a]:a.toLowerCase()===$d.toLowerCase()?r=e.headers[a]:a.toLowerCase()===Kd.toLowerCase()?i=e.headers[a]:a.toLowerCase()===Ud.toLowerCase()?n=e.headers[a]:a.toLowerCase()===Hd.toLowerCase()?o=e.headers[a]:s[a]=e.headers[a]);return new Gd(e.messageType,t,r,n,e.body,o,s,e.id)};class Vd{constructor(e,t,r,n,i){if(this.speakOverride=void 0,this.receiveMessageOverride=void 0,this.connectImplOverride=void 0,this.configConnectionOverride=void 0,this.fetchConnectionOverride=void 0,this.receiveMessage=()=>this.fetchConnection().on(e=>e.read().onSuccessContinueWithPromise(e=>{if(void 0!==this.receiveMessageOverride)return this.receiveMessageOverride();if(this.privIsDisposed)return Sh.b.fromResult(void 0);if(!e)return this.privSynthesisTurn.isSynthesizing?this.receiveMessage():Sh.b.fromResult(!0);this.privServiceHasSentMessage=!0;const t=Gd.fromConnectionMessage(e);if(t.requestId.toLowerCase()===this.privSynthesisTurn.requestId.toLowerCase())switch(t.path.toLowerCase()){case"turn.start":this.privSynthesisTurn.onServiceTurnStartResponse();break;case"response":this.privSynthesisTurn.onServiceResponseMessage(t.textBody);break;case"audio":if(this.privSynthesisTurn.streamId.toLowerCase()===t.streamId.toLowerCase()&&t.binaryBody){if(this.privSynthesisTurn.onAudioChunkReceived(t.binaryBody),this.privSpeechSynthesizer.synthesizing)try{const e=Vd.addHeader(t.binaryBody,this.privSynthesisTurn.audioOutputFormat),r=new nd(new id(this.privSynthesisTurn.requestId,Zh.SynthesizingAudio,e));this.privSpeechSynthesizer.synthesizing(this.privSpeechSynthesizer,r)}catch(r){}void 0!==this.privSessionAudioDestination&&this.privSessionAudioDestination.write(t.binaryBody)}break;case"audio.metadata":const e=_d.fromJSON(t.textBody).Metadata;for(const t of e)if(t.Type.toLowerCase()==="WordBoundary".toLowerCase()){this.privSynthesisTurn.onWordBoundaryEvent(t.Data.text.Text);const e=new od(t.Data.Offset,t.Data.text.Text,t.Data.text.Length,this.privSynthesisTurn.currentTextOffset);if(this.privSpeechSynthesizer.wordBoundary)try{this.privSpeechSynthesizer.wordBoundary(this.privSpeechSynthesizer,e)}catch(r){}}break;case"turn.end":let n;this.privSynthesisTurn.onServiceTurnEndResponse();try{n=new id(this.privSynthesisTurn.requestId,Zh.SynthesizingAudioCompleted,this.privSynthesisTurn.allReceivedAudioWithHeader),this.privSuccessCallback&&this.privSuccessCallback(n)}catch(r){this.privErrorCallback&&this.privErrorCallback(r)}if(this.privSpeechSynthesizer.synthesisCompleted)try{this.privSpeechSynthesizer.synthesisCompleted(this.privSpeechSynthesizer,new nd(n))}catch(lm){}break;default:this.processTypeSpecificMessages(t)||this.privServiceEvents&&this.serviceEvents.onEvent(new ed.h(t.path.toLowerCase(),t.textBody))}return this.receiveMessage()}),e=>{}),this.sendSynthesisContext=e=>{const t=JSON.stringify(this.buildSynthesisContext());return t?e.send(new Gd(td.b.Text,"synthesis.context",this.privSynthesisTurn.requestId,"application/json",t)):Sh.b.fromResult(!0)},this.sendSpeechServiceConfig=(e,t)=>t?e.send(new Gd(td.b.Text,"speech.config",this.privSynthesisTurn.requestId,"application/json",t)):Sh.b.fromResult(!0),this.sendSsmlMessage=(e,t,r)=>e.send(new Gd(td.b.Text,"ssml",r,"application/ssml+xml",t)),this.fetchConnection=()=>void 0!==this.fetchConnectionOverride?this.fetchConnectionOverride():this.configureConnection(),!e)throw new Ih.a("authentication");if(!t)throw new Ih.a("connectionFactory");if(!r)throw new Ih.a("synthesizerConfig");this.privAuthentication=e,this.privConnectionFactory=t,this.privSynthesizerConfig=r,this.privIsDisposed=!1,this.privSpeechSynthesizer=n,this.privSessionAudioDestination=i,this.privSynthesisTurn=new Bd,this.privConnectionEvents=new zh.a,this.privServiceEvents=new zh.a,this.privDynamicGrammar=new zd,this.privSpeechContext=new qd(this.privDynamicGrammar),this.privAgentConfig=new Ld,this.connectionEvents.attach(e=>{if("ConnectionClosedEvent"===e.name){const t=e;this.cancelSynthesisLocal(Jh.Error,1007===t.statusCode?Xh.BadRequestParameters:Xh.ConnectionFailure,t.reason+" websocket error code: "+t.statusCode)}})}get synthesisContext(){return this.privSpeechContext}get dynamicGrammar(){return this.privDynamicGrammar}get agentConfig(){return this.privAgentConfig}get connectionEvents(){return this.privConnectionEvents}get serviceEvents(){return this.privServiceEvents}set activityTemplate(e){this.privActivityTemplate=e}get activityTemplate(){return this.privActivityTemplate}set audioOutputFormat(e){this.privAudioOutputFormat=e,this.privSynthesisTurn.audioOutputFormat=e,void 0!==this.privSessionAudioDestination&&(this.privSessionAudioDestination.format=e)}static addHeader(e,t){if(!t.hasHeader)return e;t.updateHeader(e.byteLength);const r=new Uint8Array(e.byteLength+t.header.byteLength);return r.set(new Uint8Array(t.header),0),r.set(new Uint8Array(e),t.header.byteLength),r.buffer}isDisposed(){return this.privIsDisposed}dispose(e){this.privIsDisposed=!0,void 0!==this.privSessionAudioDestination&&this.privSessionAudioDestination.close(),this.privConnectionConfigurationPromise&&this.privConnectionConfigurationPromise.onSuccessContinueWith(t=>{t.dispose(e)})}connect(){this.connectImpl().result()}connectAsync(e,t){this.connectImpl().continueWith(r=>{try{r.isError?t&&t(r.error):r.isCompleted&&e&&e()}catch(lm){t&&t(lm)}})}Speak(e,t,r,n,i,o){let s;return s=t?e:Ad.buildSsml(e,this.privSynthesizerConfig.parameters),void 0!==this.speakOverride?this.speakOverride(s,r,n,i):(this.privSuccessCallback=n,this.privErrorCallback=i,this.privSynthesisTurn.startNewSynthesis(r,e,t,o),this.fetchConnection().continueWithPromise(e=>e.isError?(this.cancelSynthesisLocal(Jh.Error,Xh.ConnectionFailure,e.error),Sh.b.fromError(e.error)):this.sendSynthesisContext(e.result).continueWithPromise(t=>t.isError?(this.cancelSynthesisLocal(Jh.Error,Xh.ConnectionFailure,t.error),Sh.b.fromError(t.error)):this.sendSsmlMessage(e.result,s,r).continueWithPromise(e=>{if(e.isError)return this.cancelSynthesisLocal(Jh.Error,Xh.ConnectionFailure,e.error),Sh.b.fromError(e.error);const t=new nd(new id(r,Zh.SynthesizingAudioStarted));this.privSpeechSynthesizer.synthesisStarted&&this.privSpeechSynthesizer.synthesisStarted(this.privSpeechSynthesizer,t);this.receiveMessage();return Sh.b.fromResult(!0)}))))}cancelSynthesis(e,t,r,n){const i=new lh;i.setProperty(Zp,Xh[r]);const o=new id(e,Zh.Canceled,void 0,n,i);if(this.privSpeechSynthesizer.SynthesisCanceled){const e=new nd(o);try{this.privSpeechSynthesizer.SynthesisCanceled(this.privSpeechSynthesizer,e)}catch(s){}}if(this.privSuccessCallback)try{this.privSuccessCallback(o),this.privSuccessCallback=void 0}catch(a){}}cancelSynthesisLocal(e,t,r){this.privSynthesisTurn.isSynthesizing&&(this.privSynthesisTurn.onStopSynthesizing(),this.cancelSynthesis(this.privSynthesisTurn.requestId,e,t,r))}processTypeSpecificMessages(e,t,r){return!0}connectImpl(e=!1){if(void 0!==this.connectImplOverride)return this.connectImplOverride(e);if(this.privConnectionPromise)return this.privConnectionPromise.result().isCompleted&&(this.privConnectionPromise.result().isError||this.privConnectionPromise.result().result.state()===rd.a.Disconnected)&&!0===this.privServiceHasSentMessage?(this.privConnectionId=null,this.privConnectionPromise=null,this.privServiceHasSentMessage=!1,this.connectImpl()):this.privConnectionPromise;this.privAuthFetchEventId=Object(_h.a)(),this.privConnectionId=Object(_h.a)(),this.privSynthesisTurn.onPreConnectionStart(this.privAuthFetchEventId,this.privConnectionId);const t=e?this.privAuthentication.fetchOnExpiry(this.privAuthFetchEventId):this.privAuthentication.fetch(this.privAuthFetchEventId);return this.privConnectionPromise=t.continueWithPromise(t=>{if(t.isError)throw new Error(t.error);const r=this.privConnectionFactory.create(this.privSynthesizerConfig,t.result,this.privConnectionId);return r.events.attach(e=>{this.connectionEvents.onEvent(e)}),r.open().onSuccessContinueWithPromise(t=>200===t.statusCode?(this.privSynthesisTurn.onPreConnectionStart(this.privAuthFetchEventId,this.privConnectionId),this.privSynthesisTurn.onConnectionEstablishCompleted(t.statusCode),Sh.b.fromResult(r)):403!==t.statusCode||e?(this.privSynthesisTurn.onConnectionEstablishCompleted(t.statusCode,t.reason),Sh.b.fromError(`Unable to contact server. StatusCode: ${t.statusCode}, ${this.privSynthesizerConfig.parameters.getProperty(th.SpeechServiceConnection_Endpoint)} Reason: ${t.reason}`)):this.connectImpl(!0))}),this.privConnectionPromise}configureConnection(){return void 0!==this.configConnectionOverride?this.configConnectionOverride():this.privConnectionConfigurationPromise?this.privConnectionConfigurationPromise.result().isCompleted&&(this.privConnectionConfigurationPromise.result().isError||this.privConnectionConfigurationPromise.result().result.state()===rd.a.Disconnected)?(this.privConnectionConfigurationPromise=null,this.configureConnection()):this.privConnectionConfigurationPromise:(this.privConnectionConfigurationPromise=this.connectImpl().onSuccessContinueWithPromise(e=>this.sendSpeechServiceConfig(e,this.privSynthesizerConfig.SpeechServiceConfig.serialize()).onSuccessContinueWith(t=>e)),this.privConnectionConfigurationPromise)}buildSynthesisContext(){return{synthesis:{audio:{metadataOptions:{sentenceBoundaryEnabled:!1,wordBoundaryEnabled:!!this.privSpeechSynthesizer.wordBoundary},outputFormat:this.privAudioOutputFormat.requestAudioFormatString}}}}}Vd.telemetryDataEnabled=!0;const Yd=1800,Qd={[wd.PCM]:"audio/wav",[wd.MP3]:"audio/mpeg",[wd.Opus]:"audio/ogg"};class Zd{constructor(e){this.privPlaybackStarted=!1,this.privAppendingToBuffer=!1,this.privMediaSourceOpened=!1,this.privBytesReceived=0,this.privId=e||Object(_h.a)(),this.privIsPaused=!1,this.privIsClosed=!1}id(){return this.privId}write(e){void 0!==this.privAudioBuffer?(this.privAudioBuffer.push(e),this.updateSourceBuffer()):void 0!==this.privAudioOutputStream&&(this.privAudioOutputStream.write(e),this.privBytesReceived+=e.byteLength)}close(){if(this.privIsClosed=!0,void 0!==this.privSourceBuffer)this.handleSourceBufferUpdateEnd();else if(void 0!==this.privAudioOutputStream){let e=new ArrayBuffer(this.privBytesReceived);this.privAudioOutputStream.read(e),this.privFormat.hasHeader&&(e=Vd.addHeader(e,this.privFormat));const t=new Blob([e],{type:Qd[this.privFormat.formatTag]});this.privAudio.src=window.URL.createObjectURL(t),this.notifyPlayback()}}set format(e){if("undefined"!==typeof AudioContext||"undefined"!==typeof window.webkitAudioContext){this.privFormat=e;const t=Qd[this.privFormat.formatTag];void 0===t?console.warn(`Unknown mimeType for format ${wd[this.privFormat.formatTag]}.`):"undefined"!==typeof MediaSource&&MediaSource.isTypeSupported(t)?(this.privAudio=new Audio,this.privAudioBuffer=[],this.privMediaSource=new MediaSource,this.privAudio.src=URL.createObjectURL(this.privMediaSource),this.privAudio.load(),this.privMediaSource.onsourceopen=e=>{this.privMediaSourceOpened=!0,this.privMediaSource.duration=Yd,this.privSourceBuffer=this.privMediaSource.addSourceBuffer(t),this.privSourceBuffer.onupdate=e=>{this.updateSourceBuffer()},this.privSourceBuffer.onupdateend=e=>{this.handleSourceBufferUpdateEnd()},this.privSourceBuffer.onupdatestart=e=>{this.privAppendingToBuffer=!1}},this.updateSourceBuffer()):(console.warn(`Format ${wd[this.privFormat.formatTag]} could not be played by MSE, streaming playback is not enabled.`),this.privAudioOutputStream=new Pd,this.privAudioOutputStream.format=this.privFormat,this.privAudio=new Audio)}}get isClosed(){return this.privIsClosed}get currentTime(){return void 0!==this.privAudio?this.privAudio.currentTime:-1}pause(){this.privIsPaused||void 0===this.privAudio||(this.privAudio.pause(),this.privIsPaused=!0)}resume(){this.privIsPaused&&void 0!==this.privAudio&&(this.privAudio.play(),this.privIsPaused=!1)}get internalAudio(){return this.privAudio}updateSourceBuffer(){if(void 0!==this.privAudioBuffer&&this.privAudioBuffer.length>0&&this.sourceBufferAvailable()){this.privAppendingToBuffer=!0;const t=this.privAudioBuffer.shift();try{this.privSourceBuffer.appendBuffer(t)}catch(e){return this.privAudioBuffer.unshift(t),void console.log("buffer filled, pausing addition of binaries until space is made")}this.notifyPlayback()}else this.canEndStream()&&this.handleSourceBufferUpdateEnd()}handleSourceBufferUpdateEnd(){this.canEndStream()&&this.sourceBufferAvailable()&&(this.privMediaSource.endOfStream(),this.notifyPlayback())}notifyPlayback(){this.privPlaybackStarted||void 0===this.privAudio||(this.privAudio.onended=()=>{this.onAudioEnd&&this.onAudioEnd(this)},this.privIsPaused||this.privAudio.play(),this.privPlaybackStarted=!0)}canEndStream(){return this.isClosed&&void 0!==this.privSourceBuffer&&0===this.privAudioBuffer.length&&this.privMediaSourceOpened&&!this.privAppendingToBuffer&&"open"===this.privMediaSource.readyState}sourceBufferAvailable(){return void 0!==this.privSourceBuffer&&!this.privSourceBuffer.updating}}class Jd{static fromDefaultMicrophoneInput(){const e=new fh;return new Xd(new Uh(e))}static fromMicrophoneInput(e){const t=new fh;return new Xd(new Uh(t,e))}static fromWavFileInput(e){return new Xd(new $h(e))}static fromStreamInput(e){if(e instanceof Kh)return new Xd(new Qh(e));if(e instanceof Hh)return new Xd(e);throw new Error("Not Supported Type")}static fromDefaultSpeakerOutput(){return new ef(new Zd)}static fromSpeakerOutput(e){if(void 0===e)return Jd.fromDefaultSpeakerOutput();if(e instanceof Zd)return new ef(e);throw new Error("Not Supported Type")}static fromAudioFileOutput(e){return new ef(new Ed(e))}static fromStreamOutput(e){if(e instanceof Md)return new ef(new Rd(e));if(e instanceof Td)return new ef(e);if(e instanceof Cd)return new ef(e);throw new Error("Not Supported Type")}}class Xd extends Jd{constructor(e){super(),this.privSource=e}get format(){return this.privSource.format}close(){this.privSource.turnOff()}id(){return this.privSource.id()}turnOn(){return this.privSource.turnOn()}attach(e){return this.privSource.attach(e)}detach(e){return this.privSource.detach(e)}turnOff(){return this.privSource.turnOff()}get events(){return this.privSource.events}setProperty(e,t){if(eh.throwIfNull(t,"value"),void 0===this.privSource.setProperty)throw new Error("This AudioConfig instance does not support setting properties.");this.privSource.setProperty(e,t)}getProperty(e,t){if(void 0!==this.privSource.getProperty)return this.privSource.getProperty(e,t);throw new Error("This AudioConfig instance does not support getting properties.")}get deviceInfo(){return this.privSource.deviceInfo}}class ef extends Jd{constructor(e){super(),this.privDestination=e}set format(e){this.privDestination.format=e}write(e){this.privDestination.write(e)}close(){this.privDestination.close()}id(){return this.privDestination.id()}setProperty(e,t){throw new Error("This AudioConfig instance does not support setting properties.")}getProperty(e,t){throw new Error("This AudioConfig instance does not support getting properties.")}}class tf{constructor(e,t,r,n,i,o,s,a){this.privResultId=e,this.privReason=t,this.privText=r,this.privDuration=n,this.privOffset=i,this.privErrorDetails=o,this.privJson=s,this.privProperties=a}get resultId(){return this.privResultId}get reason(){return this.privReason}get text(){return this.privText}get duration(){return this.privDuration}get offset(){return this.privOffset}get errorDetails(){return this.privErrorDetails}get json(){return this.privJson}get properties(){return this.privProperties}}class rf extends tf{constructor(e,t,r,n,i,o,s,a){super(e,t,r,n,i,o,s,a)}}class nf{constructor(e){this.privSessionId=e}get sessionId(){return this.privSessionId}}class of extends nf{constructor(e,t){super(t),this.privOffset=e}get offset(){return this.privOffset}}class sf extends of{constructor(e,t,r){super(t,r),this.privResult=e}get result(){return this.privResult}}class af extends of{constructor(e,t,r,n,i){super(n,i),this.privReason=e,this.privErrorDetails=t,this.privErrorCode=r}get reason(){return this.privReason}get errorCode(){return this.privErrorCode}get errorDetails(){return this.privErrorDetails}}class cf{constructor(e,t){this.privBuffers=[],this.privReplayOffset=0,this.privLastShrinkOffset=0,this.privBufferStartOffset=0,this.privBufferSerial=0,this.privBufferedBytes=0,this.privReplay=!1,this.privLastChunkAcquiredTime=0,this.id=()=>this.privAudioNode.id(),this.privAudioNode=e,this.privBytesPerSecond=t}read(){if(this.privReplay&&0!==this.privBuffers.length){const e=this.privReplayOffset-this.privBufferStartOffset;let t=Math.round(e*this.privBytesPerSecond*1e-7);0!==t%2&&t++;let r=0;for(;r<this.privBuffers.length&&t>=this.privBuffers[r].chunk.buffer.byteLength;)t-=this.privBuffers[r++].chunk.buffer.byteLength;const n=this.privBuffers[r].chunk.buffer.slice(t);return this.privReplayOffset+=n.byteLength/this.privBytesPerSecond*1e7,r===this.privBuffers.length-1&&(this.privReplay=!1),Sh.b.fromResult({buffer:n,isEnd:!1,timeReceived:this.privBuffers[r].chunk.timeReceived})}return this.privAudioNode.read().onSuccessContinueWith(e=>(e&&e.buffer&&(this.privBuffers.push(new uf(e,this.privBufferSerial++,this.privBufferedBytes)),this.privBufferedBytes+=e.buffer.byteLength),e))}detach(){this.privAudioNode.detach(),this.privBuffers=void 0}replay(){this.privBuffers&&0!==this.privBuffers.length&&(this.privReplay=!0,this.privReplayOffset=this.privLastShrinkOffset)}shrinkBuffers(e){if(void 0===this.privBuffers)return;this.privLastShrinkOffset=e;const t=e-this.privBufferStartOffset;let r=Math.round(t*this.privBytesPerSecond*1e-7),n=0;for(;n<this.privBuffers.length&&r>=this.privBuffers[n].chunk.buffer.byteLength;)r-=this.privBuffers[n++].chunk.buffer.byteLength;this.privBufferStartOffset=Math.round(e-r/this.privBytesPerSecond*1e7),this.privBuffers=this.privBuffers.slice(n)}findTimeAtOffset(e){if(e<this.privBufferStartOffset||void 0===this.privBuffers)return 0;for(const t of this.privBuffers){const r=t.byteOffset/this.privBytesPerSecond*1e7,n=r+t.chunk.buffer.byteLength/this.privBytesPerSecond*1e7;if(e>=r&&e<=n)return t.chunk.timeReceived}return 0}}class uf{constructor(e,t,r){this.chunk=e,this.serial=t,this.byteOffset=r}}class lf{constructor(e){this.privSpeechStartDetected=JSON.parse(e)}static fromJSON(e){return new lf(e)}get Offset(){return this.privSpeechStartDetected.Offset}}class pf extends wh.b{constructor(e,t,r,n=wh.a.Info){super(e,n),this.privRequestId=t,this.privSessionId=r}get requestId(){return this.privRequestId}get sessionId(){return this.privSessionId}}class hf extends pf{constructor(e,t,r,n){super("RecognitionTriggeredEvent",e,t),this.privAudioSourceId=r,this.privAudioNodeId=n}get audioSourceId(){return this.privAudioSourceId}get audioNodeId(){return this.privAudioNodeId}}class df extends pf{constructor(e,t,r,n){super("ListeningStartedEvent",e,t),this.privAudioSourceId=r,this.privAudioNodeId=n}get audioSourceId(){return this.privAudioSourceId}get audioNodeId(){return this.privAudioNodeId}}class ff extends pf{constructor(e,t,r){super("ConnectingToServiceEvent",e,r),this.privAuthFetchEventid=t}get authFetchEventid(){return this.privAuthFetchEventid}}class mf extends pf{constructor(e,t,r,n,i){super("RecognitionStartedEvent",e,i),this.privAudioSourceId=t,this.privAudioNodeId=r,this.privAuthFetchEventId=n}get audioSourceId(){return this.privAudioSourceId}get audioNodeId(){return this.privAudioNodeId}get authFetchEventId(){return this.privAuthFetchEventId}}var vf,gf,yf;!function(e){e[e.Success=0]="Success",e[e.AudioSourceError=1]="AudioSourceError",e[e.AudioSourceTimeout=2]="AudioSourceTimeout",e[e.AuthTokenFetchError=3]="AuthTokenFetchError",e[e.AuthTokenFetchTimeout=4]="AuthTokenFetchTimeout",e[e.UnAuthorized=5]="UnAuthorized",e[e.ConnectTimeout=6]="ConnectTimeout",e[e.ConnectError=7]="ConnectError",e[e.ClientRecognitionActivityTimeout=8]="ClientRecognitionActivityTimeout",e[e.UnknownError=9]="UnknownError"}(vf||(vf={}));class bf{constructor(e,t,r){this.privIsDisposed=!1,this.privListeningTriggerMetric=null,this.privMicMetric=null,this.privConnectionEstablishMetric=null,this.onEvent=e=>{this.privIsDisposed||(e instanceof hf&&e.requestId===this.privRequestId&&(this.privListeningTriggerMetric={End:e.eventTime,Name:"ListeningTrigger",Start:e.eventTime}),e instanceof Th&&e.audioSourceId===this.privAudioSourceId&&e.audioNodeId===this.privAudioNodeId&&(this.privMicStartTime=e.eventTime),e instanceof Rh&&e.audioSourceId===this.privAudioSourceId&&e.audioNodeId===this.privAudioNodeId&&(this.privMicStartTime=e.eventTime),e instanceof Ch&&e.audioSourceId===this.privAudioSourceId&&(this.privMicMetric||(this.privMicMetric={End:e.eventTime,Error:e.error,Name:"Microphone",Start:this.privMicStartTime})),e instanceof Ah&&e.audioSourceId===this.privAudioSourceId&&e.audioNodeId===this.privAudioNodeId&&(this.privMicMetric||(this.privMicMetric={End:e.eventTime,Error:e.error,Name:"Microphone",Start:this.privMicStartTime})),e instanceof Mh&&e.audioSourceId===this.privAudioSourceId&&e.audioNodeId===this.privAudioNodeId&&(this.privMicMetric||(this.privMicMetric={End:e.eventTime,Name:"Microphone",Start:this.privMicStartTime})),e instanceof ff&&e.requestId===this.privRequestId&&(this.privConnectionId=e.sessionId),e instanceof ed.g&&e.connectionId===this.privConnectionId&&(this.privConnectionStartTime=e.eventTime),e instanceof ed.d&&e.connectionId===this.privConnectionId&&(this.privConnectionEstablishMetric||(this.privConnectionEstablishMetric={End:e.eventTime,Id:this.privConnectionId,Name:"Connection",Start:this.privConnectionStartTime})),e instanceof ed.c&&e.connectionId===this.privConnectionId&&(this.privConnectionEstablishMetric||(this.privConnectionEstablishMetric={End:e.eventTime,Error:this.getConnectionError(e.statusCode),Id:this.privConnectionId,Name:"Connection",Start:this.privConnectionStartTime})),e instanceof ed.e&&e.connectionId===this.privConnectionId&&e.message&&e.message.headers&&e.message.headers.path&&(this.privReceivedMessages[e.message.headers.path]||(this.privReceivedMessages[e.message.headers.path]=new Array),this.privReceivedMessages[e.message.headers.path].push(e.networkReceivedTime)))},this.getTelemetry=()=>{const e=new Array;this.privListeningTriggerMetric&&e.push(this.privListeningTriggerMetric),this.privMicMetric&&e.push(this.privMicMetric),this.privConnectionEstablishMetric&&e.push(this.privConnectionEstablishMetric),this.privPhraseLatencies.length>0&&e.push({PhraseLatencyMs:this.privPhraseLatencies}),this.privHypothesisLatencies.length>0&&e.push({FirstHypothesisLatencyMs:this.privHypothesisLatencies});const t={Metrics:e,ReceivedMessages:this.privReceivedMessages},r=JSON.stringify(t);return this.privReceivedMessages={},this.privListeningTriggerMetric=null,this.privMicMetric=null,this.privConnectionEstablishMetric=null,this.privPhraseLatencies=[],this.privHypothesisLatencies=[],r},this.dispose=()=>{this.privIsDisposed=!0},this.getConnectionError=e=>{switch(e){case 400:case 1002:case 1003:case 1005:case 1007:case 1008:case 1009:return"BadRequest";case 401:return"Unauthorized";case 403:return"Forbidden";case 503:case 1001:return"ServerUnavailable";case 500:case 1011:return"ServerError";case 408:case 504:return"Timeout";default:return"statuscode:"+e.toString()}},this.privRequestId=e,this.privAudioSourceId=t,this.privAudioNodeId=r,this.privReceivedMessages={},this.privPhraseLatencies=[],this.privHypothesisLatencies=[]}phraseReceived(e){e>0&&this.privPhraseLatencies.push(Date.now()-e)}hypothesisReceived(e){e>0&&this.privHypothesisLatencies.push(Date.now()-e)}get hasTelemetry(){return 0!==Object.keys(this.privReceivedMessages).length||null!==this.privListeningTriggerMetric||null!==this.privMicMetric||null!==this.privConnectionEstablishMetric||0!==this.privPhraseLatencies.length||0!==this.privHypothesisLatencies.length}}class Sf{constructor(e){this.privIsDisposed=!1,this.privDetachables=new Array,this.privIsAudioNodeDetached=!1,this.privIsRecognizing=!1,this.privIsSpeechEnded=!1,this.privTurnStartAudioOffset=0,this.privLastRecoOffset=0,this.privHypothesisReceived=!1,this.privBytesSent=0,this.privRecogNumber=0,this.onAudioSourceAttachCompleted=(e,t,r)=>{this.privAudioNode=e,this.privIsAudioNodeDetached=!1,t?this.onComplete():this.onEvent(new df(this.privRequestId,this.privSessionId,this.privAudioSourceId,this.privAudioNodeId))},this.onPreConnectionStart=(e,t)=>{this.privAuthFetchEventId=e,this.privSessionId=t,this.onEvent(new ff(this.privRequestId,this.privAuthFetchEventId,this.privSessionId))},this.onAuthCompleted=(e,t)=>{e&&this.onComplete()},this.onConnectionEstablishCompleted=(e,t)=>{if(200===e)return this.onEvent(new mf(this.requestId,this.privAudioSourceId,this.privAudioNodeId,this.privAuthFetchEventId,this.privSessionId)),this.privAudioNode&&this.privAudioNode.replay(),this.privTurnStartAudioOffset=this.privLastRecoOffset,void(this.privBytesSent=0);403===e&&this.onComplete()},this.onServiceTurnEndResponse=e=>{this.privTurnDeferral.resolve(!0),!e||this.isSpeechEnded?this.onComplete():(this.privTurnStartAudioOffset=this.privLastRecoOffset,this.privRequestId=Object(_h.a)(),this.privAudioNode.replay())},this.onServiceTurnStartResponse=()=>{this.privTurnDeferral.state()===Sh.c.None&&this.privTurnDeferral.reject("Another turn started before current completed."),this.privTurnDeferral=new Sh.a},this.dispose=e=>{if(!this.privIsDisposed){this.privIsDisposed=!0;for(const e of this.privDetachables)e.detach();this.privServiceTelemetryListener.dispose()}},this.getTelemetry=()=>this.privServiceTelemetryListener.hasTelemetry?this.privServiceTelemetryListener.getTelemetry():null,this.onEvent=e=>{this.privServiceTelemetryListener&&this.privServiceTelemetryListener.onEvent(e),Bh.a.instance.onEvent(e)},this.onComplete=()=>{this.privIsRecognizing&&(this.privIsRecognizing=!1,this.detachAudioNode())},this.detachAudioNode=()=>{this.privIsAudioNodeDetached||(this.privIsAudioNodeDetached=!0,this.privAudioNode&&this.privAudioNode.detach())},this.privAudioSourceId=e,this.privRequestId=Object(_h.a)(),this.privAudioNodeId=Object(_h.a)(),this.privTurnDeferral=new Sh.a,this.privTurnDeferral.resolve(!0)}get sessionId(){return this.privSessionId}get requestId(){return this.privRequestId}get audioNodeId(){return this.privAudioNodeId}get turnCompletionPromise(){return this.privTurnDeferral.promise()}get isSpeechEnded(){return this.privIsSpeechEnded}get isRecognizing(){return this.privIsRecognizing}get currentTurnAudioOffset(){return this.privTurnStartAudioOffset}get recogNumber(){return this.privRecogNumber}get bytesSent(){return this.privBytesSent}listenForServiceTelemetry(e){this.privServiceTelemetryListener&&this.privDetachables.push(e.attachListener(this.privServiceTelemetryListener))}startNewRecognition(){this.privIsSpeechEnded=!1,this.privIsRecognizing=!0,this.privTurnStartAudioOffset=0,this.privLastRecoOffset=0,this.privRequestId=Object(_h.a)(),this.privRecogNumber++,this.privServiceTelemetryListener=new bf(this.privRequestId,this.privAudioSourceId,this.privAudioNodeId),this.onEvent(new hf(this.requestId,this.privSessionId,this.privAudioSourceId,this.privAudioNodeId))}onHypothesis(e){this.privHypothesisReceived||(this.privHypothesisReceived=!0,this.privServiceTelemetryListener.hypothesisReceived(this.privAudioNode.findTimeAtOffset(e)))}onPhraseRecognized(e){this.privServiceTelemetryListener.phraseReceived(this.privAudioNode.findTimeAtOffset(e)),this.onServiceRecognized(e)}onServiceRecognized(e){this.privLastRecoOffset=e,this.privHypothesisReceived=!1,this.privAudioNode.shrinkBuffers(e)}onAudioSent(e){this.privBytesSent+=e}onStopRecognizing(){this.onComplete()}onSpeechEnded(){this.privIsSpeechEnded=!0}}class wf{constructor(e,t,r,n,i){if(this.recognizeOverride=void 0,this.disconnectOverride=void 0,this.sendTelemetryData=()=>{const e=this.privRequestSession.getTelemetry();if(!0!==wf.telemetryDataEnabled||this.privIsDisposed||null===e)return Sh.b.fromResult(!0);if(wf.telemetryData)try{wf.telemetryData(e)}catch(t){}return this.fetchConnection().onSuccessContinueWith(t=>t.send(new Gd(td.b.Text,"telemetry",this.privRequestSession.requestId,"application/json",e)))},this.receiveMessageOverride=void 0,this.receiveMessage=()=>this.fetchConnection().on(e=>e.read().onSuccessContinueWithPromise(e=>{if(void 0!==this.receiveMessageOverride)return this.receiveMessageOverride();if(this.privIsDisposed)return Sh.b.fromResult(void 0);if(!e)return this.privRequestSession.isRecognizing?this.receiveMessage():Sh.b.fromResult(!0);this.privServiceHasSentMessage=!0;const t=Gd.fromConnectionMessage(e);if(t.requestId.toLowerCase()===this.privRequestSession.requestId.toLowerCase())switch(t.path.toLowerCase()){case"turn.start":this.privMustReportEndOfStream=!0,this.privRequestSession.onServiceTurnStartResponse();break;case"speech.startdetected":const e=lf.fromJSON(t.textBody),r=new of(e.Offset,this.privRequestSession.sessionId);this.privRecognizer.speechStartDetected&&this.privRecognizer.speechStartDetected(this.privRecognizer,r);break;case"speech.enddetected":let n;n=t.textBody.length>0?t.textBody:"{ Offset: 0 }";const i=lf.fromJSON(n);this.privRecognizerConfig.isContinuousRecognition&&this.privRequestSession.onServiceRecognized(i.Offset+this.privRequestSession.currentTurnAudioOffset);const o=new of(i.Offset+this.privRequestSession.currentTurnAudioOffset,this.privRequestSession.sessionId);this.privRecognizer.speechEndDetected&&this.privRecognizer.speechEndDetected(this.privRecognizer,o);break;case"turn.end":this.sendTelemetryData(),this.privRequestSession.isSpeechEnded&&this.privMustReportEndOfStream&&(this.privMustReportEndOfStream=!1,this.cancelRecognitionLocal(Jh.EndOfStream,Xh.NoError,void 0));const s=new nf(this.privRequestSession.sessionId);if(this.privRequestSession.onServiceTurnEndResponse(this.privRecognizerConfig.isContinuousRecognition),!this.privRecognizerConfig.isContinuousRecognition||this.privRequestSession.isSpeechEnded||!this.privRequestSession.isRecognizing)return this.privRecognizer.sessionStopped&&this.privRecognizer.sessionStopped(this.privRecognizer,s),Sh.b.fromResult(!0);this.fetchConnection().onSuccessContinueWith(e=>{this.sendSpeechContext(e),this.sendWaveHeader(e)});break;default:this.processTypeSpecificMessages(t)||this.privServiceEvents&&this.serviceEvents.onEvent(new ed.h(t.path.toLowerCase(),t.textBody))}return this.receiveMessage()}),e=>{}),this.sendSpeechContext=e=>{const t=this.speechContext.toJSON();return t?e.send(new Gd(td.b.Text,"speech.context",this.privRequestSession.requestId,"application/json",t)):Sh.b.fromResult(!0)},this.connectImplOverride=void 0,this.configConnectionOverride=void 0,this.fetchConnectionOverride=void 0,this.sendSpeechServiceConfig=(e,t,r)=>{if(!0!==wf.telemetryDataEnabled){const e={context:{system:JSON.parse(r).context.system}};r=JSON.stringify(e)}return r?e.send(new Gd(td.b.Text,"speech.config",t.requestId,"application/json",r)):Sh.b.fromResult(!0)},this.sendAudio=e=>this.audioSource.format.onSuccessContinueWithPromise(t=>{const r=new Sh.a;let n=Date.now();const i=this.privRecognizerConfig.parameters.getProperty("SPEECH-TransmitLengthBeforThrottleMs","5000"),o=t.avgBytesPerSec/1e3*parseInt(i,10),s=this.privRequestSession.recogNumber,a=()=>{this.privIsDisposed||this.privRequestSession.isSpeechEnded||!this.privRequestSession.isRecognizing||this.privRequestSession.recogNumber!==s||this.fetchConnection().on(i=>{e.read().on(e=>{if(this.privRequestSession.isSpeechEnded)return void r.resolve(!0);let s,c;!e||e.isEnd?(s=null,c=0):(s=e.buffer,this.privRequestSession.onAudioSent(s.byteLength),c=o>=this.privRequestSession.bytesSent?0:Math.max(0,n-Date.now())),setTimeout(()=>{var o;null!==s&&(n=Date.now()+1e3*s.byteLength/(2*t.avgBytesPerSec));const c=i.send(new Gd(td.b.Binary,"audio",this.privRequestSession.requestId,null,s));(null===(o=e)||void 0===o?void 0:o.isEnd)?(this.privRequestSession.onSpeechEnded(),r.resolve(!0)):c.continueWith(e=>{a()})},c)},e=>{this.privRequestSession.isSpeechEnded?r.resolve(!0):r.reject(e)})},e=>{r.reject(e)})};return a(),r.promise()}),this.fetchConnection=()=>void 0!==this.fetchConnectionOverride?this.fetchConnectionOverride():this.configureConnection(),!e)throw new Ih.a("authentication");if(!t)throw new Ih.a("connectionFactory");if(!r)throw new Ih.a("audioSource");if(!n)throw new Ih.a("recognizerConfig");this.privMustReportEndOfStream=!1,this.privAuthentication=e,this.privConnectionFactory=t,this.privAudioSource=r,this.privRecognizerConfig=n,this.privIsDisposed=!1,this.privRecognizer=i,this.privRequestSession=new Sf(this.privAudioSource.id()),this.privConnectionEvents=new zh.a,this.privServiceEvents=new zh.a,this.privDynamicGrammar=new zd,this.privSpeechContext=new qd(this.privDynamicGrammar),this.privAgentConfig=new Ld}get audioSource(){return this.privAudioSource}get speechContext(){return this.privSpeechContext}get dynamicGrammar(){return this.privDynamicGrammar}get agentConfig(){return this.privAgentConfig}set conversationTranslatorToken(e){this.privRecognizerConfig.parameters.setProperty(th.ConversationTranslator_Token,e)}isDisposed(){return this.privIsDisposed}dispose(e){this.privIsDisposed=!0,this.privConnectionConfigurationPromise&&this.privConnectionConfigurationPromise.onSuccessContinueWith(t=>{t.dispose(e)})}get connectionEvents(){return this.privConnectionEvents}get serviceEvents(){return this.privServiceEvents}get recognitionMode(){return this.privRecognizerConfig.recognitionMode}recognize(e,t,r){return void 0!==this.recognizeOverride?this.recognizeOverride(e,t,r):(this.privConnectionConfigurationPromise=null,this.privRecognizerConfig.recognitionMode=e,this.privSuccessCallback=t,this.privErrorCallback=r,this.privRequestSession.startNewRecognition(),this.privRequestSession.listenForServiceTelemetry(this.privAudioSource.events),this.connectImpl(),this.audioSource.attach(this.privRequestSession.audioNodeId).onSuccessContinueWithPromise(e=>{let t;return this.audioSource.format.onSuccessContinueWithPromise(r=>(t=new cf(e,r.avgBytesPerSec),this.privRequestSession.onAudioSourceAttachCompleted(t,!1),this.audioSource.deviceInfo.onSuccessContinueWithPromise(e=>(this.privRecognizerConfig.SpeechServiceConfig.Context.audio={source:e},this.configureConnection().continueWithPromise(e=>{if(e.isError)return this.cancelRecognitionLocal(Jh.Error,Xh.ConnectionFailure,e.error),Sh.b.fromError(e.error);const r=new nf(this.privRequestSession.sessionId);this.privRecognizer.sessionStarted&&this.privRecognizer.sessionStarted(this.privRecognizer,r);this.receiveMessage();return this.sendAudio(t).on(e=>{},e=>{this.cancelRecognitionLocal(Jh.Error,Xh.RuntimeError,e)}),Sh.b.fromResult(!0)})))))}))}stopRecognizing(){return this.privRequestSession.isRecognizing?(this.audioSource.turnOff(),this.sendFinalAudio().onSuccessContinueWithPromise(e=>(this.privRequestSession.onStopRecognizing(),this.privRequestSession.turnCompletionPromise.onSuccessContinueWith(e=>(this.privRequestSession.onStopRecognizing(),this.privRequestSession.dispose(),!0))))):Sh.b.fromResult(!0)}connect(){this.connectImpl().result()}connectAsync(e,t){this.connectImpl().continueWith(r=>{try{r.isError?t&&t(r.error):r.isCompleted&&e&&e()}catch(lm){t&&t(lm)}})}disconnect(){void 0===this.disconnectOverride?(this.cancelRecognitionLocal(Jh.Error,Xh.NoError,"Disconnecting"),this.privConnectionPromise.result().isCompleted?this.privConnectionPromise.result().isError||(this.privConnectionPromise.result().result.dispose(),this.privConnectionPromise=null):this.privConnectionPromise.onSuccessContinueWith(e=>{e.dispose()})):this.disconnectOverride()}disconnectAsync(e,t){try{if(void 0!==this.disconnectOverride)return this.disconnectOverride(),void(e&&e());this.cancelRecognitionLocal(Jh.Error,Xh.NoError,"Disconnecting"),this.privConnectionPromise.continueWith(r=>{try{r.isError?t&&t(r.error):r.isCompleted&&(r.result.dispose(),e&&e())}catch(lm){t&&t(lm)}})}catch(lm){t&&t(lm)}}sendMessage(e){}set activityTemplate(e){this.privActivityTemplate=e}get activityTemplate(){return this.privActivityTemplate}cancelRecognitionLocal(e,t,r){this.privRequestSession.isRecognizing&&(this.privRequestSession.onStopRecognizing(),this.cancelRecognition(this.privRequestSession.sessionId,this.privRequestSession.requestId,e,t,r))}sendWaveHeader(e){return this.audioSource.format.onSuccessContinueWithPromise(t=>e.send(new Gd(td.b.Binary,"audio",this.privRequestSession.requestId,"audio/x-wav",t.header)))}connectImpl(e=!1){if(void 0!==this.connectImplOverride)return this.connectImplOverride(e);if(this.privConnectionPromise)return this.privConnectionPromise.result().isCompleted&&(this.privConnectionPromise.result().isError||this.privConnectionPromise.result().result.state()===rd.a.Disconnected)&&!0===this.privServiceHasSentMessage?(this.privConnectionId=null,this.privConnectionPromise=null,this.privServiceHasSentMessage=!1,this.connectImpl()):this.privConnectionPromise;this.privAuthFetchEventId=Object(_h.a)(),this.privConnectionId=Object(_h.a)(),this.privRequestSession.onPreConnectionStart(this.privAuthFetchEventId,this.privConnectionId);const t=e?this.privAuthentication.fetchOnExpiry(this.privAuthFetchEventId):this.privAuthentication.fetch(this.privAuthFetchEventId);return this.privConnectionPromise=t.continueWithPromise(t=>{if(t.isError)throw this.privRequestSession.onAuthCompleted(!0,t.error),new Error(t.error);this.privRequestSession.onAuthCompleted(!1);const r=this.privConnectionFactory.create(this.privRecognizerConfig,t.result,this.privConnectionId);return this.privRequestSession.listenForServiceTelemetry(r.events),r.events.attach(e=>{this.connectionEvents.onEvent(e)}),r.open().onSuccessContinueWithPromise(t=>200===t.statusCode?(this.privRequestSession.onPreConnectionStart(this.privAuthFetchEventId,this.privConnectionId),this.privRequestSession.onConnectionEstablishCompleted(t.statusCode),Sh.b.fromResult(r)):403!==t.statusCode||e?(this.privRequestSession.onConnectionEstablishCompleted(t.statusCode,t.reason),Sh.b.fromError(`Unable to contact server. StatusCode: ${t.statusCode}, ${this.privRecognizerConfig.parameters.getProperty(th.SpeechServiceConnection_Endpoint)} Reason: ${t.reason}`)):this.connectImpl(!0))}),this.privConnectionPromise}writeBufferToConsole(e){let t="Buffer Size: ";if(null===e)t+="null";else{const r=new Uint8Array(e);t+=e.byteLength+"\r\n";for(let n=0;n<e.byteLength;n++)t+=r[n].toString(16).padStart(2,"0")+" "}console.info(t)}sendFinalAudio(){const e=new Sh.a;return this.fetchConnection().on(t=>{t.send(new Gd(td.b.Binary,"audio",this.privRequestSession.requestId,null,null)).on(t=>{e.resolve(!0)},t=>{e.reject(t)})},t=>{e.reject(t)}),e.promise()}configureConnection(){return void 0!==this.configConnectionOverride?this.configConnectionOverride():this.privConnectionConfigurationPromise?this.privConnectionConfigurationPromise.result().isCompleted&&(this.privConnectionConfigurationPromise.result().isError||this.privConnectionConfigurationPromise.result().result.state()===rd.a.Disconnected)?(this.privConnectionConfigurationPromise=null,this.configureConnection()):this.privConnectionConfigurationPromise:(this.privConnectionConfigurationPromise=this.connectImpl().onSuccessContinueWithPromise(e=>this.sendSpeechServiceConfig(e,this.privRequestSession,this.privRecognizerConfig.SpeechServiceConfig.serialize()).onSuccessContinueWithPromise(t=>this.sendSpeechContext(e).onSuccessContinueWithPromise(t=>this.sendWaveHeader(e).onSuccessContinueWith(t=>e)))),this.privConnectionConfigurationPromise)}}wf.telemetryDataEnabled=!0;class kf{constructor(e){this.privSpeechHypothesis=JSON.parse(e)}static fromJSON(e){return new kf(e)}get Text(){return this.privSpeechHypothesis.Text}get Offset(){return this.privSpeechHypothesis.Offset}get Duration(){return this.privSpeechHypothesis.Duration}}!function(e){e[e.Success=0]="Success",e[e.SynthesisEnd=1]="SynthesisEnd",e[e.Error=2]="Error"}(gf||(gf={})),function(e){e[e.Success=0]="Success",e[e.NoMatch=1]="NoMatch",e[e.InitialSilenceTimeout=2]="InitialSilenceTimeout",e[e.BabbleTimeout=3]="BabbleTimeout",e[e.Error=4]="Error",e[e.EndOfDictation=5]="EndOfDictation",e[e.TooManyRequests=6]="TooManyRequests"}(yf||(yf={}));class Ef{constructor(e){this.privSimpleSpeechPhrase=JSON.parse(e),this.privSimpleSpeechPhrase.RecognitionStatus=yf[this.privSimpleSpeechPhrase.RecognitionStatus]}static fromJSON(e){return new Ef(e)}get RecognitionStatus(){return this.privSimpleSpeechPhrase.RecognitionStatus}get DisplayText(){return this.privSimpleSpeechPhrase.DisplayText}get Offset(){return this.privSimpleSpeechPhrase.Offset}get Duration(){return this.privSimpleSpeechPhrase.Duration}}class Of{static implTranslateRecognitionResult(e){let t=Zh.Canceled;switch(e){case yf.Success:t=Zh.RecognizedSpeech;break;case yf.NoMatch:case yf.InitialSilenceTimeout:case yf.BabbleTimeout:case yf.EndOfDictation:t=Zh.NoMatch;break;case yf.Error:default:t=Zh.Canceled}return t}static implTranslateCancelResult(e){let t=Jh.EndOfStream;switch(e){case yf.Success:case yf.EndOfDictation:case yf.NoMatch:t=Jh.EndOfStream;break;case yf.InitialSilenceTimeout:case yf.BabbleTimeout:case yf.Error:default:t=Jh.Error}return t}static implTranslateCancelErrorCode(e){let t=Xh.NoError;switch(e){case yf.Error:t=Xh.ServiceError;break;case yf.TooManyRequests:t=Xh.TooManyRequests;break;default:t=Xh.NoError}return t}}class xf{constructor(e){this.privDetailedSpeechPhrase=JSON.parse(e),this.privDetailedSpeechPhrase.RecognitionStatus=yf[this.privDetailedSpeechPhrase.RecognitionStatus]}static fromJSON(e){return new xf(e)}get RecognitionStatus(){return this.privDetailedSpeechPhrase.RecognitionStatus}get NBest(){return this.privDetailedSpeechPhrase.NBest}get Duration(){return this.privDetailedSpeechPhrase.Duration}get Offset(){return this.privDetailedSpeechPhrase.Offset}}class Cf extends wf{constructor(e,t,r,n,i){super(e,t,r,n,i),this.privSpeechRecognizer=i}processTypeSpecificMessages(e){let t;const r=new lh;r.setProperty(th.SpeechServiceResponse_JsonResult,e.textBody);let n=!1;switch(e.path.toLowerCase()){case"speech.hypothesis":case"speech.fragment":const o=kf.fromJSON(e.textBody),s=o.Offset+this.privRequestSession.currentTurnAudioOffset;t=new rf(this.privRequestSession.requestId,Zh.RecognizingSpeech,o.Text,o.Duration,s,void 0,e.textBody,r),this.privRequestSession.onHypothesis(s);const a=new sf(t,o.Duration,this.privRequestSession.sessionId);if(this.privSpeechRecognizer.recognizing)try{this.privSpeechRecognizer.recognizing(this.privSpeechRecognizer,a)}catch(i){}n=!0;break;case"speech.phrase":const c=Ef.fromJSON(e.textBody),u=Of.implTranslateRecognitionResult(c.RecognitionStatus);if(this.privRequestSession.onPhraseRecognized(this.privRequestSession.currentTurnAudioOffset+c.Offset+c.Duration),Zh.Canceled===u){const e=Of.implTranslateCancelResult(c.RecognitionStatus);this.cancelRecognitionLocal(e,Of.implTranslateCancelErrorCode(c.RecognitionStatus),void 0)}else{if(!this.privRequestSession.isSpeechEnded||u!==Zh.NoMatch||c.RecognitionStatus===yf.InitialSilenceTimeout){if(this.privRecognizerConfig.parameters.getProperty(Qp)===rh[rh.Simple])t=new rf(this.privRequestSession.requestId,u,c.DisplayText,c.Duration,c.Offset+this.privRequestSession.currentTurnAudioOffset,void 0,e.textBody,r);else{const n=xf.fromJSON(e.textBody);t=new rf(this.privRequestSession.requestId,u,n.RecognitionStatus===yf.Success?n.NBest[0].Display:void 0,n.Duration,n.Offset+this.privRequestSession.currentTurnAudioOffset,void 0,e.textBody,r)}const n=new sf(t,t.offset,this.privRequestSession.sessionId);if(this.privSpeechRecognizer.recognized)try{this.privSpeechRecognizer.recognized(this.privSpeechRecognizer,n)}catch(i){}}if(this.privSuccessCallback){try{this.privSuccessCallback(t)}catch(lm){this.privErrorCallback&&this.privErrorCallback(lm)}this.privSuccessCallback=void 0,this.privErrorCallback=void 0}}n=!0}return n}cancelRecognition(e,t,r,n,i){const o=new lh;if(o.setProperty(Zp,Xh[n]),this.privSpeechRecognizer.canceled){const t=new af(r,i,n,void 0,e);try{this.privSpeechRecognizer.canceled(this.privSpeechRecognizer,t)}catch(s){}}if(this.privSuccessCallback){const e=new rf(t,Zh.Canceled,void 0,void 0,void 0,i,void 0,o);try{this.privSuccessCallback(e),this.privSuccessCallback=void 0}catch(a){}}}}class Pf{setCommonUrlParams(e,t,r){this.setUrlParameter(th.SpeechServiceConnection_EnableAudioLogging,hd.EnableAudioLogging,e,t,r),this.setUrlParameter(th.SpeechServiceResponse_RequestWordLevelTimestamps,hd.EnableWordLevelTimestamps,e,t,r),this.setUrlParameter(th.SpeechServiceResponse_ProfanityOption,hd.Profanify,e,t,r),this.setUrlParameter(th.SpeechServiceConnection_InitialSilenceTimeoutMs,hd.InitialSilenceTimeoutMs,e,t,r),this.setUrlParameter(th.SpeechServiceConnection_EndSilenceTimeoutMs,hd.EndSilenceTimeoutMs,e,t,r),this.setUrlParameter(th.SpeechServiceResponse_StablePartialResultThreshold,hd.StableIntermediateThreshold,e,t,r);const n=JSON.parse(e.parameters.getProperty(Jp,"{}"));Object.keys(n).forEach((e,r,i)=>{t[e]=n[e]})}setUrlParameter(e,t,r,n,i){const o=r.parameters.getProperty(e,void 0);!o||i&&-1!==i.search(t)||(n[t]=o.toLocaleLowerCase())}}class Tf extends Pf{constructor(){super(...arguments),this.interactiveRelativeUri="/speech/recognition/interactive/cognitiveservices/v1",this.conversationRelativeUri="/speech/recognition/conversation/cognitiveservices/v1",this.dictationRelativeUri="/speech/recognition/dictation/cognitiveservices/v1",this.create=(e,t,r)=>{let n=e.parameters.getProperty(th.SpeechServiceConnection_Endpoint,void 0);const i=e.parameters.getProperty(th.SpeechServiceConnection_Region,void 0),o=i&&i.toLowerCase().startsWith("china")?".azure.cn":".microsoft.com",s=e.parameters.getProperty(th.SpeechServiceConnection_Host,"wss://"+i+".stt.speech"+o),a={},c=e.parameters.getProperty(th.SpeechServiceConnection_EndpointId,void 0),u=e.parameters.getProperty(th.SpeechServiceConnection_RecoLanguage,void 0);if(c?n&&-1!==n.search(hd.DeploymentIdParamName)||(a[hd.DeploymentIdParamName]=c):u&&(n&&-1!==n.search(hd.LanguageParamName)||(a[hd.LanguageParamName]=u)),n&&-1!==n.search(hd.FormatParamName)||(a[hd.FormatParamName]=e.parameters.getProperty(Qp,rh[rh.Simple]).toLowerCase()),this.setCommonUrlParams(e,a,n),!n)switch(e.recognitionMode){case oh.Conversation:n="true"===e.parameters.getProperty(Xp,"false")?s+this.dictationRelativeUri:s+this.conversationRelativeUri;break;case oh.Dictation:n=s+this.dictationRelativeUri;break;default:n=s+this.interactiveRelativeUri}const l={};return void 0!==t.token&&""!==t.token&&(l[t.headerName]=t.token),l[hd.ConnectionIdHeader]=r,e.parameters.setProperty(th.SpeechServiceConnection_Url,n),new ad(n,a,l,new pd,cd.fromRecognizerConfig(e),r)}}}class Rf{constructor(e,t,r){this.audioConfig=void 0!==e?e:Jd.fromDefaultMicrophoneInput(),this.privDisposed=!1,this.privProperties=t.clone(),this.privConnectionFactory=r,this.implCommonRecognizerSetup()}close(){eh.throwIfDisposed(this.privDisposed),this.dispose(!0)}get internalData(){return this.privReco}dispose(e){this.privDisposed||(e&&this.privReco&&(this.privReco.audioSource.turnOff(),this.privReco.dispose()),this.privDisposed=!0)}static get telemetryEnabled(){return wf.telemetryDataEnabled}static enableTelemetry(e){wf.telemetryDataEnabled=e}implCommonRecognizerSetup(){let e="undefined"!==typeof window?"Browser":"Node",t="unknown",r="unknown";"undefined"!==typeof navigator&&(e=e+"/"+navigator.platform,t=navigator.userAgent,r=navigator.appVersion);const n=this.createRecognizerConfig(new vh(new gh(new bh(e,t,r)))),i=this.privProperties.getProperty(th.SpeechServiceConnection_Key,void 0),o=i&&""!==i?new yd(i):new Sd(e=>{const t=this.privProperties.getProperty(th.SpeechServiceAuthorization_Token,void 0);return Sh.b.fromResult(t)},e=>{const t=this.privProperties.getProperty(th.SpeechServiceAuthorization_Token,void 0);return Sh.b.fromResult(t)});this.privReco=this.createServiceRecognizer(o,this.privConnectionFactory,this.audioConfig,n)}recognizeOnceAsyncImpl(e,t,r){try{eh.throwIfDisposed(this.privDisposed),this.implRecognizerStop().on(n=>{try{this.privReco.recognize(e,e=>{this.implRecognizerStop().on(r=>{t&&t(e)},e=>{r&&r(e)})},e=>{this.implRecognizerStop(),r&&r(e)}).on(e=>{},e=>{r&&r(e)})}catch(i){if(r)if(i instanceof Error){const e=i;r(e.name+": "+e.message)}else r(i);this.dispose(!0)}},e=>{r&&r(e)})}catch(n){if(r)if(n instanceof Error){const e=n;r(e.name+": "+e.message)}else r(n);this.dispose(!0)}}startContinuousRecognitionAsyncImpl(e,t,r){try{eh.throwIfDisposed(this.privDisposed),this.implRecognizerStop().on(n=>{this.privReco.recognize(e,void 0,void 0).on(e=>{if(t){try{t()}catch(lm){r&&r(lm)}t=void 0}},e=>{r&&r(e),this.dispose(!0)})},e=>{r&&r(e),this.dispose(!0)})}catch(n){if(r)if(n instanceof Error){const e=n;r(e.name+": "+e.message)}else r(n);this.dispose(!0)}}stopContinuousRecognitionAsyncImpl(e,t){try{eh.throwIfDisposed(this.privDisposed),this.implRecognizerStop().on(r=>{if(e)try{e()}catch(lm){t&&t(lm)}},e=>{t&&t(e)})}catch(r){if(t)if(r instanceof Error){const e=r;t(e.name+": "+e.message)}else t(r);this.dispose(!0)}}implRecognizerStop(){return this.privReco?this.privReco.stopRecognizing():Sh.b.fromResult(!0)}}class Mf extends Rf{constructor(e,t){const r=e;eh.throwIfNull(r,"speechConfig"),eh.throwIfNullOrWhitespace(r.properties.getProperty(th.SpeechServiceConnection_RecoLanguage),th[th.SpeechServiceConnection_RecoLanguage]),super(t,r.properties,new Tf),this.privDisposedSpeechRecognizer=!1}get endpointId(){return eh.throwIfDisposed(this.privDisposedSpeechRecognizer),this.properties.getProperty(th.SpeechServiceConnection_EndpointId,"00000000-0000-0000-0000-000000000000")}get authorizationToken(){return this.properties.getProperty(th.SpeechServiceAuthorization_Token)}set authorizationToken(e){eh.throwIfNullOrWhitespace(e,"token"),this.properties.setProperty(th.SpeechServiceAuthorization_Token,e)}get speechRecognitionLanguage(){return eh.throwIfDisposed(this.privDisposedSpeechRecognizer),this.properties.getProperty(th.SpeechServiceConnection_RecoLanguage)}get outputFormat(){return eh.throwIfDisposed(this.privDisposedSpeechRecognizer),this.properties.getProperty(Qp,rh[rh.Simple])===rh[rh.Simple]?rh.Simple:rh.Detailed}get properties(){return this.privProperties}recognizeOnceAsync(e,t){this.recognizeOnceAsyncImpl(oh.Interactive,e,t)}startContinuousRecognitionAsync(e,t){this.startContinuousRecognitionAsyncImpl(oh.Conversation,e,t)}stopContinuousRecognitionAsync(e,t){this.stopContinuousRecognitionAsyncImpl(e,t)}startKeywordRecognitionAsync(e,t,r){eh.throwIfNull(e,"model"),r&&r("Not yet implemented.")}stopKeywordRecognitionAsync(e,t){e&&e()}close(){eh.throwIfDisposed(this.privDisposedSpeechRecognizer),this.dispose(!0)}dispose(e){this.privDisposedSpeechRecognizer||(e&&(this.implRecognizerStop(),this.privDisposedSpeechRecognizer=!0),super.dispose(e))}createRecognizerConfig(e){return new mh(e,this.properties)}createServiceRecognizer(e,t,r,n){return new Cf(e,t,r,n,this)}}function Af(e,t,r){try{return t.mode===Hr.AZURE?(console.log("AzureSpeechRecognizer"),new _f(t.azureSubscriptionKey,t.azureRegion,r)):t.mode===Hr.WEB_SPEECH?(console.log("WebSpeechRecognizer"),new If(e,r)):new Nf}catch(lm){return console.log("Error: using NopSpeechRecognizer"),new Nf}}var If=function(){function e(t,r){var n=this;Tn(this,e),wr(this,"onerror",void 0),wr(this,"onresult",void 0),wr(this,"onspeechend",void 0),wr(this,"recognition",void 0),this.onerror=function(){},this.onresult=function(){},this.onspeechend=function(){};var i=t.speechRecognition||t.webkitSpeechRecognition;this.recognition=new i,this.recognition.lang=r,this.recognition.interimResults=!0,this.recognition.maxAlternatives=1,this.recognition.onresult=function(e){var t=e.results[0][0].transcript;n.onresult(t,e.results[0].isFinal)},this.recognition.onspeechend=function(){n.recognition.stop(),n.onspeechend()},this.recognition.onerror=function(e){n.onerror()}}return Mn(e,[{key:"start",value:function(){this.recognition.start()}},{key:"stop",value:function(){this.recognition.stop()}},{key:"enabled",value:function(){return!0}}]),e}(),_f=function(){function e(t,r,n){Tn(this,e),wr(this,"onerror",void 0),wr(this,"onresult",void 0),wr(this,"onspeechend",void 0),wr(this,"recognizer",void 0),this.onerror=function(){},this.onresult=function(){},this.onspeechend=function(){};var i=ph.fromSubscription(t,r);i.speechRecognitionLanguage=n;var o=Jd.fromDefaultMicrophoneInput();this.recognizer=new Mf(i,o)}return Mn(e,[{key:"start",value:function(){var e=this.onresult,t=this.onerror,r=this.onspeechend,n=this.recognizer;try{n.recognized=function(t,r){console.log("================ final result ================="),void 0!==r.result.text&&e(r.result.text,!0)},n.recognizing=function(t,r){console.log("================ interim result ================="),void 0!==r.result.text&&e(r.result.text,!1)},n.recognizeOnceAsync((function(e){console.log("================ recognizeOnceAsync callback ================="),r(),n.close()}),(function(e){console.log("================ recognizeOnceAsync error ================="),console.log(e),t(),r(),n.close()}))}catch(lm){console.log("caught exception in recognizer.recognizeOnceAsync()")}}},{key:"stop",value:function(){}},{key:"enabled",value:function(){return!0}}]),e}(),Nf=function(){function e(){Tn(this,e),wr(this,"onerror",void 0),wr(this,"onresult",void 0),wr(this,"onspeechend",void 0),this.onerror=function(){},this.onresult=function(){},this.onspeechend=function(){}}return Mn(e,[{key:"start",value:function(){}},{key:"stop",value:function(){}},{key:"enabled",value:function(){return!1}}]),e}(),Df=s.a.createElement;function Ff(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(lm){return!1}}();return function(){var r,n=Fn(e);if(t){var i=Fn(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Dn(this,r)}}var jf=function(e){In(r,e);var t=Ff(r);function r(e){var n;return Tn(this,r),wr(Nn(n=t.call(this,e)),"recognizer",void 0),wr(Nn(n),"input",void 0),wr(Nn(n),"historyIndex",0),wr(Nn(n),"newText",void 0),wr(Nn(n),"startRecognition",(function(){n.props.application.isRecording||(console.log("startRecognition"),n.props.recording(!0),n.recognizer.onresult=function(e,t){console.log('Transcription: "'.concat(e,'"')),n.props.transcriptionReady($r.MICROPHONE,e,t)},n.recognizer.onspeechend=function(){n.props.recording(!1),n.recognizer.stop()},n.recognizer.onerror=function(){n.props.recording(!1)},n.recognizer.start())})),wr(Nn(n),"endRecognition",(function(){console.log("endRecognition"),n.props.recording(!1),n.recognizer.stop()})),wr(Nn(n),"onKeyDown",(function(e){var t=n.input.current,r=n.props.application.history;if("Enter"===e.key)console.log("submitText"),n.props.transcriptionReady($r.KEYBOARD,n.input.current.value,!0),t.value="",n.historyIndex=0,e.preventDefault();else if("ArrowUp"===e.key)if(n.historyIndex<r.length){0===n.historyIndex&&(n.newText=t.value),++n.historyIndex;var i=r[r.length-n.historyIndex].text;t.value=i,Bf(t,i.length),e.preventDefault()}else e.preventDefault();else if("ArrowDown"===e.key){var o=n.props.application.history;if(n.historyIndex>1){--n.historyIndex;var s=o[o.length-n.historyIndex].text;t.value=s,Bf(t,s.length),e.preventDefault()}else n.historyIndex=0,t.value=n.newText,Bf(t,n.newText.length),e.preventDefault()}})),n.input=s.a.createRef(),n}return Mn(r,[{key:"componentDidMount",value:function(){var e=rn(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("record-control: componentDidMount"),this.recognizer=Af(window,this.props.application.speechConfig,this.props.application.language);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){console.log("record-control: componentDidUpdate"),this.recognizer=Af(window,this.props.application.speechConfig,this.props.application.language)}},{key:"render",value:function(){var e=this.props.application.speechConfig.mode===Hr.TEXT?"Recording disabled. To enable, select either Azure Speech or Google Speech from dropdown at top window.":"Start recording";return Df("div",{className:Fo.a.recorder},Df("div",{className:Fo.a.recorderInput},Df(_o,{className:"btn btn-success btn-sm",disabled:this.props.application.speechConfig.mode===Hr.TEXT||this.props.application.isRecording,onClick:this.startRecognition,title:e},Df(No.g,null),"Start Recording"),Df(_o,{className:"btn btn-danger btn-sm",disabled:this.props.application.speechConfig.mode===Hr.TEXT||!this.props.application.isRecording,onClick:this.endRecognition},Df(No.h,null),"Stop Recording"),Df("input",{style:{flexGrow:1,marginLeft:"2em"},type:"text",placeholder:"enter text",ref:this.input,onKeyDown:this.onKeyDown})),Df("div",null,Df("b",null,"Transcription: "),Df("i",null,this.props.application.transcription)))}}]),r}(s.a.Component);function Bf(e,t){e.focus(),e.setSelectionRange(t,t),e.selectionStart=t,e.selectionEnd=t}var zf=X((function(e){return{application:e}}),(function(e){return{recording:function(t){e(function(e){return{type:dr.RECORD,isRecording:e}}(t))},transcriptionReady:function(t,r,n){e(function(e,t,r){return{source:e,type:dr.PROCESS,text:t,final:r}}(t,r,n))}}}))(jf),qf=s.a.createElement;function Lf(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(lm){return!1}}();return function(){var r,n=Fn(e);if(t){var i=Fn(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Dn(this,r)}}var Wf=function(e){In(r,e);var t=Lf(r);function r(){return Tn(this,r),t.apply(this,arguments)}return Mn(r,[{key:"render",value:function(){var e=this.props.application.speechConfig,t=e.mode,r=t===Hr.AZURE?"Azure Speech":t===Hr.WEB_SPEECH?"Google Speech":"Text",n=!(!e.azureRegion||!e.azureSubscriptionKey),i=e.speechSupport;return console.log("Azure: ".concat(n,", WebSpeech: ").concat(i)),qf(jc,null,qf(jc.Toggle,{variant:"light",id:"dropdown-basic"},qf(No.g,{style:{width:"1.2em",height:"1.2em",paddingRight:"4px"}}),r),qf(jc.Menu,null,qf(jc.Item,{disabled:!n,onSelect:this.props.setAzure},"Azure Speech"),qf(jc.Item,{disabled:!i,onSelect:this.props.setWebSpeech},"Google Speech"),qf(jc.Item,{onSelect:this.props.setText},"Text")))}}]),r}(s.a.Component);var Uf=X((function(e){return{application:e}}),(function(e){return{setAzure:function(){e(yr({mode:Hr.AZURE}))},setText:function(){e(yr({mode:Hr.TEXT}))},setWebSpeech:function(){e(yr({mode:Hr.WEB_SPEECH}))}}}))(Wf),$f=s.a.createElement;function Kf(e,t){return t.map((function(t){var r=e.getSpecific(t.key);return $f("div",{className:Fo.a.cartItem,key:t.uid},"".concat(t.quantity," ").concat(r.name," (").concat(r.sku,")"),Kf(e,t.children))}))}var Hf=s.a.createElement;function Gf(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(lm){return!1}}();return function(){var r,n=Fn(e);if(t){var i=Fn(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Dn(this,r)}}var Vf=function(e){In(r,e);var t=Gf(r);function r(){return Tn(this,r),t.apply(this,arguments)}return Mn(r,[{key:"render",value:function(){if(this.props.testResults&&0!==this.props.testResults.size){var e=Or(this.props.testResults.values());return this.props.selected||this.props.onDetail(e[0].id.toString()),e.map((function(e,t){var r=e.id.toString(),n=e.repairs,i=e.passed?Hf(No.b,{style:{color:"green"}}):Hf(No.o,{style:{color:"red"}});return Hf(Mi.Item,{key:r,style:{paddingTop:"0",paddingBottom:"0"}},Hf(Mi.Link,{className:e.passed?"green":"red",style:{whiteSpace:"nowrap",paddingTop:"0",paddingBottom:"0"},eventKey:r},i," ",r," (repairs=",n,")"))}))}return null}}],[{key:"connect",value:function(){return X((function(e){return{testResults:e.bluePlateWorld.testResults}}))(r)}}]),r}(s.a.Component),Yf=function(e){In(r,e);var t=Gf(r);function r(){return Tn(this,r),t.apply(this,arguments)}return Mn(r,[{key:"render",value:function(){if(void 0===this.props.selected)return Hf("h1",null,"No tests available");var e=this.props.testResults.get(Number(this.props.selected));return e?Hf("div",{style:{display:"flex",flexDirection:"column",width:"100%",height:"100%"}},Hf("h1",null,"Test ",this.props.selected),Hf("div",{style:{flexGrow:1,overflow:"auto"}},Hf("div",null,e.expected.comment),Hf("div",null,Hf("b",null,"Suites:")," ",e.expected.suites),this.renderSteps(e))):Hf("h1",null,"No tests available")}},{key:"renderSteps",value:function(e){for(var t=[],r=0;r<e.expected.steps.length;++r)t.push(this.renderOneStep(e,r));return t}},{key:"renderOneStep",value:function(e,t){var r=this,n=e.scored.steps[t],i=Object(xr.cartFromlogicalCart)(e.expected.steps[t].cart,this.props.catalog),o=Object(xr.cartFromlogicalCart)(n.cart,this.props.catalog),s=n.measures;return Hf("div",{key:t},Hf("div",{style:{marginTop:"2ex"}},Hf("b",null,"Step ",t,":")," \xa0",n.measures.repairs.cost>0?Hf("span",{style:{backgroundColor:"red",color:"yellow"}},"Failed"):Hf("span",{style:{backgroundColor:"forestgreen",color:"yellow"}},"Passed")),n.turns.map((function(e,n){return Hf("div",{key:n},Hf("b",null,e.speaker,":")," ",Hf("i",null,'"',e.transcription,'"'),r.renderDrilldownButton(t,n))})),Hf("div",{style:{display:"flex",flexDirection:"row"}},Hf("div",{style:{backgroundColor:"lightblue",marginRight:"1em"}},Hf("b",null,"Expected"),Kf(this.props.catalog,i.items)),Hf("div",{style:{backgroundColor:"lightblue",marginRight:"1em"}},Hf("b",null,"Observed"),Kf(this.props.catalog,o.items)),this.renderRepairs(s)))}},{key:"renderDrilldownButton",value:function(e,t){return Hf(Mi.Item,{style:{display:"inline",paddingTop:"0",paddingBottom:"0"}},Hf(Mi.Link,{style:{display:"inline",whiteSpace:"nowrap",padding:"0px 4px"},eventKey:this.props.selected+"/"+e+"/"+t},Hf(No.i,{style:{color:"blue",marginLeft:"4px"}})))}},{key:"renderRepairs",value:function(e){return 0===e.repairs.cost?null:Hf("div",{style:{backgroundColor:"lightblue"}},Hf("b",null,"Repairs"),e.repairs.steps.map((function(e,t){return Hf("div",{key:t,style:{whiteSpace:"nowrap"}},e)})))}}],[{key:"connect",value:function(){return X((function(e){return{catalog:e.bluePlateWorld.prixFixeWorld.catalog,testResults:e.bluePlateWorld.testResults}}))(r)}}]),r}(s.a.Component),Qf=function(e){In(r,e);var t=Gf(r);function r(){return Tn(this,r),t.apply(this,arguments)}return Mn(r,[{key:"render",value:function(){if(!this.props.selected)return null;var e=this.props.selected.split("/"),t=Number(e[0]),r=Number(e[1]),n=Number(e[2]);console.log(this.props.testResults);var i=this.props.testResults.get(t),o=i.expected.steps[r].turns[n].transcription,s=r>0?i.expected.steps[r-1].cart:{items:[]},a=Object(xr.cartFromlogicalCart)(s,this.props.catalog);return Hf("div",{style:{display:"flex",flexDirection:"column",width:"100%",height:"100%"}},Hf("div",null,Hf(yp,null)),Hf("div",{style:{flexGrow:1,overflow:"auto",width:"100%",height:"100%"}},Hf(Ps,{cart:a,key:o,transcription:o})))}}],[{key:"connect",value:function(){return X((function(e){return{catalog:e.bluePlateWorld.prixFixeWorld.catalog,testResults:e.bluePlateWorld.testResults}}))(r)}}]),r}(s.a.Component),Zf=gp(Vf.connect(),Yf.connect(),Qf.connect()),Jf=s.a.createElement;function Xf(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(lm){return!1}}();return function(){var r,n=Fn(e);if(t){var i=Fn(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Dn(this,r)}}var em=function(e){In(r,e);var t=Xf(r);function r(){return Tn(this,r),t.apply(this,arguments)}return Mn(r,[{key:"render",value:function(){return this.props.application.bluePlateWorld?Jf("div",{className:Fo.a.frame},Jf("div",null,Jf(Ao,{split:"horizontal",minSize:100,defaultSize:600},Jf("div",{className:Fo.a.frameUpperPanel},this.renderTabs()),Jf("div",{className:Fo.a.frameLowerPanel},Jf(zf,null),Jf(qo,null)))),Jf(Ko,null)):Jf(Tp,null)}},{key:"renderTabs",value:function(){return Jf("div",{style:{display:"flex",flexDirection:"column",width:"100%",height:"100%"}},Jf(po.Container,{id:"left-tabs-example",defaultActiveKey:"info",mountOnEnter:!0,unmountOnExit:!0},Jf(Mi,{variant:"tabs",className:"flex-row"},Jf(Mi.Item,null,Jf(Mi.Link,{eventKey:"info"},"Info")),Jf(Mi.Item,null,Jf(Mi.Link,{eventKey:"menu"},"Menu")),Jf(Mi.Item,null,Jf(Mi.Link,{eventKey:"lexicon"},"Lexicon")),Jf(Mi.Item,null,Jf(Mi.Link,{eventKey:"postings"},"Postings")),Jf(Mi.Item,null,Jf(Mi.Link,{eventKey:"graph"},"Graph")),Jf(Mi.Item,null,Jf(Mi.Link,{eventKey:"tests"},"Tests")),Jf(Mi.Item,null,Jf(Mi.Link,{eventKey:"history"},"History")),Jf("div",{style:{flexGrow:1}}),Jf(Uf,null),Jf(fp,null),Jf(fl,null)),Jf("div",{style:{flexGrow:1,overflow:"hidden"}},Jf(po.Content,{className:Fo.a.frameTab},Jf(po.Pane,{eventKey:"info",style:{height:"100%"}},Jf(lp,null)),Jf(po.Pane,{eventKey:"menu",style:{height:"100%"}},Jf(Lp,null)),Jf(po.Pane,{eventKey:"lexicon",style:{height:"100%",overflow:"auto"}},Jf(xp,null)),Jf(po.Pane,{eventKey:"postings",style:{height:"100%",overflow:"auto"}},Jf(Yp,null)),Jf(po.Pane,{eventKey:"graph",style:{height:"100%",overflow:"auto"}},Jf(Is,null)),Jf(po.Pane,{eventKey:"history",style:{height:"100%",overflow:"auto"}},Jf(Vl,{history:this.props.application.history})),Jf(po.Pane,{eventKey:"tests",style:{height:"100%",overflow:"auto"}},Jf(Zf,null))))))}}]),r}(s.a.Component);var tm=X((function(e){return{application:e}}),(function(e){return{speechSupported:function(t){e(br(t))}}}))(em),rm=s.a.createElement,nm=i.a.mark(cm),im=ar(),om=Jr(),sm=function e(t,r,n){var i;if("function"===typeof r&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error("It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function.");if("function"===typeof r&&"undefined"===typeof n&&(n=r,r=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error("Expected the enhancer to be a function.");return n(e)(t,r)}if("function"!==typeof t)throw new Error("Expected the reducer to be a function.");var o=t,s=r,a=[],c=a,u=!1;function l(){c===a&&(c=a.slice())}function p(){if(u)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return s}function h(e){if("function"!==typeof e)throw new Error("Expected the listener to be a function.");if(u)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribelistener for more details.");var t=!0;return l(),c.push(e),function(){if(t){if(u)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribelistener for more details.");t=!1,l();var r=c.indexOf(e);c.splice(r,1),a=null}}}function d(e){if(!N(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if("undefined"===typeof e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(u)throw new Error("Reducers may not dispatch actions.");try{u=!0,s=o(s,e)}finally{u=!1}for(var t=a=c,r=0;r<t.length;r++){(0,t[r])()}return e}return d({type:_.INIT}),(i={dispatch:d,subscribe:h,getState:p,replaceReducer:function(e){if("function"!==typeof e)throw new Error("Expected the nextReducer to be a function.");o=e,d({type:_.REPLACE})}})[A.a]=function(){var e,t=h;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new TypeError("Expected the observer to be an object.");function r(){e.next&&e.next(p())}return r(),{unsubscribe:t(r)}}})[A.a]=function(){return this},e},i}((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jr(),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case dr.APPEND_HISTORY:return Rr(e,t);case dr.CLEAR_CART:return Mr(e,t);case dr.CLEAR_HISTORY:return Ar(e,t);case dr.PROCESS:return Ir(e,t);case dr.RECORD:return _r(e,t);case dr.RESET:return Nr(e,t);case dr.SET_CART:return Dr(e,t);case dr.SET_MODE:return Fr(e,t);case dr.SET_SPEECH_CONFIG:return jr(e,t);case dr.SET_SPEECH_SUPPORT:return Br(e,t);case dr.SET_WORLD:return zr(e,t);case dr.UNDO:return qr(e,t);case dr.UPDATE_HISTORY_ITEM:return Lr(e,t);default:return e}}),om,function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return function(){var r=e.apply(void 0,arguments),n=function(){throw new Error("Dispatching while constructing your middleware is not allowed. Other middleware would not be applied to this dispatch.")},i={getState:r.getState,dispatch:function(){return n.apply(void 0,arguments)}},o=t.map((function(e){return e(i)}));return B({},r,{dispatch:n=z.apply(void 0,o)(r.dispatch)})}}}(im)),am=om.speechConfig;function cm(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fr(dr.LOAD_WORLD,xn);case 2:return e.next=4,fr(dr.PROCESS,Pn);case 4:case"end":return e.stop()}}),nm)}function um(){return rm(f,{store:sm},rm(tm,null))}sm.subscribe((function(){var e=sm.getState().speechConfig;e!==am&&function(e){console.log("Saving speech config"),console.log("  Speech supported: ".concat(e.speechSupport)),console.log("  Mode: ".concat(e.mode)),console.log("  Azure Subscription Key: ".concat(e.azureSubscriptionKey)),console.log("  Azure Region: ".concat(e.azureRegion)),localStorage.setItem("speechConfig",JSON.stringify(e))}(am=e)})),im.run(cm),sm.dispatch(vr("en-US")),sm.dispatch({type:dr.CHROME_DETECT})},"23qp":function(e,t,r){"use strict";function n(e){const t=[];for(const r of e.items)t.push(...i(r));return t}function*i(e){yield e;for(const t of e.children)yield*i(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.cartIsPerfect=function(e,t){const r=n(e),i=n(t);if(r.length!==i.length)return!1;for(let n=0;n<r.length;++n)if(r[n].quantity!==i[n].quantity||r[n].sku!==i[n].sku)return!1;return!0}},"2Ezu":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("ibpa");class i{constructor(){this.mapGeneric=new Map,this.mapSpecific=new Map,this.nameToKey=new Map,this.pidToKeys=new Map,this.skuToKey=new Map}static fromEntities(e,t){const r=new i;return r.mergeItems(e,t),r}static fromCatalog(e){const t=new i;return t.merge(e),t}merge(e){this.mergeItems(e.mapGeneric.values(),e.mapSpecific.values())}mergeItems(e,t){for(const r of e){if(this.mapGeneric.has(r.pid))throw TypeError(`Catalog: encountered duplicate pid ${r.pid}.`);this.mapGeneric.set(r.pid,r)}for(const r of t){if(this.mapSpecific.has(r.key))throw TypeError(`Catalog: encountered duplicate key ${r.key}.`);this.mapSpecific.set(r.key,r);const e=n.AttributeInfo.pidFromKey(r.key),t=this.pidToKeys.get(e);if(void 0===t?this.pidToKeys.set(e,[r.key]):t.push(r.key),this.skuToKey.has(r.sku))throw TypeError(`Catalog: encountered duplicate sku ${r.sku}.`);if(this.skuToKey.set(r.sku,r.key),this.nameToKey.has(r.name))throw TypeError(`Catalog: encountered duplicate name "${r.name}".`);this.nameToKey.set(r.name,r.key)}}hasPID(e){return this.mapGeneric.has(e)}hasSKU(e){return this.skuToKey.has(e)}getGeneric(e){const t=this.mapGeneric.get(e);if(!t)throw TypeError(`Catalog.get(): cannot find pid=${e}`);return t}getGenericForKey(e){const t=n.AttributeInfo.pidFromKey(e);return this.getGeneric(t)}getGenericMap(){return this.mapGeneric}genericEntities(){return this.mapGeneric.values()}hasKey(e){return this.mapSpecific.has(e)}getKeyForSku(e){const t=this.skuToKey.get(e);if(!t)throw TypeError(`Catalog.get(): cannot find sku=${e}`);return t}getSpecific(e){const t=this.mapSpecific.get(e);if(!t)throw TypeError(`Catalog.get(): cannot find key=${e}`);return t}getSpecificFromName(e){const t=this.nameToKey.get(e);if(t)return this.getSpecific(t);throw TypeError(`Catalog.getSpecificFromName: unknown name "${e}".`)}getSpecificFromSKU(e){const t=this.skuToKey.get(Number(e));if(t)return this.getSpecific(t);throw TypeError(`Catalog.getSpecificFromSKU: unknown sku ${e}.`)}getSpecificsForGeneric(e){if(this.pidToKeys.has(e))return this.pidToKeys.get(e).values();throw TypeError(`Catalog.getSpecificsForGeneric: unknown pid ${e}.`)}specificEntities(){return this.mapSpecific.values()}}t.Catalog=i},"2W6z":function(e,t,r){"use strict";var n=function(){};e.exports=n},"2YgE":function(e,t,r){"use strict";var n=r("3lC6");e.exports=new n({explicit:[r("LFvy"),r("vQl5"),r("Ljib")]})},"2iv5":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("ibpa"),i=r("N5Ak"),o=r("ZBqM"),s=r("jSmD");t.RuleChecker=class{constructor(e,t){this.tensorWalker=(e,t)=>{const r=[],n=e.split(":");let i=n.shift(),o=i;for(;i;){const e=t[o];e&&r.push(e),i=n.shift(),o=`${o}:${i}`}return r},this.isValidChild=(e,t)=>{return this.tensorWalker(e,this.childTensor).map(e=>e(t)).reduce((e,t)=>e||t,!1)},this.getQuantityInfo=(e,t)=>{const r=this.quantityTensor[e];if(r){const e=r(t,"");if(e)return e}const n=e.split(":"),i=e.split(":").reverse();for(let o=i.length-1;o>0;o--){const e=n.slice(0,o).join(":"),r=i.shift(),s=this.quantityTensor[e];if(s){if(s(t,r))return s(t,r);if(s(t,""))return s(t,"")}}},this.getDefaultQuantity=(e,t)=>{const r=this.getQuantityInfo(e,t);return r?r.defaultQty:-1},this.isValidQuantity=(e,t,r)=>{const n=this.getQuantityInfo(e,t);if(n){return r>=n.minQty&&r<=n.maxQty}return!1},this.childTensor=i.childTensorFactory(e,t),this.validChildren=i.validChildrenFactory(e,t),this.mutualTensor=o.mutualExclusionTensorFactory(e,t),this.quantityTensor=s.quantityTensorFactory(e,t)}getValidChildren(e){const t=new Set,r=e.split(":");let n=r.shift(),i=n;for(;n;){const e=this.validChildren.get(i);if(void 0!==e)for(const r of e)t.add(r);n=r.shift(),i=`${i}:${n}`}return t}getPairwiseMutualExclusionPredicate(e,t){const r=this.tensorWalker(e,this.mutualTensor),i=new Set,o=n.AttributeInfo.pidFromKey(t).toString();for(const n of r){const e=n(o);e>-1&&i.add(e)}return e=>{const t=n.AttributeInfo.pidFromKey(e).toString();if(t===o)return!1;for(const n of r){const e=n(t);if(e>-1&&i.has(e))return!1}return!0}}getIncrementalMutualExclusionPredicate(e){const t=this.tensorWalker(e,this.mutualTensor),r=new Set,i=new Set;return e=>{if(i.has(e))return!1;i.add(e);const o=n.AttributeInfo.pidFromKey(e).toString(),s=new Set;for(const n of t){const e=n(o);if(e>-1){if(r.has(e))return!1;s.add(e)}}for(const t of s.values())r.add(t);return!0}}getExclusionGroups(e){return[]}getUnits(e){throw new Error("Method not implemented.")}}},"2jsQ":function(e,t,r){"use strict";e.exports=function(e,t,r){var n,i=" ",o=e.level,s=e.dataLevel,a=e.schema[t],c=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,p="data"+(s||""),h=e.opts.$data&&a&&a.$data;h?(i+=" var schema"+o+" = "+e.util.getData(a.$data,s,e.dataPathArr)+"; ",n="schema"+o):n=a,i+="if ( ",h&&(i+=" ("+n+" !== undefined && typeof "+n+" != 'number') || "),i+=" "+p+".length "+("maxItems"==t?">":"<")+" "+n+") { ";var d=t,f=f||[];f.push(i),i="",!1!==e.createErrors?(i+=" { keyword: '"+(d||"_limitItems")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { limit: "+n+" } ",!1!==e.opts.messages&&(i+=" , message: 'should NOT have ",i+="maxItems"==t?"more":"fewer",i+=" than ",i+=h?"' + "+n+" + '":""+a,i+=" items' "),e.opts.verbose&&(i+=" , schema:  ",i+=h?"validate.schema"+c:""+a,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+p+" "),i+=" } "):i+=" {} ";var m=i;return i=f.pop(),!e.compositeRule&&l?e.async?i+=" throw new ValidationError(["+m+"]); ":i+=" validate.errors = ["+m+"]; return false; ":i+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",l&&(i+=" else { "),i}},"2mql":function(e,t,r){"use strict";var n=r("TOwV"),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};function c(e){return n.isMemo(e)?s:a[e.$$typeof]||i}a[n.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a[n.Memo]=s;var u=Object.defineProperty,l=Object.getOwnPropertyNames,p=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,f=Object.prototype;e.exports=function e(t,r,n){if("string"!==typeof r){if(f){var i=d(r);i&&i!==f&&e(t,i,n)}var s=l(r);p&&(s=s.concat(p(r)));for(var a=c(t),m=c(r),v=0;v<s.length;++v){var g=s[v];if(!o[g]&&(!n||!n[g])&&(!m||!m[g])&&(!a||!a[g])){var y=h(r,g);try{u(t,g,y)}catch(b){}}}}return t}},"2yk8":function(e,t,r){"use strict";var n=r("IPAr"),i=r("ZWk2"),o=r("afWh");e.exports=h,h.locator=o,h.notInLink=!0;var s="<",a=">",c="@",u="/",l="mailto:",p=l.length;function h(e,t,r){var o,h,d,f,m,v,g,y,b,S,w;if(t.charAt(0)===s){for(this,o="",h=t.length,d=0,f="",v=!1,g="",d++,o=s;d<h&&(m=t.charAt(d),!(n(m)||m===a||m===c||":"===m&&t.charAt(d+1)===u));)f+=m,d++;if(f){if(g+=f,f="",g+=m=t.charAt(d),d++,m===c)v=!0;else{if(":"!==m||t.charAt(d+1)!==u)return;g+=u,d++}for(;d<h&&(m=t.charAt(d),!n(m)&&m!==a);)f+=m,d++;if(m=t.charAt(d),f&&m===a)return!!r||(b=g+=f,o+=g+m,(y=e.now()).column++,y.offset++,v&&(g.slice(0,p).toLowerCase()===l?(b=b.substr(p),y.column+=p,y.offset+=p):g=l+g),S=this.inlineTokenizers,this.inlineTokenizers={text:S.text},w=this.enterLink(),b=this.tokenizeInline(b,y),this.inlineTokenizers=S,w(),e(o)({type:"link",title:null,url:i(g,{nonTerminated:!1}),children:b}))}}}},3:function(e,t){},"3/+R":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.DynamicGraph2=class{constructor(e){this.edgeLists=e}}},"33yf":function(e,t,r){(function(e){function r(e,t){for(var r=0,n=e.length-1;n>=0;n--){var i=e[n];"."===i?e.splice(n,1):".."===i?(e.splice(n,1),r++):r&&(e.splice(n,1),r--)}if(t)for(;r--;r)e.unshift("..");return e}function n(e,t){if(e.filter)return e.filter(t);for(var r=[],n=0;n<e.length;n++)t(e[n],n,e)&&r.push(e[n]);return r}t.resolve=function(){for(var t="",i=!1,o=arguments.length-1;o>=-1&&!i;o--){var s=o>=0?arguments[o]:e.cwd();if("string"!==typeof s)throw new TypeError("Arguments to path.resolve must be strings");s&&(t=s+"/"+t,i="/"===s.charAt(0))}return(i?"/":"")+(t=r(n(t.split("/"),(function(e){return!!e})),!i).join("/"))||"."},t.normalize=function(e){var o=t.isAbsolute(e),s="/"===i(e,-1);return(e=r(n(e.split("/"),(function(e){return!!e})),!o).join("/"))||o||(e="."),e&&s&&(e+="/"),(o?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(n(e,(function(e,t){if("string"!==typeof e)throw new TypeError("Arguments to path.join must be strings");return e})).join("/"))},t.relative=function(e,r){function n(e){for(var t=0;t<e.length&&""===e[t];t++);for(var r=e.length-1;r>=0&&""===e[r];r--);return t>r?[]:e.slice(t,r-t+1)}e=t.resolve(e).substr(1),r=t.resolve(r).substr(1);for(var i=n(e.split("/")),o=n(r.split("/")),s=Math.min(i.length,o.length),a=s,c=0;c<s;c++)if(i[c]!==o[c]){a=c;break}var u=[];for(c=a;c<i.length;c++)u.push("..");return(u=u.concat(o.slice(a))).join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){if("string"!==typeof e&&(e+=""),0===e.length)return".";for(var t=e.charCodeAt(0),r=47===t,n=-1,i=!0,o=e.length-1;o>=1;--o)if(47===(t=e.charCodeAt(o))){if(!i){n=o;break}}else i=!1;return-1===n?r?"/":".":r&&1===n?"/":e.slice(0,n)},t.basename=function(e,t){var r=function(e){"string"!==typeof e&&(e+="");var t,r=0,n=-1,i=!0;for(t=e.length-1;t>=0;--t)if(47===e.charCodeAt(t)){if(!i){r=t+1;break}}else-1===n&&(i=!1,n=t+1);return-1===n?"":e.slice(r,n)}(e);return t&&r.substr(-1*t.length)===t&&(r=r.substr(0,r.length-t.length)),r},t.extname=function(e){"string"!==typeof e&&(e+="");for(var t=-1,r=0,n=-1,i=!0,o=0,s=e.length-1;s>=0;--s){var a=e.charCodeAt(s);if(47!==a)-1===n&&(i=!1,n=s+1),46===a?-1===t?t=s:1!==o&&(o=1):-1!==t&&(o=-1);else if(!i){r=s+1;break}}return-1===t||-1===n||0===o||1===o&&t===n-1&&t===r+1?"":e.slice(t,n)};var i="b"==="ab".substr(-1)?function(e,t,r){return e.substr(t,r)}:function(e,t,r){return t<0&&(t=e.length+t),e.substr(t,r)}}).call(this,r("8oxB"))},"3B9R":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r("hpib"))},"3GlI":function(e,t,r){"use strict";e.exports=function(e){var t=String(e),r=t.length;for(;t.charAt(--r)===n;);return t.slice(0,r+1)};var n="\n"},"3JDX":function(e,t,r){e.exports=function(e){function t(e){let t=0;for(let r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r),t|=0;return n.colors[Math.abs(t)%n.colors.length]}function n(e){let r;function s(...e){if(!s.enabled)return;const t=s,i=Number(new Date),o=i-(r||i);t.diff=o,t.prev=r,t.curr=i,r=i,e[0]=n.coerce(e[0]),"string"!==typeof e[0]&&e.unshift("%O");let a=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(r,i)=>{if("%%"===r)return r;a++;const o=n.formatters[i];if("function"===typeof o){const n=e[a];r=o.call(t,n),e.splice(a,1),a--}return r}),n.formatArgs.call(t,e),(t.log||n.log).apply(t,e)}return s.namespace=e,s.enabled=n.enabled(e),s.useColors=n.useColors(),s.color=t(e),s.destroy=i,s.extend=o,"function"===typeof n.init&&n.init(s),n.instances.push(s),s}function i(){const e=n.instances.indexOf(this);return-1!==e&&(n.instances.splice(e,1),!0)}function o(e,t){const r=n(this.namespace+("undefined"===typeof t?":":t)+e);return r.log=this.log,r}function s(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return n.debug=n,n.default=n,n.coerce=function(e){if(e instanceof Error)return e.stack||e.message;return e},n.disable=function(){const e=[...n.names.map(s),...n.skips.map(s).map(e=>"-"+e)].join(",");return n.enable(""),e},n.enable=function(e){let t;n.save(e),n.names=[],n.skips=[];const r=("string"===typeof e?e:"").split(/[\s,]+/),i=r.length;for(t=0;t<i;t++)r[t]&&("-"===(e=r[t].replace(/\*/g,".*?"))[0]?n.skips.push(new RegExp("^"+e.substr(1)+"$")):n.names.push(new RegExp("^"+e+"$")));for(t=0;t<n.instances.length;t++){const e=n.instances[t];e.enabled=n.enabled(e.namespace)}},n.enabled=function(e){if("*"===e[e.length-1])return!0;let t,r;for(t=0,r=n.skips.length;t<r;t++)if(n.skips[t].test(e))return!1;for(t=0,r=n.names.length;t<r;t++)if(n.names[t].test(e))return!0;return!1},n.humanize=r("FGiv"),Object.keys(e).forEach(t=>{n[t]=e[t]}),n.instances=[],n.names=[],n.skips=[],n.formatters={},n.selectColor=t,n.enable(n.load()),n}},"3UD+":function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},"3ZNU":function(e,t,r){"use strict";e.exports=function(e,t,r){var n=" ",i=e.level,o=e.dataLevel,s=e.schema[t],a=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,l="data"+(o||""),p="valid"+i,h="errs__"+i,d=e.util.copy(e);d.level++;var f="valid"+d.level,m=e.schema.then,v=e.schema.else,g=void 0!==m&&(e.opts.strictKeywords?"object"==typeof m&&Object.keys(m).length>0:e.util.schemaHasRules(m,e.RULES.all)),y=void 0!==v&&(e.opts.strictKeywords?"object"==typeof v&&Object.keys(v).length>0:e.util.schemaHasRules(v,e.RULES.all)),b=d.baseId;if(g||y){var S;d.createErrors=!1,d.schema=s,d.schemaPath=a,d.errSchemaPath=c,n+=" var "+h+" = errors; var "+p+" = true;  ";var w=e.compositeRule;e.compositeRule=d.compositeRule=!0,n+="  "+e.validate(d)+" ",d.baseId=b,d.createErrors=!0,n+="  errors = "+h+"; if (vErrors !== null) { if ("+h+") vErrors.length = "+h+"; else vErrors = null; }  ",e.compositeRule=d.compositeRule=w,g?(n+=" if ("+f+") {  ",d.schema=e.schema.then,d.schemaPath=e.schemaPath+".then",d.errSchemaPath=e.errSchemaPath+"/then",n+="  "+e.validate(d)+" ",d.baseId=b,n+=" "+p+" = "+f+"; ",g&&y?n+=" var "+(S="ifClause"+i)+" = 'then'; ":S="'then'",n+=" } ",y&&(n+=" else { ")):n+=" if (!"+f+") { ",y&&(d.schema=e.schema.else,d.schemaPath=e.schemaPath+".else",d.errSchemaPath=e.errSchemaPath+"/else",n+="  "+e.validate(d)+" ",d.baseId=b,n+=" "+p+" = "+f+"; ",g&&y?n+=" var "+(S="ifClause"+i)+" = 'else'; ":S="'else'",n+=" } "),n+=" if (!"+p+") {   var err =   ",!1!==e.createErrors?(n+=" { keyword: 'if' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { failingKeyword: "+S+" } ",!1!==e.opts.messages&&(n+=" , message: 'should match \"' + "+S+" + '\" schema' "),e.opts.verbose&&(n+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&u&&(e.async?n+=" throw new ValidationError(vErrors); ":n+=" validate.errors = vErrors; return false; "),n+=" }   ",u&&(n+=" else { "),n=e.util.cleanUpCode(n)}else u&&(n+=" if (true) { ");return n}},"3cYt":function(e,t){e.exports=function(e){return function(t){return null==e?void 0:e[t]}}},"3lC6":function(e,t,r){"use strict";var n=r("Y2Yi"),i=r("w+qe"),o=r("hyoZ");function s(e,t,r){var n=[];return e.include.forEach((function(e){r=s(e,t,r)})),e[t].forEach((function(e){r.forEach((function(t,r){t.tag===e.tag&&t.kind===e.kind&&n.push(r)})),r.push(e)})),r.filter((function(e,t){return-1===n.indexOf(t)}))}function a(e){this.include=e.include||[],this.implicit=e.implicit||[],this.explicit=e.explicit||[],this.implicit.forEach((function(e){if(e.loadKind&&"scalar"!==e.loadKind)throw new i("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.")})),this.compiledImplicit=s(this,"implicit",[]),this.compiledExplicit=s(this,"explicit",[]),this.compiledTypeMap=function(){var e,t,r={scalar:{},sequence:{},mapping:{},fallback:{}};function n(e){r[e.kind][e.tag]=r.fallback[e.tag]=e}for(e=0,t=arguments.length;e<t;e+=1)arguments[e].forEach(n);return r}(this.compiledImplicit,this.compiledExplicit)}a.DEFAULT=null,a.create=function(){var e,t;switch(arguments.length){case 1:e=a.DEFAULT,t=arguments[0];break;case 2:e=arguments[0],t=arguments[1];break;default:throw new i("Wrong number of arguments for Schema.create function")}if(e=n.toArray(e),t=n.toArray(t),!e.every((function(e){return e instanceof a})))throw new i("Specified list of super schemas (or a single Schema object) contains a non-Schema object.");if(!t.every((function(e){return e instanceof o})))throw new i("Specified list of YAML types (or a single Type object) contains a non-Type object.");return new a({include:e,explicit:t})},e.exports=a},"3m36":function(e,t,r){"use strict";var n=r("U6jy"),i=r("q1tI"),o=parseInt((i.version||"16").slice(0,2),10)>=16,s=i.createElement;function a(e,t){return s(e,c(t),t.children)}function c(e){return e["data-sourcepos"]?{"data-sourcepos":e["data-sourcepos"]}:{}}e.exports={break:"br",paragraph:"p",emphasis:"em",strong:"strong",thematicBreak:"hr",blockquote:"blockquote",delete:"del",link:"a",image:"img",linkReference:"a",imageReference:"img",table:a.bind(null,"table"),tableHead:a.bind(null,"thead"),tableBody:a.bind(null,"tbody"),tableRow:a.bind(null,"tr"),tableCell:function(e){var t=e.align?{textAlign:e.align}:void 0,r=c(e);return s(e.isHeader?"th":"td",t?n({style:t},r):r,e.children)},root:function(e){var t=!e.className,r=t&&i.Fragment||"div";return s(r,t?null:e,e.children)},text:function(e){return o?e.children:s("span",null,e.children)},list:function(e){var t=c(e);null!==e.start&&1!==e.start&&void 0!==e.start&&(t.start=e.start.toString());return s(e.ordered?"ol":"ul",t,e.children)},listItem:function(e){var t=null;if(null!==e.checked&&void 0!==e.checked){var r=e.checked;t=s("input",{type:"checkbox",checked:r,readOnly:!0})}return s("li",c(e),t,e.children)},definition:function(){return null},heading:function(e){return s("h".concat(e.level),c(e),e.children)},inlineCode:function(e){return s("code",c(e),e.children)},code:function(e){var t=e.language&&"language-".concat(e.language),r=s("code",t?{className:t}:null,e.value);return s("pre",c(e),r)},html:function(e){if(e.skipHtml)return null;var t=e.isBlock?"div":"span";if(e.escapeHtml){var r=i.Fragment||t;return s(r,null,e.value)}var n={dangerouslySetInnerHTML:{__html:e.value}};return s(t,n)},virtualHtml:function(e){return s(e.tag,c(e),e.children)},parsedHtml:function(e){return e["data-sourcepos"]?i.cloneElement(e.element,{"data-sourcepos":e["data-sourcepos"]}):e.element}}},"48q5":function(e,t,r){"use strict";var n=r("33yf");e.exports=function(e,t){if("string"!==typeof e)return e;if(0===e.length)return e;var r=n.basename(e,n.extname(e))+t;return n.join(n.dirname(e),r)}},"497W":function(e,t,r){"use strict";var n=r("aTp6");e.exports=o,o.locator=n;var i=2;function o(e,t,r){for(var n,o=t.length,s=-1,a="";++s<o;){if("\n"===(n=t.charAt(s))){if(s<i)return;return!!r||e(a+=n)({type:"break"})}if(" "!==n)return;a+=n}}},"49sm":function(e,t){var r={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},"4M5b":function(e,t,r){"use strict";var n=r("hyoZ"),i=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),o=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");e.exports=new n("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:function(e){return null!==e&&(null!==i.exec(e)||null!==o.exec(e))},construct:function(e){var t,r,n,s,a,c,u,l,p=0,h=null;if(null===(t=i.exec(e))&&(t=o.exec(e)),null===t)throw new Error("Date resolve error");if(r=+t[1],n=+t[2]-1,s=+t[3],!t[4])return new Date(Date.UTC(r,n,s));if(a=+t[4],c=+t[5],u=+t[6],t[7]){for(p=t[7].slice(0,3);p.length<3;)p+="0";p=+p}return t[9]&&(h=6e4*(60*+t[10]+ +(t[11]||0)),"-"===t[9]&&(h=-h)),l=new Date(Date.UTC(r,n,s,a,c,u,p)),h&&l.setTime(l.getTime()-h),l},instanceOf:Date,represent:function(e){return e.toISOString()}})},"4MqD":function(e,t,r){"use strict";e.exports=function(e,t,r){return function(){var n=r||this,i=n[e];return n[e]=!t,function(){n[e]=i}}}},"4WQa":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("94Iq"),i=r("FG9h"),o=r("nNxe"),s=r("mzAn"),a=r("ySIl");function c(e,t,r,s,a,c){const l=new Set;for(const n of r.items)u(e,t,n,l,c);return function(e,t,r){const s=[];for(const[i,a]of e.entries())i>=r.start&&i<r.start+r.length&&s.push(a.filter(e=>{const r=e.token;return r.type!==o.ENTITY&&r.type!==n.OPTION&&r.type!==o.ATTRIBUTE||t.has(r)}));return new i.DynamicGraph2(s)}(s.edgeLists,l,a)}function u(e,t,r,i,o){if(o){const o=n.AttributeInfo.pidFromKey(r.key);i.add(t.getEntityToken(o));for(const n of e.getAttributes(r.key))i.add(t.getAttributeToken(n))}for(const n of r.children)u(e,t,n,i,!0)}t.subgraphFromItems=c,t.productTargets=function*(e,t,r,n){const o=e.attributes,u=e.cartOps,l=e.lexer,p=t.cart;if(0===n.length)return;const h=c(o,l,p,r,n,!0),d=i.allTokenizations(h.edgeLists);for(const i of d){const{entities:r,gaps:n}=a.splitOnEntities(i);if(r.length>0){const i=new s.TargetBuilder(e,n[0],r[0].pid,n[1]),o=i.getItem();if(void 0!==o){const e=n[0].length+n[1].length+1;for(const r of u.findByKeyRegex(t.cart,o.key))yield{item:r,score:i.getScore(),tokenCount:e}}}}},t.optionTargets=function*(e,t,r,n){const o=e.attributes,u=e.cartOps,l=e.lexer;if(0===n.length)return;const p={items:[t]},h=c(o,l,p,r,n,!1),d=i.allTokenizations(h.edgeLists);for(const i of d){const{entities:t,gaps:r}=a.splitOnEntities(i);if(0===t.length&&1===r.length){const t=new s.OptionTargetBuilder(e,r[0]),i=t.getOption();if(void 0!==i)for(const e of u.findByKeyRegex(p,i.key))yield{item:e,score:t.getScore(),tokenCount:n.length}}}}},"4oak":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UNIT=Symbol.for("UNIT"),t.unitTokenFactory=function(e){return{type:t.UNIT,id:e.pid,name:e.name}},t.createUnit=function(e,r){return{type:t.UNIT,id:e,name:r}}},"4tCg":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r("MYzf"))},5:function(e,t){},"51yK":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("ohnt"),i=r("PGEU");class o{constructor(e){this.seed=0,this.stem=e=>e.startsWith("@")?e:this.stemmer(e.toLowerCase()),this.stemAndHash=e=>this.hashTerm(this.stem(e)),this.hashTerm=e=>{if(e.startsWith("@"))return n.v3(e,this.seed)+o.minTokenHash;if(/^\d+$/.test(e))return this.hashNumber(Number(e));{const t=n.v3(e,this.seed);if(t>=o.minNumberHash)throw TypeError(`DefaultTermModel.hashTerm: murmurhash returned value greater than ${o.minNumberHash-1}`);return t}},this.hashNumber=e=>e+o.minNumberHash,this.isNumberHash=e=>e>=o.minNumberHash&&e<o.minTokenHash,this.isTokenHash=e=>e>=o.minTokenHash,this.breakWords=o.defaultBreaker,this.stemmer=o.snowballStemmer.stem,e&&(this.breakWords=e.breaker||this.breakWords,this.stemmer=e.stemmer||this.stemmer)}static defaultBreaker(e){return e.split(/\s+/)}}o.snowballStemmer=i.newStemmer("english"),o.lower32=Math.pow(2,32),o.minNumberHash=1*o.lower32,o.minTokenHash=2*o.lower32,t.DefaultTermModel=o},"58UJ":function(e,t,r){"use strict";var n=this&&this.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&(r[n[i]]=e[n[i]])}return r};Object.defineProperty(t,"__esModule",{value:!0});const i=r("+ZBB");var o;!function(e){e[e.NONE=0]="NONE",e[e.DELETE_A=1]="DELETE_A",e[e.DELETE_B=2]="DELETE_B",e[e.REPLACE=3]="REPLACE",e[e.MATCH=4]="MATCH"}(o||(o={}));class s{constructor(e){this.edit=o.NONE,this.cost=e}update(e,t){this.edit===o.NONE?(this.cost=t,this.edit=e):t<this.cost&&(this.cost=t,this.edit=e)}}class a{constructor(e,t,r,n,o=i.GenericEquality){this.matrix=[],this.result={match:[],cost:0,leftmostA:0,rightmostA:0,alignments:0,commonTerms:new Set},this.a=e,this.b=t,this.isDownstreamTerm=r,this.isToken=n,this.predicate=o,this.aLen=e.length,this.bLen=t.length,this.initializeMatrix(),this.findBestPath(),this.tracePath()}initializeMatrix(){this.matrix=new Array(this.bLen+1).fill([]);for(let e=0;e<=this.bLen;++e)if(0===e){const t=new Array(this.aLen+1);t[0]=new s(0);for(let e=1;e<=this.aLen;++e){const r=this.isToken(this.a[e-1])?a.tokenReplaceCost:1;t[e]=new s(r+t[e-1].cost)}this.matrix[e]=t}else{const t=new Array(this.aLen+1);t[0]=new s(e);for(let e=1;e<=this.aLen;++e)t[e]=new s(0);this.matrix[e]=t}}findBestPath(){for(let e=1;e<=this.bLen;++e)for(let t=1;t<=this.aLen;++t)this.isToken(this.a[t-1])?this.matrix[e][t].update(o.DELETE_A,this.matrix[e][t-1].cost+a.tokenReplaceCost):this.matrix[e][t].update(o.DELETE_A,this.matrix[e][t-1].cost+1),this.matrix[e][t].update(o.DELETE_B,this.matrix[e-1][t].cost+1),this.predicate(this.a[t-1],this.b[e-1])?this.matrix[e][t].update(o.MATCH,this.matrix[e-1][t-1].cost):this.isToken(this.a[t-1])?this.matrix[e][t].update(o.REPLACE,a.tokenReplaceCost):this.matrix[e][t].update(o.REPLACE,this.matrix[e-1][t-1].cost+1)}tracePath(){const e=[];let t=this.aLen,r=this.bLen;for(;this.matrix[r][t].cost>=a.tokenReplaceCost&&(t--,0!==t););let n=this.matrix[r][t],i=n.cost,s=!0,c=-1,u=-1,l=0;const p=new Set;for(;n.edit!==o.NONE;){switch(n.edit){case o.DELETE_A:s&&(i=this.matrix[r][t-1].cost),t--,c=t;break;case o.DELETE_B:r--;break;case o.REPLACE:{const n=this.a[t-1];(e.length>0||!this.isDownstreamTerm(n))&&(e.push(n),u<0&&(u=t-1)),t--,r--,s=!1,c=t}break;case o.MATCH:{const n=this.a[t-1];(e.length>0||r===this.bLen||!this.isDownstreamTerm(n))&&(e.push(n),u<0&&(u=t-1),l++,p.add(n)),t--,r--,s=!1,c=t}}n=this.matrix[r][t]}this.result={match:e.reverse(),cost:Math.min(i,1/0),leftmostA:c,rightmostA:u,alignments:l,commonTerms:p}}}a.tokenReplaceCost=Math.pow(2,32),t.levenshtein=function(e,t,r,n,o=i.GenericEquality){return new a(e,t,r,n,o).result},t.levenshteinString=function(e,t,r,i){const o=[...e],s=[...t],c=new a(o,s,r,i).result,{match:u}=c,l=n(c,["match"]);return Object.assign({match:u.join("")},l)}},"5N48":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("j+Kt"),i=r("YyFA");t.WILDCARD="*";const o=n.intersection([n.type({name:n.string,aliases:n.array(n.string)}),n.partial({hidden:n.boolean})]),s=n.type({name:n.string,attributes:n.array(o)}),a=n.type({name:n.string,dimensions:n.array(n.string)}),c=(e,t)=>{const r={};return Object.keys(e).forEach(t=>{r[e[t]]=null}),n.keyof(r,t)};var u;!function(e){e.PRODUCT="product",e.OPTION="option"}(u=t.ItemType||(t.ItemType={}));const l=c(u,"ItemType"),p=c(i.Role,"Role"),h=n.type({include:n.array(n.string)}),d=n.type({exclude:n.array(n.string)}),f=n.union([h,d]),m=n.partial({pid:n.number,sku:n.number,tensor:n.string,default:n.array(n.string),forms:n.array(f),tags:n.array(n.string),type:l,units:n.string,role:p}),v=n.type({name:n.string,aliases:n.array(n.string)}),g=n.recursion("groupSpecType",()=>n.intersection([m,n.union([n.type({items:n.array(g)}),v])])),y=n.intersection([n.type({parents:n.array(n.string),children:n.array(n.string)}),n.partial({info:n.type({defaultQty:n.number,minQty:n.number,maxQty:n.number})})]),b=n.type({parents:n.array(n.string),exclusive:n.array(n.string)}),S=n.union([y,b]);t.itemTemplateSpecType=n.recursion("ItemTemplateSpec",()=>n.type({name:n.string,quantity:n.number,children:n.array(t.itemTemplateSpecType)})),t.recipeSpecType=n.type({name:n.string,aliases:n.array(n.string),items:n.array(t.itemTemplateSpecType)}),t.skuSpecType=n.type({name:n.string,sku:n.number}),t.catalogSpecType=n.type({dimensions:n.array(s),tensors:n.array(a),catalog:n.array(g),rules:n.array(S),recipes:n.array(t.recipeSpecType),skus:n.array(t.skuSpecType)}),t.partialCatalogSpecType=n.intersection([n.partial(t.catalogSpecType.props),n.partial({imports:n.array(n.string)})])},"5T8o":function(e,t,r){"use strict";function n(e){const t=e.map(e=>Object.assign(Object.assign({},e),{children:n(e.children)}));return t.sort(i),t}function i(e,t){let r=e.sku.localeCompare(t.sku);if(r)return r;if(r=e.quantity-t.quantity,r)return r;if(r=e.children.length-t.children.length,r)return r;for(let n=0;n<e.children.length;++n)if(r=i(e.children[n],t.children[n]),r)return r;return 0}Object.defineProperty(t,"__esModule",{value:!0}),t.cartSort=function(e){return{items:n(e.items)}}},"5t69":function(e,t,r){"use strict";var n=r("U6jy"),i=r("P7XM");e.exports=function(e){var t,r,o;for(r in i(a,e),i(s,a),t=a.prototype)(o=t[r])&&"object"===typeof o&&(t[r]="concat"in o?o.concat():n(o));return a;function s(t){return e.apply(this,t)}function a(){return this instanceof a?e.apply(this,arguments):new s(arguments)}}},"6BBt":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("btwx"),i=r("yjL0"),o=r("au7Y"),s=r("23qp");function a(e,t,r){if(e.steps.length!==t.steps.length){throw new TypeError("step count mismatch")}const n=[];for(const[i,o]of e.steps.entries()){const e=t.steps[i];n.push(c(o,e,r))}return Object.assign(Object.assign({},e),{steps:n})}function c(e,t,r){const n=r(e.cart,t.cart),o={cost:n.cost,steps:[]};for(const i of n.edits)for(const e of i.steps)o.steps.push(e);const a=i.cartIsComplete(e.cart,t.cart),c=s.cartIsPerfect(e.cart,t.cart);return Object.assign(Object.assign({},e),{measures:{perfect:c,complete:a,repairs:o}})}t.scoreSuite=function(e,t,r,i){const s=[...o.enumerateTestCases(t)],c=[...o.enumerateTestCases(e)];if(c.length!==s.length){throw new TypeError("test count mismatch")}const u=[];for(const[n,o]of c.entries()){const e=s[n];u.push(a(o,e,r))}const l=n.aggregateMeasures(u,i);return Object.assign(Object.assign({},e),{tests:u,measures:l})}},"6MIY":function(e,t,r){"use strict";e.exports=function(e,t,r){var n=" ",i=e.level,o=e.dataLevel,s=e.schema[t],a=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,l="data"+(o||""),p="valid"+i,h=e.opts.$data&&s&&s.$data;h&&(n+=" var schema"+i+" = "+e.util.getData(s.$data,o,e.dataPathArr)+"; ");var d="i"+i,f="schema"+i;h||(n+=" var "+f+" = validate.schema"+a+";"),n+="var "+p+";",h&&(n+=" if (schema"+i+" === undefined) "+p+" = true; else if (!Array.isArray(schema"+i+")) "+p+" = false; else {"),n+=p+" = false;for (var "+d+"=0; "+d+"<"+f+".length; "+d+"++) if (equal("+l+", "+f+"["+d+"])) { "+p+" = true; break; }",h&&(n+="  }  "),n+=" if (!"+p+") {   ";var m=m||[];m.push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'enum' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { allowedValues: schema"+i+" } ",!1!==e.opts.messages&&(n+=" , message: 'should be equal to one of the allowed values' "),e.opts.verbose&&(n+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ";var v=n;return n=m.pop(),!e.compositeRule&&u?e.async?n+=" throw new ValidationError(["+v+"]); ":n+=" validate.errors = ["+v+"]; return false; ":n+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" }",u&&(n+=" else { "),n}},"6dBs":function(e,t,r){"use strict";var n=Object.prototype.hasOwnProperty,i=Object.prototype.toString,o=Object.defineProperty,s=Object.getOwnPropertyDescriptor,a=function(e){return"function"===typeof Array.isArray?Array.isArray(e):"[object Array]"===i.call(e)},c=function(e){if(!e||"[object Object]"!==i.call(e))return!1;var t,r=n.call(e,"constructor"),o=e.constructor&&e.constructor.prototype&&n.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!r&&!o)return!1;for(t in e);return"undefined"===typeof t||n.call(e,t)},u=function(e,t){o&&"__proto__"===t.name?o(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},l=function(e,t){if("__proto__"===t){if(!n.call(e,t))return;if(s)return s(e,t).value}return e[t]};e.exports=function e(){var t,r,n,i,o,s,p=arguments[0],h=1,d=arguments.length,f=!1;for("boolean"===typeof p&&(f=p,p=arguments[1]||{},h=2),(null==p||"object"!==typeof p&&"function"!==typeof p)&&(p={});h<d;++h)if(null!=(t=arguments[h]))for(r in t)n=l(p,r),p!==(i=l(t,r))&&(f&&i&&(c(i)||(o=a(i)))?(o?(o=!1,s=n&&a(n)?n:[]):s=n&&c(n)?n:{},u(p,{name:r,newValue:e(f,s,i)})):"undefined"!==typeof i&&u(p,{name:r,newValue:i}));return p}},"6gcW":function(e,t,r){"use strict";e.exports=function(e,t,r){var n=" ",i=e.schema[t],o=e.schemaPath+e.util.getProperty(t),s=e.errSchemaPath+"/"+t,a=!e.opts.allErrors,c=e.util.copy(e),u="";c.level++;var l="valid"+c.level,p=c.baseId,h=!0,d=i;if(d)for(var f,m=-1,v=d.length-1;m<v;)f=d[m+=1],(e.opts.strictKeywords?"object"==typeof f&&Object.keys(f).length>0:e.util.schemaHasRules(f,e.RULES.all))&&(h=!1,c.schema=f,c.schemaPath=o+"["+m+"]",c.errSchemaPath=s+"/"+m,n+="  "+e.validate(c)+" ",c.baseId=p,a&&(n+=" if ("+l+") { ",u+="}"));return a&&(n+=h?" if (true) { ":" "+u.slice(0,-1)+" "),n=e.util.cleanUpCode(n)}},"6hyt":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("+2Ap"),i=r("j+Kt"),o=r("ii1B");function s(e){const t=[],r=e.context;for(const[n,o]of r.entries())n>0&&(r[n-1].type instanceof i.ArrayType?t.push(`[${o.key}]`):r[n-1].type instanceof i.IntersectionType||r[n-1].type instanceof i.UnionType||(n>1?t.push(`.${o.key}`):t.push(`${o.key}`)));return`Expecting ${r[r.length-1].type.name} at ${t.join("")} but found ${a(e.value)}`}t.validate=function(e,t){const r=e.decode(t);if(n.isLeft(r)){const e=function(e){const t=[];for(const r of e)t.push(s(r));return t}(r.left).join("\n");throw console.log(e),new o.ValidationError(e)}return r.right};const a=e=>void 0===e?"undefined":JSON.stringify(e)},"6pwk":function(e,t,r){"use strict";var n=e.exports=function(){this._cache={}};n.prototype.put=function(e,t){this._cache[e]=t},n.prototype.get=function(e){return this._cache[e]},n.prototype.del=function(e){delete this._cache[e]},n.prototype.clear=function(){this._cache={}}},"7+rb":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("94Iq");t.createTestCase=function(e,t,r,i){const o=[];let s=[];for(const a of t){s=a.buildItems(s);const t=n.logicalCartFromCart({items:s},e),r={turns:[{speaker:"customer",transcription:i(a.buildText().join(" "))}],cart:t};o.push(r)}return{id:r,suites:"unverified",comment:"synthetic",steps:o}}},"7RiN":function(e,t,r){(function(t){const n=r("Po9p"),i=r("33yf");function o(e){console.log(`[dotenv][DEBUG] ${e}`)}const s="\n",a=/^\s*([\w.-]+)\s*=\s*(.*)?\s*$/,c=/\\n/g,u=/\n|\r|\r\n/;function l(e,t){const r=Boolean(t&&t.debug),n={};return e.toString().split(u).forEach((function(e,t){const i=e.match(a);if(null!=i){const e=i[1];let t=i[2]||"";const r=t.length-1,o='"'===t[0]&&'"'===t[r];"'"===t[0]&&"'"===t[r]||o?(t=t.substring(1,r),o&&(t=t.replace(c,s))):t=t.trim(),n[e]=t}else r&&o(`did not match key and value when parsing line ${t+1}: ${e}`)})),n}e.exports.config=function(e){let r=i.resolve(t.cwd(),".env"),s="utf8",a=!1;e&&(null!=e.path&&(r=e.path),null!=e.encoding&&(s=e.encoding),null!=e.debug&&(a=!0));try{const e=l(n.readFileSync(r,{encoding:s}),{debug:a});return Object.keys(e).forEach((function(r){Object.prototype.hasOwnProperty.call(t.env,r)?a&&o(`"${r}" is already defined in \`process.env\` and will not be overwritten`):t.env[r]=e[r]})),{parsed:e}}catch(c){return{error:c}}},e.exports.parse=l}).call(this,r("8oxB"))},"7nPM":function(e,t,r){"use strict";function n(e){return function(t){var r=-1,n=e.length;if(t<0)return{};for(;++r<n;)if(e[r]>t)return{line:r+1,column:t-(e[r-1]||0)+1,offset:t};return{}}}function i(e){return function(t){var r=t&&t.line,n=t&&t.column;if(!isNaN(r)&&!isNaN(n)&&r-1 in e)return(e[r-2]||0)+n-1||0;return-1}}e.exports=function(e){var t=function(e){var t=[],r=e.indexOf("\n");for(;-1!==r;)t.push(r+1),r=e.indexOf("\n",r+1);return t.push(e.length+1),t}(String(e));return{toPosition:n(t),toOffset:i(t)}}},"8+mo":function(e,t,r){"use strict";var n=r("hyoZ"),i=Object.prototype.hasOwnProperty,o=Object.prototype.toString;e.exports=new n("tag:yaml.org,2002:omap",{kind:"sequence",resolve:function(e){if(null===e)return!0;var t,r,n,s,a,c=[],u=e;for(t=0,r=u.length;t<r;t+=1){if(n=u[t],a=!1,"[object Object]"!==o.call(n))return!1;for(s in n)if(i.call(n,s)){if(a)return!1;a=!0}if(!a)return!1;if(-1!==c.indexOf(s))return!1;c.push(s)}return!0},construct:function(e){return null!==e?e:[]}})},"80gS":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("YyFA"),i=r("lv/t"),o=r("GhNO");t.processRecipes=function(e,t){const r=new o.IdGenerator,s=[],a=[];for(const n of t)if(n.items.length>0)if(c(n.items[0].name)){const e={name:n.name,rid:r.next(),aliases:n.aliases,products:n.items.map(u)};s.push(e)}else{const e={name:n.name,rid:r.next(),aliases:n.aliases,options:n.items.map(l)};a.push(e)}return new i.Cookbook({products:s,options:a});function c(t){return e.getSpecificFromName(t).kind===n.MENUITEM}function u(t){const r=e.getSpecificFromName(t.name);if(r.kind!==n.MENUITEM){const e=`Product recipe references option "${t.name}."`;throw new TypeError(e)}const i=t.children.map(l);return{quantity:t.quantity,key:r.key,options:i}}function l(t){const r=e.getSpecificFromName(t.name);if(r.kind!==n.OPTION){const e=`Option recipe references product "${t.name}."`;throw new TypeError(e)}if(t.children!==[]){t.name}return{quantity:t.quantity,key:r.key}}}},"8AIY":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("94Iq");t.optionTokenFactory=function(e){return{type:n.OPTION,id:e.pid,name:e.name}},t.createOption=function(e,t){return{type:n.OPTION,id:e,name:t}}},"8E1v":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("jwcd");t.SimpleRepairs=class{constructor(e){this.treeDiff=e}repairCart(e,t){const r=this.treeDiff(this,e.items,t.items);let n=0;for(const i of r.edits)i.cost=i.steps.length,n+=i.cost;return Object.assign(Object.assign({},r),{cost:n})}delete(e){return{op:n.EditOp.DELETE_A,cost:1,steps:[`delete sku(${e.sku}): ${e.name}`]}}insert(e){const t=[];let r=0;r+=1,t.push(`insert sku(${e.sku}): ${e.name}`),e.quantity>1&&(r+=1,t.push(`sku(${e.sku}): make quantity ${e.quantity}`));for(const n of e.children){const e=this.insert(n);r+=e.cost;for(const r of e.steps)t.push("  "+r)}return{op:n.EditOp.INSERT_A,cost:r,steps:t}}repair(e,t){let r=0;const i=[];if(e.sku!==t.sku){const n=this.delete(e);i.push(...n.steps),r=n.cost;const o=this.insert(t);i.push(...o.steps),r+=o.cost,r-=.001}else{e.quantity!==t.quantity&&(r+=1,i.push(`sku(${e.sku}): change quantity to ${t.quantity}`));const n=this.treeDiff(this,e.children,t.children);r+=n.cost;for(const e of n.edits)for(const t of e.steps)i.push("  "+t)}return{op:n.EditOp.REPAIR_A,cost:r,steps:i}}}},"8Gqj":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("yQjB"),i=r("3/+R");class o{constructor(){this.entries=new Map}get(e,t){const r=this.entries.get(e);return r?r.get(t):void 0}set(e,t,r){const n=this.entries.get(e);if(n)n.set(t,r);else{const n=new Map;n.set(t,r),this.entries.set(e,n)}}isEmpty(){return 0===this.entries.size}*values(){for(const e of this.entries.values())yield*e.values()}}t.Map2D=o,t.coalesceGraph=function(e,t){const r=[];for(let n=0;n<t.edgeLists.length;++n){const e=t.edgeLists[n],i=new o;for(const t of e){const e=t.token,r=i.get(e,t.length);r?r.score<t.score&&i.set(e,t.length,t):i.set(e,t.length,t)}const s=[...i.values()].sort((e,t)=>t.score-e.score);r.push(s)}return new i.DynamicGraph2(r)},t.filterGraph=function(e,t){const r=[];for(let i=0;i<e.edgeLists.length;++i){const o=e.edgeLists[i],s=[];for(const e of o)(e.score>=t||e.token===n.theUnknownToken)&&s.push(e);r.push(s)}const o=new i.DynamicGraph2(r);for(const n of o.edgeLists)n.sort((e,t)=>t.score-e.score);return o}},"8N7p":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("Po9p"),i=r("FG9h"),o=r("94Iq"),s=r("XM5d"),a=r("Kird"),c=r("ZsRi"),u=r("PP+l"),l=r("Jl3M"),p=r("fgBx"),h=r("8AIY"),d=r("Ec2+"),f=r("4oak");function*m(e){for(const t of e.attributes.dimensions)for(const e of t.attributes){const t=a.createAttribute(e.aid,e.name);for(const r of e.aliases){const e=p.matcherFromExpression(r),n=p.patternFromExpression(r);for(const r of o.aliasesFromPattern(n))yield{token:t,text:r,matcher:e}}}}function*v(e){for(const t of e.catalog.genericEntities())if(t.kind===o.MENUITEM){const e=u.createEntity(t.pid,t.name);for(const r of t.aliases){const t=p.matcherFromExpression(r),n=p.patternFromExpression(r);for(const r of o.aliasesFromPattern(n))yield{token:e,text:r,matcher:t}}}}function*g(e){for(const t of e.catalog.genericEntities())if(t.kind===o.OPTION){const e=h.createOption(t.pid,t.name);for(const r of t.aliases){const t=p.matcherFromExpression(r),n=p.patternFromExpression(r);for(const r of o.aliasesFromPattern(n))yield{token:e,text:r,matcher:t}}}}t.LexicalAnalyzer=class{constructor(e,t,r=!0,h,y,b,S){if(this.aidToToken=new Map,this.pidToToken=new Map,this.lexicon=t||new i.Lexicon,this.tokenizer=new i.Tokenizer(this.lexicon.termModel,this.lexicon.numberParser,r),this.lexicon.addDomain(m(e)),this.lexicon.addDomain(v(e)),this.lexicon.addDomain(g(e)),this.lexicon.addDomain(c.generateRecipes(e)),y){const e=p.aliasesFromYamlString(n.readFileSync(y,"utf8"),d.quantityTokenFactory);this.lexicon.addDomain(e)}if(b){const e=p.aliasesFromYamlString(n.readFileSync(b,"utf8"),f.unitTokenFactory);this.lexicon.addDomain(e)}if(h){const e=new l.IntentTokenFactory,t=p.aliasesFromYamlString(n.readFileSync(h,"utf8"),e.createToken);this.lexicon.addDomain(t)}if(S){const e=s.stopwordsFromYamlString(n.readFileSync(S,"utf8")),t=p.tokensFromStopwords(e);this.lexicon.addDomain(t,!1)}this.lexicon.ingest(this.tokenizer);this.lexicon.ingest({addItem:e=>{const t=e.token;if(t.type===u.ENTITY){const e=this.pidToToken.get(t.pid);if(e){if(t!==e){const e=`indexEntityTokens: tokens must be unique  (pid=${t.pid}).`;throw TypeError(e)}}else this.pidToToken.set(t.pid,t)}else if(t.type===o.OPTION){const e=this.pidToToken.get(t.id);if(e){if(t!==e){const e=`indexEntityTokens: tokens must be unique  (pid=${t.id}).`;throw TypeError(e)}}else this.pidToToken.set(t.id,t)}else if(t.type===a.ATTRIBUTE){const e=this.aidToToken.get(t.id);if(e){if(t!==e){const e=`indexAttributeTokens: tokens must be unique  (aid=${t.id}).`;throw TypeError(e)}}else this.aidToToken.set(t.id,t)}}})}getEntityToken(e){const t=this.pidToToken.get(e);if(!t){throw TypeError(`getEntityToken(): unknown PID ${e}.`)}return t}getAttributeToken(e){const t=this.aidToToken.get(e);if(!t){throw TypeError(`getAttributeToken(): unknown AID ${e}.`)}return t}createGraph(e){const t=this.lexicon.termModel.breakWords(e).map(this.lexicon.termModel.stem),r=t.map(this.lexicon.termModel.hashTerm);return this.tokenizer.generateGraph(r,t)}},t.generateAttributes=m,t.generateProducts=v,t.generateOptions=g,t.createSpan=function(e){if(0===e.length)return{start:0,length:0};{const t=e[0],r=e[e.length-1];return{start:t.start,length:r.start+r.length-t.start}}}},"8lot":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.Cookbook=class{constructor(e){this.ridToProductRecipe=new Map,this.ridToOptionRecipe=new Map;for(const t of e.products){if(this.ridToProductRecipe.has(t.rid)){const e=`Encountered duplicate RID = ${t.rid}`;throw TypeError(e)}this.ridToProductRecipe.set(t.rid,t)}for(const t of e.options){if(this.ridToOptionRecipe.has(t.rid)){const e=`Encountered duplicate RID = ${t.rid}`;throw TypeError(e)}this.ridToOptionRecipe.set(t.rid,t)}}*productRecipes(){for(const e of this.ridToProductRecipe.values())yield e}*optionRecipes(){for(const e of this.ridToOptionRecipe.values())yield e}findProductRecipe(e,t){const r=this.ridToProductRecipe.get(e);if(r)return r;throw TypeError(`findProductRecipe: unknown RID = ${e}`)}findOptionRecipe(e,t){const r=this.ridToOptionRecipe.get(e);if(r)return r;throw TypeError(`findOptionRecipe: unknown RID = ${e}`)}}},"8oxB":function(e,t){var r,n,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(e){if(r===setTimeout)return setTimeout(e,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"===typeof setTimeout?setTimeout:o}catch(e){r=o}try{n="function"===typeof clearTimeout?clearTimeout:s}catch(e){n=s}}();var c,u=[],l=!1,p=-1;function h(){l&&c&&(l=!1,c.length?u=c.concat(u):p=-1,u.length&&d())}function d(){if(!l){var e=a(h);l=!0;for(var t=u.length;t;){for(c=u,u=[];++p<t;)c&&c[p].run();p=-1,t=u.length}c=null,l=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===s||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function m(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];u.push(new f(e,t)),1!==u.length||l||a(d)},f.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},"8v/U":function(e,t){function r(e){return"number"===typeof e||(!!/^0x[0-9a-f]+$/i.test(e)||/^[-+]?(?:\d+(?:\.\d*)?|\.\d+)(e[-+]?\d+)?$/.test(e))}e.exports=function(e,t){t||(t={});var n={bools:{},strings:{},unknownFn:null};"function"===typeof t.unknown&&(n.unknownFn=t.unknown),"boolean"===typeof t.boolean&&t.boolean?n.allBools=!0:[].concat(t.boolean).filter(Boolean).forEach((function(e){n.bools[e]=!0}));var i={};Object.keys(t.alias||{}).forEach((function(e){i[e]=[].concat(t.alias[e]),i[e].forEach((function(t){i[t]=[e].concat(i[e].filter((function(e){return t!==e})))}))})),[].concat(t.string).filter(Boolean).forEach((function(e){n.strings[e]=!0,i[e]&&(n.strings[i[e]]=!0)}));var o=t.default||{},s={_:[]};Object.keys(n.bools).forEach((function(e){c(e,void 0!==o[e]&&o[e])}));var a=[];function c(e,t,o){if(!o||!n.unknownFn||function(e,t){return n.allBools&&/^--[^=]+$/.test(t)||n.strings[e]||n.bools[e]||i[e]}(e,o)||!1!==n.unknownFn(o)){var a=!n.strings[e]&&r(t)?Number(t):t;u(s,e.split("."),a),(i[e]||[]).forEach((function(e){u(s,e.split("."),a)}))}}function u(e,t,r){for(var i=e,o=0;o<t.length-1;o++){if("__proto__"===(s=t[o]))return;void 0===i[s]&&(i[s]={}),i[s]!==Object.prototype&&i[s]!==Number.prototype&&i[s]!==String.prototype||(i[s]={}),i[s]===Array.prototype&&(i[s]=[]),i=i[s]}var s;"__proto__"!==(s=t[t.length-1])&&(i!==Object.prototype&&i!==Number.prototype&&i!==String.prototype||(i={}),i===Array.prototype&&(i=[]),void 0===i[s]||n.bools[s]||"boolean"===typeof i[s]?i[s]=r:Array.isArray(i[s])?i[s].push(r):i[s]=[i[s],r])}function l(e){return i[e].some((function(e){return n.bools[e]}))}-1!==e.indexOf("--")&&(a=e.slice(e.indexOf("--")+1),e=e.slice(0,e.indexOf("--")));for(var p=0;p<e.length;p++){var h=e[p];if(/^--.+=/.test(h)){var d=h.match(/^--([^=]+)=([\s\S]*)$/),f=d[1],m=d[2];n.bools[f]&&(m="false"!==m),c(f,m,h)}else if(/^--no-.+/.test(h)){c(f=h.match(/^--no-(.+)/)[1],!1,h)}else if(/^--.+/.test(h)){f=h.match(/^--(.+)/)[1];void 0===(b=e[p+1])||/^-/.test(b)||n.bools[f]||n.allBools||i[f]&&l(f)?/^(true|false)$/.test(b)?(c(f,"true"===b,h),p++):c(f,!n.strings[f]||"",h):(c(f,b,h),p++)}else if(/^-[^-]+/.test(h)){for(var v=h.slice(1,-1).split(""),g=!1,y=0;y<v.length;y++){var b;if("-"!==(b=h.slice(y+2))){if(/[A-Za-z]/.test(v[y])&&/=/.test(b)){c(v[y],b.split("=")[1],h),g=!0;break}if(/[A-Za-z]/.test(v[y])&&/-?\d+(\.\d*)?(e-?\d+)?$/.test(b)){c(v[y],b,h),g=!0;break}if(v[y+1]&&v[y+1].match(/\W/)){c(v[y],h.slice(y+2),h),g=!0;break}c(v[y],!n.strings[v[y]]||"",h)}else c(v[y],b,h)}f=h.slice(-1)[0];g||"-"===f||(!e[p+1]||/^(-|--)[^-]/.test(e[p+1])||n.bools[f]||i[f]&&l(f)?e[p+1]&&/^(true|false)$/.test(e[p+1])?(c(f,"true"===e[p+1],h),p++):c(f,!n.strings[f]||"",h):(c(f,e[p+1],h),p++))}else if(n.unknownFn&&!1===n.unknownFn(h)||s._.push(n.strings._||!r(h)?h:Number(h)),t.stopEarly){s._.push.apply(s._,e.slice(p+1));break}}return Object.keys(o).forEach((function(e){(function(e,t){var r=e;return t.slice(0,-1).forEach((function(e){r=r[e]||{}})),t[t.length-1]in r})(s,e.split("."))||(u(s,e.split("."),o[e]),(i[e]||[]).forEach((function(t){u(s,t.split("."),o[e])})))})),t["--"]?(s["--"]=new Array,a.forEach((function(e){s["--"].push(e)}))):a.forEach((function(e){s._.push(e)})),s}},"94Iq":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r("qba0"))},"9Z5P":function(e,t,r){"use strict";var n=r("ZkSf");function i(e){var t=e.children;e.children=[{type:"tableHead",align:e.align,children:[t[0]],position:t[0].position}],t.length>1&&e.children.push({type:"tableBody",align:e.align,children:t.slice(1),position:{start:t[1].position.start,end:t[t.length-1].position.end}})}e.exports=function(e){return n(e,"table",i),e}},"9hxa":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("9pGh"),i=r("nNxe"),o=r("mzAn"),s=r("U+nO"),a=r("ySIl"),c=r("4WQa");function u(e,t,r,n,i){let o=s.nop;for(let s=t.cart.items.length-1;s>=0;--s){const r=p(e,n,{item:t.cart.items[s],score:1,tokenCount:n.length},i);r.score>o.score&&(o=r)}return o}function l(e,t,r,n,o,a){const u=i.createSpan(o);let l=s.nop;for(const i of c.productTargets(e,t,r,u)){const t=p(e,n,i,a);t.score>l.score&&(l=t)}return l}function p(e,t,r,n){if(r.item){const i=new o.ModificationBuilder(e,r.item,t,n),s=i.getItem();return{score:r.score+i.getScore()-1,tokenCount2:t.length,action:t=>{const r=e.cartOps.replaceInCart(t.cart,s);return Object.assign(Object.assign({},t),{cart:r})}}}return s.nop}function h(e,t,r,n,o){let a=s.nop;const u=i.createSpan(n);for(const i of c.productTargets(e,t,r,u)){const n=d(e,t,r,i,o);n.score>a.score&&(a=n)}return a}function d(e,t,r,n,i){if(n.item){const{entities:s,gaps:c}=a.splitOnEntities(i);if(2===c.length&&1===s.length){const a={left:c[0],entity:s[0].pid,right:c[1]},u=new o.ReplacementBuilder(e,n.item,a);return f(e,t,r,n,{item:u.getItem(),score:u.getScore(),tokenCount:n.tokenCount+i.length})}}return s.nop}function f(e,t,r,n,i){if(n.item&&i.item){const r=i.item.children.length>0?i.item.children:n.item.children,o=Object.assign(Object.assign({},i.item),{children:r,uid:n.item.uid}),s=e.cartOps.replaceInCart(t.cart,o);return{score:n.score+i.score,tokenCount2:n.tokenCount+i.tokenCount,action:e=>Object.assign(Object.assign({},e),{cart:s})}}return s.nop}t.processModify=function(e,t,r,c){if(r.peek(0).type===i.PROLOGUE&&r.take(1),r.peek(0).type===i.MODIFY_ITEM&&r.take(1),!r.atEOS()){if(r.startsWith([s.PRODUCT_PARTS_1,i.PREPOSITION,s.PRODUCT_PARTS_0])||r.startsWith([i.PREPOSITION,s.PRODUCT_PARTS_1,i.PREPOSITION,s.PRODUCT_PARTS_0])){r.peek(0).type===i.PREPOSITION&&r.take(1);const n=r.peek(0),o=r.peek(2);return r.take(3),l(e,t,c,o.tokens,n.tokens,!1)}if(r.startsWith([i.PREPOSITION,s.PRODUCT_PARTS_0])){const n=r.peek(1);return r.take(2),u(e,t,c,n.tokens,!1)}if(r.startsWith([s.PRODUCT_PARTS_0])){const n=r.peek(0);return r.take(1),u(e,t,c,n.tokens,!1)}if(r.startsWith([s.PRODUCT_PARTS_1,i.PREPOSITION,s.PRODUCT_PARTS_1])||r.startsWith([i.PREPOSITION,s.PRODUCT_PARTS_1,i.PREPOSITION,s.PRODUCT_PARTS_1])){r.peek(0).type===i.PREPOSITION&&r.take(1);const n=r.peek(0),o=r.peek(2);return r.take(3),h(e,t,c,n.tokens,o.tokens)}if(r.startsWith([s.PRODUCT_PARTS_N])||r.startsWith([i.PREPOSITION,s.PRODUCT_PARTS_N])){r.peek(0).type===i.PREPOSITION&&r.take(1);const n=r.peek(0);return r.take(1),function(e,t,r,n){const{entities:i,gaps:o}=a.splitOnEntities(n);if(2!==i.length)return s.nop;const c=o.map(e=>e.length);let u=s.nop;for(const s of a.enumerateSplits(c)){const n=i.map((e,t)=>({left:o[t].slice(s[t]),entity:e.pid,right:o[t+1].slice(0,s[t+1])}));if(2===n.length){const o=[...n[0].left,i[0],...n[0].right],s=[...n[1].left,i[1],...n[1].right],a=h(e,t,r,o,s);a.score>u.score&&(u=a)}}return u}(e,t,c,n.tokens)}if(r.startsWith([s.PRODUCT_PARTS_1])){const n=r.peek(0);return r.take(1),function(e,t,r,n){let i=s.nop;const{entities:o,gaps:c}=a.splitOnEntities(n);if(2===c.length&&c[1].length>=1){const n=[...c[0],o[0]],s=[...c[1]];for(;s.length>0;){const o=l(e,t,r,s,n,!1);o.score>i.score&&(i=o),n.push(s.shift())}}return i}(e,t,c,n.tokens)}if(r.startsWith([i.PREPOSITION,s.PRODUCT_PARTS_1])){const i=r.peek(1);return r.take(2),function(e,t,r,i){const c=t.cart.items;if(c.length>0){const s=function(e,t){const{entities:r,gaps:i}=a.splitOnEntities(t);if(2===i.length&&1===r.length){const t={left:i[0],entity:r[0].pid,right:i[1]};return function(e,t){const r=new o.EntityBuilder(e,t);return{item:r.getItem(),score:r.getScore(),tokenCount:n.segmentLength(t)}}(e,t)}return{item:void 0,tokenCount:0,score:0}}(e,i),u={item:c[c.length-1],score:1,tokenCount:0};return f(e,t,r,u,s)}return s.nop}(e,t,c,i.tokens)}}return s.nop},t.parseAddToImplicit=u,t.parseAddToTarget=l,t.parseAddToItem=p},"9pGh":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("nNxe"),i=r("mzAn"),o=r("U+nO"),s=r("9hxa"),a=r("ySIl");function c(e,t){const r=[],{entities:n,gaps:i}=a.splitOnEntities(t);if(n.length<1)return o.nop;const s=i.map(e=>e.length);for(const o of a.enumerateSplits(s)){const t=u(e,n.map((e,t)=>({left:i[t].slice(o[t]),entity:e.pid,right:i[t+1].slice(0,o[t+1])})));r.push(t)}return r.length>0?(r.sort((e,t)=>t.score-e.score),r[0]):o.nop}function u(e,t){let r=0,n=0;const i=[];for(const o of t){const t=l(e,o);void 0!==t.item&&(r+=t.score,n+=p(o),i.push(t.item))}return{score:r,tokenCount2:n,action:t=>{let r=t.cart;for(const n of i)r=e.cartOps.addToCart(r,n);return Object.assign(Object.assign({},t),{cart:r})}}}function l(e,t){const r=new i.EntityBuilder(e,t),n=r.getItem();return e.catalog.hasKey(n.key)?{score:r.getScore(),tokenCount:p(t),item:n}:{score:0,tokenCount:0,item:void 0}}function p(e){return e.left.length+e.right.length+1}t.processAdd=function(e,t,r,i){if(i.peek(0).type===n.PROLOGUE&&i.take(1),i.peek(0).type===n.WEAK_ADD?i.take(1):i.peek(0).type===n.ADD_TO_ORDER&&i.take(1),i.startsWith([o.PRODUCT_PARTS_0,n.PREPOSITION,o.PRODUCT_PARTS_1])){const n=i.peek(2),o=i.peek(0);return i.take(3),s.parseAddToTarget(e,t,r,o.tokens,n.tokens,!0)}if(i.startsWith([o.PRODUCT_PARTS_0,n.PREPOSITION])){const n=i.peek(0);return i.take(2),s.parseAddToImplicit(e,t,r,n.tokens,!0)}if(i.startsWith([n.PREPOSITION,o.PRODUCT_PARTS_0])){const n=i.peek(1);return i.take(2),s.parseAddToImplicit(e,t,r,n.tokens,!0)}if(i.startsWith([o.PRODUCT_PARTS_1])||i.startsWith([o.PRODUCT_PARTS_N])){const t=i.peek(0);return i.take(1),c(e,t.tokens)}if(i.startsWith([o.PRODUCT_PARTS_0])){const n=i.peek(0);return i.take(1),s.parseAddToImplicit(e,t,r,n.tokens,!0)}return o.nop},t.parseAdd=c,t.segmentLength=p},"9x6x":function(e,t,r){"use strict";e.exports=function(e,t){t||(t={}),"function"===typeof t&&(t={cmp:t});var r,n="boolean"===typeof t.cycles&&t.cycles,i=t.cmp&&(r=t.cmp,function(e){return function(t,n){var i={key:t,value:e[t]},o={key:n,value:e[n]};return r(i,o)}}),o=[];return function e(t){if(t&&t.toJSON&&"function"===typeof t.toJSON&&(t=t.toJSON()),void 0!==t){if("number"==typeof t)return isFinite(t)?""+t:"null";if("object"!==typeof t)return JSON.stringify(t);var r,s;if(Array.isArray(t)){for(s="[",r=0;r<t.length;r++)r&&(s+=","),s+=e(t[r])||"null";return s+"]"}if(null===t)return"null";if(-1!==o.indexOf(t)){if(n)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var a=o.push(t)-1,c=Object.keys(t).sort(i&&i(t));for(s="",r=0;r<c.length;r++){var u=c[r],l=e(t[u]);l&&(s&&(s+=","),s+=JSON.stringify(u)+":"+l)}return o.splice(a,1),"{"+s+"}"}}(e)}},A6mZ:function(e,t,r){"use strict";e.exports=function(e){return function(t,r){var o,s,a,c,u,l,p=this,h=p.offset,d=[],f=p[e+"Methods"],m=p[e+"Tokenizers"],v=r.line,g=r.column;if(!t)return d;w.now=b,w.file=p.file,y("");for(;t;){for(o=-1,s=f.length,u=!1;++o<s&&(c=f[o],!(a=m[c])||a.onlyAtStart&&!p.atStart||a.notInList&&p.inList||a.notInBlock&&p.inBlock||a.notInLink&&p.inLink||(l=t.length,a.apply(p,[w,t]),!(u=l!==t.length))););u||p.file.fail(new Error("Infinite loop"),w.now())}return p.eof=b(),d;function y(e){for(var t=-1,r=e.indexOf("\n");-1!==r;)v++,t=r,r=e.indexOf("\n",r+1);-1===t?g+=e.length:g=e.length-t,v in h&&(-1!==t?g+=h[v]:g<=h[v]&&(g=h[v]+1))}function b(){var e={line:v,column:g};return e.offset=p.toOffset(e),e}function S(e){this.start=e,this.end=b()}function w(e){var r=function(){var e=[],t=v+1;return function(){for(var r=v+1;t<r;)e.push((h[t]||0)+1),t++;return e}}(),o=function(){var e=b();return(function(t,r){var n=t.position,i=n?n.start:e,o=[],s=n&&n.end.line,a=e.line;if(t.position=new S(i),n&&r&&n.indent){if(o=n.indent,s<a){for(;++s<a;)o.push((h[s]||0)+1);o.push(e.column)}r=o.concat(r)}return t.position.indent=r||[],t})}(),s=b();return function(e){t.substring(0,e.length)!==e&&p.file.fail(new Error("Incorrectly eaten value: please report this warning on http://git.io/vg5Ft"),b())}(e),a.reset=c,c.test=u,a.test=u,t=t.substring(e.length),y(e),r=r(),a;function a(e,t){return o(function(e,t){var r=t?t.children:d,o=r[r.length-1];return o&&e.type===o.type&&e.type in n&&i(o)&&i(e)&&(e=n[e.type].call(p,o,e)),e!==o&&r.push(e),p.atStart&&0!==d.length&&p.exitStart(),e}(o(e),t),r)}function c(){var r=a.apply(null,arguments);return v=s.line,g=s.column,t=e+t,r}function u(){var r=o({});return v=s.line,g=s.column,t=e+t,r.position}}}};var n={text:function(e,t){return e.value+=t.value,e},blockquote:function(e,t){if(this.options.commonmark)return t;return e.children=e.children.concat(t.children),e}};function i(e){var t,r;return"text"!==e.type||!e.position||(t=e.position.start,r=e.position.end,t.line!==r.line||r.column-t.column===e.value.length)}},AK1u:function(e,t,r){"use strict";e.exports=function(e,t,r){var n=" ",i=e.level,o=e.dataLevel,s=e.schema[t],a=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,l="data"+(o||"");if(!1===e.opts.format)return u&&(n+=" if (true) { "),n;var p,h=e.opts.$data&&s&&s.$data;h?(n+=" var schema"+i+" = "+e.util.getData(s.$data,o,e.dataPathArr)+"; ",p="schema"+i):p=s;var d=e.opts.unknownFormats,f=Array.isArray(d);if(h){n+=" var "+(m="format"+i)+" = formats["+p+"]; var "+(v="isObject"+i)+" = typeof "+m+" == 'object' && !("+m+" instanceof RegExp) && "+m+".validate; var "+(g="formatType"+i)+" = "+v+" && "+m+".type || 'string'; if ("+v+") { ",e.async&&(n+=" var async"+i+" = "+m+".async; "),n+=" "+m+" = "+m+".validate; } if (  ",h&&(n+=" ("+p+" !== undefined && typeof "+p+" != 'string') || "),n+=" (","ignore"!=d&&(n+=" ("+p+" && !"+m+" ",f&&(n+=" && self._opts.unknownFormats.indexOf("+p+") == -1 "),n+=") || "),n+=" ("+m+" && "+g+" == '"+r+"' && !(typeof "+m+" == 'function' ? ",e.async?n+=" (async"+i+" ? await "+m+"("+l+") : "+m+"("+l+")) ":n+=" "+m+"("+l+") ",n+=" : "+m+".test("+l+"))))) {"}else{var m;if(!(m=e.formats[s])){if("ignore"==d)return e.logger.warn('unknown format "'+s+'" ignored in schema at path "'+e.errSchemaPath+'"'),u&&(n+=" if (true) { "),n;if(f&&d.indexOf(s)>=0)return u&&(n+=" if (true) { "),n;throw new Error('unknown format "'+s+'" is used in schema at path "'+e.errSchemaPath+'"')}var v,g=(v="object"==typeof m&&!(m instanceof RegExp)&&m.validate)&&m.type||"string";if(v){var y=!0===m.async;m=m.validate}if(g!=r)return u&&(n+=" if (true) { "),n;if(y){if(!e.async)throw new Error("async format in sync schema");n+=" if (!(await "+(b="formats"+e.util.getProperty(s)+".validate")+"("+l+"))) { "}else{n+=" if (! ";var b="formats"+e.util.getProperty(s);v&&(b+=".validate"),n+="function"==typeof m?" "+b+"("+l+") ":" "+b+".test("+l+") ",n+=") { "}}var S=S||[];S.push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'format' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { format:  ",n+=h?""+p:""+e.util.toQuotedString(s),n+="  } ",!1!==e.opts.messages&&(n+=" , message: 'should match format \"",n+=h?"' + "+p+" + '":""+e.util.escapeQuotes(s),n+="\"' "),e.opts.verbose&&(n+=" , schema:  ",n+=h?"validate.schema"+a:""+e.util.toQuotedString(s),n+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ";var w=n;return n=S.pop(),!e.compositeRule&&u?e.async?n+=" throw new ValidationError(["+w+"]); ":n+=" validate.errors = ["+w+"]; return false; ":n+=" var err = "+w+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } ",u&&(n+=" else { "),n}},AP2z:function(e,t,r){var n=r("nmnc"),i=Object.prototype,o=i.hasOwnProperty,s=i.toString,a=n?n.toStringTag:void 0;e.exports=function(e){var t=o.call(e,a),r=e[a];try{e[a]=void 0;var n=!0}catch(c){}var i=s.call(e);return n&&(t?e[a]=r:delete e[a]),i}},APWh:function(e,t,r){"use strict";e.exports=function(e,t,r){var n=" ",i=e.level,o=e.dataLevel,s=e.schema[t],a=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,l="data"+(o||""),p="errs__"+i,h=e.util.copy(e);h.level++;var d="valid"+h.level;if(e.opts.strictKeywords?"object"==typeof s&&Object.keys(s).length>0:e.util.schemaHasRules(s,e.RULES.all)){h.schema=s,h.schemaPath=a,h.errSchemaPath=c,n+=" var "+p+" = errors;  ";var f,m=e.compositeRule;e.compositeRule=h.compositeRule=!0,h.createErrors=!1,h.opts.allErrors&&(f=h.opts.allErrors,h.opts.allErrors=!1),n+=" "+e.validate(h)+" ",h.createErrors=!0,f&&(h.opts.allErrors=f),e.compositeRule=h.compositeRule=m,n+=" if ("+d+") {   ";var v=v||[];v.push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: {} ",!1!==e.opts.messages&&(n+=" , message: 'should NOT be valid' "),e.opts.verbose&&(n+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ";var g=n;n=v.pop(),!e.compositeRule&&u?e.async?n+=" throw new ValidationError(["+g+"]); ":n+=" validate.errors = ["+g+"]; return false; ":n+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } else {  errors = "+p+"; if (vErrors !== null) { if ("+p+") vErrors.length = "+p+"; else vErrors = null; } ",e.opts.allErrors&&(n+=" } ")}else n+="  var err =   ",!1!==e.createErrors?(n+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: {} ",!1!==e.opts.messages&&(n+=" , message: 'should NOT be valid' "),e.opts.verbose&&(n+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",u&&(n+=" if (false) { ");return n}},AwJw:function(e,t,r){"use strict";e.exports=function(e,t,r){var n=" ",i=e.level,o=e.dataLevel,s=e.schema[t],a=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,l="data"+(o||""),p="valid"+i,h=e.opts.$data&&s&&s.$data;h&&(n+=" var schema"+i+" = "+e.util.getData(s.$data,o,e.dataPathArr)+"; "),h||(n+=" var schema"+i+" = validate.schema"+a+";"),n+="var "+p+" = equal("+l+", schema"+i+"); if (!"+p+") {   ";var d=d||[];d.push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'const' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { allowedValue: schema"+i+" } ",!1!==e.opts.messages&&(n+=" , message: 'should be equal to constant' "),e.opts.verbose&&(n+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ";var f=n;return n=d.pop(),!e.compositeRule&&u?e.async?n+=" throw new ValidationError(["+f+"]); ":n+=" validate.errors = ["+f+"]; return false; ":n+=" var err = "+f+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" }",u&&(n+=" else { "),n}},B4fJ:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("Gtft");t.allTokenizations=function*(e){for(const t of n.allPaths(e)){let e=0;const r=new Array;for(const n of t)r.push(Object.assign({},n.token,{start:e,length:n.length})),e+=n.length;yield r}},t.maximalTokenizations=function*(e){for(const t of n.maximalPaths(e)){let e=0;const r=new Array;for(const n of t)r.push(Object.assign({},n.token,{start:e,length:n.length})),e+=n.length;yield r}}},B9Yq:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},BEtg:function(e,t){function r(e){return!!e.constructor&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}e.exports=function(e){return null!=e&&(r(e)||function(e){return"function"===typeof e.readFloatLE&&"function"===typeof e.slice&&r(e.slice(0,0))}(e)||!!e._isBuffer)}},"BMJ/":function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var n=r("lqU6"),i=r("ahYF"),o=r("YonC");class s{constructor(e,t,r){if(this.privPayload=null,!t)throw new i.a("payload");if(e===n.b.Binary&&!(t instanceof ArrayBuffer))throw new i.b("Payload must be ArrayBuffer");if(e===n.b.Text&&"string"!==typeof t)throw new i.b("Payload must be a string");this.privMessageType=e,this.privPayload=t,this.privId=r||Object(o.a)()}get messageType(){return this.privMessageType}get payload(){return this.privPayload}get textContent(){if(this.privMessageType===n.b.Binary)throw new i.b("Not supported for binary message");return this.privPayload}get binaryContent(){if(this.privMessageType===n.b.Text)throw new i.b("Not supported for text message");return this.privPayload}get id(){return this.privId}}},"BO/t":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t,r,n,i,o){var s=n||"<<anonymous>>",a=o||r;if(null==t[r])return new Error("The "+i+" `"+a+"` is required to make `"+s+"` accessible for users of assistive technologies such as screen readers.");for(var c=arguments.length,u=Array(c>5?c-5:0),l=5;l<c;l++)u[l-5]=arguments[l];return e.apply(void 0,[t,r,n,i,o].concat(u))}},e.exports=t.default},BUIh:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("w9WE"),i=r("dLq5");t.EntityGenerator=class{constructor(e,t,r,n,o){this.quantifiers=[],this.attributeInfo=e,this.pid=n,this.keys=[...r.getSpecificsForGeneric(n)],this.attributesGenerator=t,this.quantifiers=o;const s=r.getGeneric(n);this.aliases=[...i.aliasesFromOneItem(s)]}randomEntity(e){const t=e.randomChoice(this.quantifiers),r=e.randomChoice(this.keys),i=this.attributeInfo.getAttributes(r),o=this.attributesGenerator.get(i,e),s=e.randomChoice(this.aliases);return new n.EntityX(t,o,r,s)}}},BdsA:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));class n{constructor(e,t){this.privStatusCode=e,this.privReason=t}get statusCode(){return this.privStatusCode}get reason(){return this.privReason}}},BjVE:function(e,t,r){"use strict";e.exports=function(e,t){var r=e.indexOf("**",t),n=e.indexOf("__",t);if(-1===n)return r;if(-1===r)return n;return n<r?n:r}},Brp5:function(e,t,r){"use strict";e.exports=function(e,t){return e.indexOf("`",t)}},CEH9:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("Po9p"),i=r("ZR4k"),o=r("33yf"),s=r("94Iq"),a=r("nNxe"),c=r("/av6");function u(e){const t=n.readFileSync(e,"utf8"),r=i.safeLoad(t);return s.validate(a.lexiconSpecType,r)}t.loadLexiconSpec=u,t.loadShortOrderWorld=function(e,t,r,n=!1){const i=o.join(t,"lexicon.yaml");console.log(`loadShortOrderWorld(${i})`);const s=u(i);return c.createShortOrderWorld2(e,s,r,n)}},CRs9:function(e,t,r){"use strict";e.exports=function(e,t){var r=e.indexOf("*",t),n=e.indexOf("_",t);if(-1===n)return r;if(-1===r)return n;return n<r?n:r}},ClZL:function(e,t,r){"use strict";var n=r("Y2Yi"),i=r("w+qe"),o=r("tN50"),s=r("Z3Ei"),a=r("VtPO"),c=Object.prototype.hasOwnProperty,u=1,l=2,p=3,h=4,d=1,f=2,m=3,v=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,g=/[\x85\u2028\u2029]/,y=/[,\[\]\{\}]/,b=/^(?:!|!!|![a-z\-]+!)$/i,S=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function w(e){return Object.prototype.toString.call(e)}function k(e){return 10===e||13===e}function E(e){return 9===e||32===e}function O(e){return 9===e||32===e||10===e||13===e}function x(e){return 44===e||91===e||93===e||123===e||125===e}function C(e){var t;return 48<=e&&e<=57?e-48:97<=(t=32|e)&&t<=102?t-97+10:-1}function P(e){return 48===e?"\0":97===e?"\x07":98===e?"\b":116===e?"\t":9===e?"\t":110===e?"\n":118===e?"\v":102===e?"\f":114===e?"\r":101===e?"\x1b":32===e?" ":34===e?'"':47===e?"/":92===e?"\\":78===e?"\x85":95===e?"\xa0":76===e?"\u2028":80===e?"\u2029":""}function T(e){return e<=65535?String.fromCharCode(e):String.fromCharCode(55296+(e-65536>>10),56320+(e-65536&1023))}for(var R=new Array(256),M=new Array(256),A=0;A<256;A++)R[A]=P(A)?1:0,M[A]=P(A);function I(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||a,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.documents=[]}function _(e,t){return new i(t,new o(e.filename,e.input,e.position,e.line,e.position-e.lineStart))}function N(e,t){throw _(e,t)}function D(e,t){e.onWarning&&e.onWarning.call(null,_(e,t))}var F={YAML:function(e,t,r){var n,i,o;null!==e.version&&N(e,"duplication of %YAML directive"),1!==r.length&&N(e,"YAML directive accepts exactly one argument"),null===(n=/^([0-9]+)\.([0-9]+)$/.exec(r[0]))&&N(e,"ill-formed argument of the YAML directive"),i=parseInt(n[1],10),o=parseInt(n[2],10),1!==i&&N(e,"unacceptable YAML version of the document"),e.version=r[0],e.checkLineBreaks=o<2,1!==o&&2!==o&&D(e,"unsupported YAML version of the document")},TAG:function(e,t,r){var n,i;2!==r.length&&N(e,"TAG directive accepts exactly two arguments"),n=r[0],i=r[1],b.test(n)||N(e,"ill-formed tag handle (first argument) of the TAG directive"),c.call(e.tagMap,n)&&N(e,'there is a previously declared suffix for "'+n+'" tag handle'),S.test(i)||N(e,"ill-formed tag prefix (second argument) of the TAG directive"),e.tagMap[n]=i}};function j(e,t,r,n){var i,o,s,a;if(t<r){if(a=e.input.slice(t,r),n)for(i=0,o=a.length;i<o;i+=1)9===(s=a.charCodeAt(i))||32<=s&&s<=1114111||N(e,"expected valid JSON character");else v.test(a)&&N(e,"the stream contains non-printable characters");e.result+=a}}function B(e,t,r,i){var o,s,a,u;for(n.isObject(r)||N(e,"cannot merge mappings; the provided source object is unacceptable"),a=0,u=(o=Object.keys(r)).length;a<u;a+=1)s=o[a],c.call(t,s)||(t[s]=r[s],i[s]=!0)}function z(e,t,r,n,i,o,s,a){var u,l;if(Array.isArray(i))for(u=0,l=(i=Array.prototype.slice.call(i)).length;u<l;u+=1)Array.isArray(i[u])&&N(e,"nested arrays are not supported inside keys"),"object"===typeof i&&"[object Object]"===w(i[u])&&(i[u]="[object Object]");if("object"===typeof i&&"[object Object]"===w(i)&&(i="[object Object]"),i=String(i),null===t&&(t={}),"tag:yaml.org,2002:merge"===n)if(Array.isArray(o))for(u=0,l=o.length;u<l;u+=1)B(e,t,o[u],r);else B(e,t,o,r);else e.json||c.call(r,i)||!c.call(t,i)||(e.line=s||e.line,e.position=a||e.position,N(e,"duplicated mapping key")),t[i]=o,delete r[i];return t}function q(e){var t;10===(t=e.input.charCodeAt(e.position))?e.position++:13===t?(e.position++,10===e.input.charCodeAt(e.position)&&e.position++):N(e,"a line break is expected"),e.line+=1,e.lineStart=e.position}function L(e,t,r){for(var n=0,i=e.input.charCodeAt(e.position);0!==i;){for(;E(i);)i=e.input.charCodeAt(++e.position);if(t&&35===i)do{i=e.input.charCodeAt(++e.position)}while(10!==i&&13!==i&&0!==i);if(!k(i))break;for(q(e),i=e.input.charCodeAt(e.position),n++,e.lineIndent=0;32===i;)e.lineIndent++,i=e.input.charCodeAt(++e.position)}return-1!==r&&0!==n&&e.lineIndent<r&&D(e,"deficient indentation"),n}function W(e){var t,r=e.position;return!(45!==(t=e.input.charCodeAt(r))&&46!==t||t!==e.input.charCodeAt(r+1)||t!==e.input.charCodeAt(r+2)||(r+=3,0!==(t=e.input.charCodeAt(r))&&!O(t)))}function U(e,t){1===t?e.result+=" ":t>1&&(e.result+=n.repeat("\n",t-1))}function $(e,t){var r,n,i=e.tag,o=e.anchor,s=[],a=!1;for(null!==e.anchor&&(e.anchorMap[e.anchor]=s),n=e.input.charCodeAt(e.position);0!==n&&45===n&&O(e.input.charCodeAt(e.position+1));)if(a=!0,e.position++,L(e,!0,-1)&&e.lineIndent<=t)s.push(null),n=e.input.charCodeAt(e.position);else if(r=e.line,G(e,t,p,!1,!0),s.push(e.result),L(e,!0,-1),n=e.input.charCodeAt(e.position),(e.line===r||e.lineIndent>t)&&0!==n)N(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break;return!!a&&(e.tag=i,e.anchor=o,e.kind="sequence",e.result=s,!0)}function K(e){var t,r,n,i,o=!1,s=!1;if(33!==(i=e.input.charCodeAt(e.position)))return!1;if(null!==e.tag&&N(e,"duplication of a tag property"),60===(i=e.input.charCodeAt(++e.position))?(o=!0,i=e.input.charCodeAt(++e.position)):33===i?(s=!0,r="!!",i=e.input.charCodeAt(++e.position)):r="!",t=e.position,o){do{i=e.input.charCodeAt(++e.position)}while(0!==i&&62!==i);e.position<e.length?(n=e.input.slice(t,e.position),i=e.input.charCodeAt(++e.position)):N(e,"unexpected end of the stream within a verbatim tag")}else{for(;0!==i&&!O(i);)33===i&&(s?N(e,"tag suffix cannot contain exclamation marks"):(r=e.input.slice(t-1,e.position+1),b.test(r)||N(e,"named tag handle cannot contain such characters"),s=!0,t=e.position+1)),i=e.input.charCodeAt(++e.position);n=e.input.slice(t,e.position),y.test(n)&&N(e,"tag suffix cannot contain flow indicator characters")}return n&&!S.test(n)&&N(e,"tag name cannot contain such characters: "+n),o?e.tag=n:c.call(e.tagMap,r)?e.tag=e.tagMap[r]+n:"!"===r?e.tag="!"+n:"!!"===r?e.tag="tag:yaml.org,2002:"+n:N(e,'undeclared tag handle "'+r+'"'),!0}function H(e){var t,r;if(38!==(r=e.input.charCodeAt(e.position)))return!1;for(null!==e.anchor&&N(e,"duplication of an anchor property"),r=e.input.charCodeAt(++e.position),t=e.position;0!==r&&!O(r)&&!x(r);)r=e.input.charCodeAt(++e.position);return e.position===t&&N(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}function G(e,t,r,i,o){var s,a,v,g,y,b,S,w,P=1,A=!1,I=!1;if(null!==e.listener&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,s=a=v=h===r||p===r,i&&L(e,!0,-1)&&(A=!0,e.lineIndent>t?P=1:e.lineIndent===t?P=0:e.lineIndent<t&&(P=-1)),1===P)for(;K(e)||H(e);)L(e,!0,-1)?(A=!0,v=s,e.lineIndent>t?P=1:e.lineIndent===t?P=0:e.lineIndent<t&&(P=-1)):v=!1;if(v&&(v=A||o),1!==P&&h!==r||(S=u===r||l===r?t:t+1,w=e.position-e.lineStart,1===P?v&&($(e,w)||function(e,t,r){var n,i,o,s,a,c=e.tag,u=e.anchor,p={},d={},f=null,m=null,v=null,g=!1,y=!1;for(null!==e.anchor&&(e.anchorMap[e.anchor]=p),a=e.input.charCodeAt(e.position);0!==a;){if(n=e.input.charCodeAt(e.position+1),o=e.line,s=e.position,63!==a&&58!==a||!O(n)){if(!G(e,r,l,!1,!0))break;if(e.line===o){for(a=e.input.charCodeAt(e.position);E(a);)a=e.input.charCodeAt(++e.position);if(58===a)O(a=e.input.charCodeAt(++e.position))||N(e,"a whitespace character is expected after the key-value separator within a block mapping"),g&&(z(e,p,d,f,m,null),f=m=v=null),y=!0,g=!1,i=!1,f=e.tag,m=e.result;else{if(!y)return e.tag=c,e.anchor=u,!0;N(e,"can not read an implicit mapping pair; a colon is missed")}}else{if(!y)return e.tag=c,e.anchor=u,!0;N(e,"can not read a block mapping entry; a multiline key may not be an implicit key")}}else 63===a?(g&&(z(e,p,d,f,m,null),f=m=v=null),y=!0,g=!0,i=!0):g?(g=!1,i=!0):N(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,a=n;if((e.line===o||e.lineIndent>t)&&(G(e,t,h,!0,i)&&(g?m=e.result:v=e.result),g||(z(e,p,d,f,m,v,o,s),f=m=v=null),L(e,!0,-1),a=e.input.charCodeAt(e.position)),e.lineIndent>t&&0!==a)N(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return g&&z(e,p,d,f,m,null),y&&(e.tag=c,e.anchor=u,e.kind="mapping",e.result=p),y}(e,w,S))||function(e,t){var r,n,i,o,s,a,c,l,p,h,d=!0,f=e.tag,m=e.anchor,v={};if(91===(h=e.input.charCodeAt(e.position)))i=93,a=!1,n=[];else{if(123!==h)return!1;i=125,a=!0,n={}}for(null!==e.anchor&&(e.anchorMap[e.anchor]=n),h=e.input.charCodeAt(++e.position);0!==h;){if(L(e,!0,t),(h=e.input.charCodeAt(e.position))===i)return e.position++,e.tag=f,e.anchor=m,e.kind=a?"mapping":"sequence",e.result=n,!0;d||N(e,"missed comma between flow collection entries"),p=null,o=s=!1,63===h&&O(e.input.charCodeAt(e.position+1))&&(o=s=!0,e.position++,L(e,!0,t)),r=e.line,G(e,t,u,!1,!0),l=e.tag,c=e.result,L(e,!0,t),h=e.input.charCodeAt(e.position),!s&&e.line!==r||58!==h||(o=!0,h=e.input.charCodeAt(++e.position),L(e,!0,t),G(e,t,u,!1,!0),p=e.result),a?z(e,n,v,l,c,p):o?n.push(z(e,null,v,l,c,p)):n.push(c),L(e,!0,t),44===(h=e.input.charCodeAt(e.position))?(d=!0,h=e.input.charCodeAt(++e.position)):d=!1}N(e,"unexpected end of the stream within a flow collection")}(e,S)?I=!0:(a&&function(e,t){var r,i,o,s,a,c=d,u=!1,l=!1,p=t,h=0,v=!1;if(124===(s=e.input.charCodeAt(e.position)))i=!1;else{if(62!==s)return!1;i=!0}for(e.kind="scalar",e.result="";0!==s;)if(43===(s=e.input.charCodeAt(++e.position))||45===s)d===c?c=43===s?m:f:N(e,"repeat of a chomping mode identifier");else{if(!((o=48<=(a=s)&&a<=57?a-48:-1)>=0))break;0===o?N(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):l?N(e,"repeat of an indentation width identifier"):(p=t+o-1,l=!0)}if(E(s)){do{s=e.input.charCodeAt(++e.position)}while(E(s));if(35===s)do{s=e.input.charCodeAt(++e.position)}while(!k(s)&&0!==s)}for(;0!==s;){for(q(e),e.lineIndent=0,s=e.input.charCodeAt(e.position);(!l||e.lineIndent<p)&&32===s;)e.lineIndent++,s=e.input.charCodeAt(++e.position);if(!l&&e.lineIndent>p&&(p=e.lineIndent),k(s))h++;else{if(e.lineIndent<p){c===m?e.result+=n.repeat("\n",u?1+h:h):c===d&&u&&(e.result+="\n");break}for(i?E(s)?(v=!0,e.result+=n.repeat("\n",u?1+h:h)):v?(v=!1,e.result+=n.repeat("\n",h+1)):0===h?u&&(e.result+=" "):e.result+=n.repeat("\n",h):e.result+=n.repeat("\n",u?1+h:h),u=!0,l=!0,h=0,r=e.position;!k(s)&&0!==s;)s=e.input.charCodeAt(++e.position);j(e,r,e.position,!1)}}return!0}(e,S)||function(e,t){var r,n,i;if(39!==(r=e.input.charCodeAt(e.position)))return!1;for(e.kind="scalar",e.result="",e.position++,n=i=e.position;0!==(r=e.input.charCodeAt(e.position));)if(39===r){if(j(e,n,e.position,!0),39!==(r=e.input.charCodeAt(++e.position)))return!0;n=e.position,e.position++,i=e.position}else k(r)?(j(e,n,i,!0),U(e,L(e,!1,t)),n=i=e.position):e.position===e.lineStart&&W(e)?N(e,"unexpected end of the document within a single quoted scalar"):(e.position++,i=e.position);N(e,"unexpected end of the stream within a single quoted scalar")}(e,S)||function(e,t){var r,n,i,o,s,a,c;if(34!==(a=e.input.charCodeAt(e.position)))return!1;for(e.kind="scalar",e.result="",e.position++,r=n=e.position;0!==(a=e.input.charCodeAt(e.position));){if(34===a)return j(e,r,e.position,!0),e.position++,!0;if(92===a){if(j(e,r,e.position,!0),k(a=e.input.charCodeAt(++e.position)))L(e,!1,t);else if(a<256&&R[a])e.result+=M[a],e.position++;else if((s=120===(c=a)?2:117===c?4:85===c?8:0)>0){for(i=s,o=0;i>0;i--)(s=C(a=e.input.charCodeAt(++e.position)))>=0?o=(o<<4)+s:N(e,"expected hexadecimal character");e.result+=T(o),e.position++}else N(e,"unknown escape sequence");r=n=e.position}else k(a)?(j(e,r,n,!0),U(e,L(e,!1,t)),r=n=e.position):e.position===e.lineStart&&W(e)?N(e,"unexpected end of the document within a double quoted scalar"):(e.position++,n=e.position)}N(e,"unexpected end of the stream within a double quoted scalar")}(e,S)?I=!0:!function(e){var t,r,n;if(42!==(n=e.input.charCodeAt(e.position)))return!1;for(n=e.input.charCodeAt(++e.position),t=e.position;0!==n&&!O(n)&&!x(n);)n=e.input.charCodeAt(++e.position);return e.position===t&&N(e,"name of an alias node must contain at least one character"),r=e.input.slice(t,e.position),e.anchorMap.hasOwnProperty(r)||N(e,'unidentified alias "'+r+'"'),e.result=e.anchorMap[r],L(e,!0,-1),!0}(e)?function(e,t,r){var n,i,o,s,a,c,u,l,p=e.kind,h=e.result;if(O(l=e.input.charCodeAt(e.position))||x(l)||35===l||38===l||42===l||33===l||124===l||62===l||39===l||34===l||37===l||64===l||96===l)return!1;if((63===l||45===l)&&(O(n=e.input.charCodeAt(e.position+1))||r&&x(n)))return!1;for(e.kind="scalar",e.result="",i=o=e.position,s=!1;0!==l;){if(58===l){if(O(n=e.input.charCodeAt(e.position+1))||r&&x(n))break}else if(35===l){if(O(e.input.charCodeAt(e.position-1)))break}else{if(e.position===e.lineStart&&W(e)||r&&x(l))break;if(k(l)){if(a=e.line,c=e.lineStart,u=e.lineIndent,L(e,!1,-1),e.lineIndent>=t){s=!0,l=e.input.charCodeAt(e.position);continue}e.position=o,e.line=a,e.lineStart=c,e.lineIndent=u;break}}s&&(j(e,i,o,!1),U(e,e.line-a),i=o=e.position,s=!1),E(l)||(o=e.position+1),l=e.input.charCodeAt(++e.position)}return j(e,i,o,!1),!!e.result||(e.kind=p,e.result=h,!1)}(e,S,u===r)&&(I=!0,null===e.tag&&(e.tag="?")):(I=!0,null===e.tag&&null===e.anchor||N(e,"alias node should not have any properties")),null!==e.anchor&&(e.anchorMap[e.anchor]=e.result)):0===P&&(I=v&&$(e,w))),null!==e.tag&&"!"!==e.tag)if("?"===e.tag){for(null!==e.result&&"scalar"!==e.kind&&N(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),g=0,y=e.implicitTypes.length;g<y;g+=1)if((b=e.implicitTypes[g]).resolve(e.result)){e.result=b.construct(e.result),e.tag=b.tag,null!==e.anchor&&(e.anchorMap[e.anchor]=e.result);break}}else c.call(e.typeMap[e.kind||"fallback"],e.tag)?(b=e.typeMap[e.kind||"fallback"][e.tag],null!==e.result&&b.kind!==e.kind&&N(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+b.kind+'", not "'+e.kind+'"'),b.resolve(e.result)?(e.result=b.construct(e.result),null!==e.anchor&&(e.anchorMap[e.anchor]=e.result)):N(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")):N(e,"unknown tag !<"+e.tag+">");return null!==e.listener&&e.listener("close",e),null!==e.tag||null!==e.anchor||I}function V(e){var t,r,n,i,o=e.position,s=!1;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap={},e.anchorMap={};0!==(i=e.input.charCodeAt(e.position))&&(L(e,!0,-1),i=e.input.charCodeAt(e.position),!(e.lineIndent>0||37!==i));){for(s=!0,i=e.input.charCodeAt(++e.position),t=e.position;0!==i&&!O(i);)i=e.input.charCodeAt(++e.position);for(n=[],(r=e.input.slice(t,e.position)).length<1&&N(e,"directive name must not be less than one character in length");0!==i;){for(;E(i);)i=e.input.charCodeAt(++e.position);if(35===i){do{i=e.input.charCodeAt(++e.position)}while(0!==i&&!k(i));break}if(k(i))break;for(t=e.position;0!==i&&!O(i);)i=e.input.charCodeAt(++e.position);n.push(e.input.slice(t,e.position))}0!==i&&q(e),c.call(F,r)?F[r](e,r,n):D(e,'unknown document directive "'+r+'"')}L(e,!0,-1),0===e.lineIndent&&45===e.input.charCodeAt(e.position)&&45===e.input.charCodeAt(e.position+1)&&45===e.input.charCodeAt(e.position+2)?(e.position+=3,L(e,!0,-1)):s&&N(e,"directives end mark is expected"),G(e,e.lineIndent-1,h,!1,!0),L(e,!0,-1),e.checkLineBreaks&&g.test(e.input.slice(o,e.position))&&D(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&W(e)?46===e.input.charCodeAt(e.position)&&(e.position+=3,L(e,!0,-1)):e.position<e.length-1&&N(e,"end of the stream or a document separator is expected")}function Y(e,t){t=t||{},0!==(e=String(e)).length&&(10!==e.charCodeAt(e.length-1)&&13!==e.charCodeAt(e.length-1)&&(e+="\n"),65279===e.charCodeAt(0)&&(e=e.slice(1)));var r=new I(e,t),n=e.indexOf("\0");for(-1!==n&&(r.position=n,N(r,"null byte is not allowed in input")),r.input+="\0";32===r.input.charCodeAt(r.position);)r.lineIndent+=1,r.position+=1;for(;r.position<r.length-1;)V(r);return r.documents}function Q(e,t,r){null!==t&&"object"===typeof t&&"undefined"===typeof r&&(r=t,t=null);var n=Y(e,r);if("function"!==typeof t)return n;for(var i=0,o=n.length;i<o;i+=1)t(n[i])}function Z(e,t){var r=Y(e,t);if(0!==r.length){if(1===r.length)return r[0];throw new i("expected a single document in the stream, but found more")}}e.exports.loadAll=Q,e.exports.load=Z,e.exports.safeLoadAll=function(e,t,r){return"object"===typeof t&&null!==t&&"undefined"===typeof r&&(r=t,t=null),Q(e,t,n.extend({schema:s},r))},e.exports.safeLoad=function(e,t){return Z(e,n.extend({schema:s},t))}},CvZr:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createHistogram=function(e){const t=new Map;for(const r of e){const e=t.get(r);void 0!==e?t.set(r,e+1):t.set(r,1)}return t}},DfW2:function(e,t,r){"use strict";var n=r("hyoZ"),i=Object.prototype.toString;e.exports=new n("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:function(e){if(null===e)return!0;var t,r,n,o,s,a=e;for(s=new Array(a.length),t=0,r=a.length;t<r;t+=1){if(n=a[t],"[object Object]"!==i.call(n))return!1;if(1!==(o=Object.keys(n)).length)return!1;s[t]=[o[0],n[o[0]]]}return!0},construct:function(e){if(null===e)return[];var t,r,n,i,o,s=e;for(o=new Array(s.length),t=0,r=s.length;t<r;t+=1)n=s[t],i=Object.keys(n),o[t]=[i[0],n[i[0]]];return o}})},EBzq:function(e,t,r){"use strict";var n=[].slice;e.exports=function(e,t){var r;return function(){var t,s=n.call(arguments,0),a=e.length>s.length;a&&s.push(i);try{t=e.apply(null,s)}catch(c){if(a&&r)throw c;return i(c)}a||(t&&"function"===typeof t.then?t.then(o,i):t instanceof Error?i(t):o(t))};function i(){r||(r=!0,t.apply(null,arguments))}function o(e){i(null,e)}}},EQPF:function(e,t,r){"use strict";e.exports=function(e,t){return function(r){var n,i=0,o=r.indexOf("\\"),s=e[t],a=[];for(;-1!==o;)a.push(r.slice(i,o)),i=o+1,(n=r.charAt(i))&&-1!==s.indexOf(n)||a.push("\\"),o=r.indexOf("\\",i);return a.push(r.slice(i)),a.join("")}}},EZd0:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if("string"!==typeof e)throw Error("talisman/phonetics/doubleMetaphone: the given word is not a string.");var t=e.toUpperCase()+"     ",r=n.test(t.slice(0,2))?1:0,i=e.length,o=i-1,s=[],c=[],u=r;for(;!(u>i||s.length>=4&&c.length>=4);){var l=t[u],p=1;a(l)&&(u||(s.push("A"),c.push("A")));var h=v[l];if(h){var d=h(t,u,o,i),f=d[0],m=void 0===f?null:f,g=d[1],y=void 0===g?null:g,b=d[2];p=void 0===b?1:b,m&&(s=s.concat(m)),y&&(c=c.concat(y))}u+=p}return[s.join("").slice(0,4),c.join("").slice(0,4)]};var n=/^GN|KN|PN|WR|PS$/,i=/W|K|CZ|WITZ/;function o(e){return i.test(e)}var s=new Set(["A","E","I","O","U","Y"]);function a(e){return 1===e.length&&s.has(e)}var c=new Set(["HARAC","HARIS"]),u=new Set(["HOR","HYM","HIA","HEM"]),l=new Set(["VAN ","VON "]),p=new Set(["ORCHES","ARCHIT","ORCHID"]),h=new Set(["T","S"]),d=new Set(["A","O","U","E"]),f=new Set(["L","R","N","M","B","H","F","V","W"," "]),m=new Set(["CE","CI"]),v={B:function(e,t){return["P","P","B"===e.substr(t+1,1)?2:1]},CH:function(e,t){return t&&"CHAE"===e.substr(t,4)?["K","X",2]:t||!c.has(e.substr(t+1,5))&&!u.has(e.substr(t+1,3))||"CHORE"===e.substr(0,5)?l.has(e.substr(0,4))||"SCH"===e.substr(0,3)||p.has(e.substr(t-2,6))||h.has(e.substr(t+2,1))||(!t||d.has(e.substr(t-1,1)))&&f.has(e.substr(t+2,1))?["K","K",2]:t?["MC"===e.substr(0,2)?"K":"X","K",2]:["X","X",2]:["K","K",2]},CC:function(e,t){return/^I|E|H$/.test(e.substr(t+2,1))&&"HU"!==e.substr(t+2,2)?1===t&&"A"===e.substr(t-1,1)||/^UCCE(E|S)$/.test(e.substr(t-1,5))?[["K","S"],["K","S"],3]:["X","X",3]:["K","K",2]},C:function(e,t){if(t>1&&a(e.substr(t-2,1))&&"ACH"===e.substr(t-1,3)&&"I"!==e.substr(t+2,1)&&("E"!==e.substr(t+2,1)||/^(B|M)ACHER$/.test(e.substr(t-2,6))))return["K","K",2];if(!t&&"CAESAR"===e.substr(t,6))return["S","S",2];if("CHIA"===e.substr(t,4))return["K","K",2];if("CH"===e.substr(t,2))return v.CH(e,t);if("CZ"===e.substr(t,2)&&"WICZ"!==e.substr(t-2,4))return["S","X",2];if("CIA"===e.substr(t+1,3))return["X","X",3];if("CC"===e.substr(t,2)&&1!==t&&"M"!==e.substr(0,1))return v.CC(e,t);if(/^C(K|G|Q)$/.test(e.substr(t,2)))return["K","K",2];if(/^C(I|E|Y)$/.test(e.substr(t,2)))return["S",/^CI(O|E|A)$/.test(e.substr(t,3))?"X":"S",2];if(/^ (C|Q|G)$/.test(e.substr(t+1,2)))return["K","K",3];var r=1;return/^C|K|Q$/.test(e.substr(t+1,1))&&!m.has(e.substr(t+1,2))&&(r=2),["K","K",r]},"\xc7":function(){return["S","S",1]},D:function(e,t){return"DG"===e.substr(t,2)?/^I|E|Y$/.test(e.substr(t+2,1))?["J","J",3]:[["T","K"],["T","K"],2]:["T","T",/^D(T|D)$/.test(e.substr(t,2))?2:1]},F:function(e,t){return["F","F","F"===e.substr(t+1,1)?2:1]},GH:function(e,t){return t&&!a(e.substr(t-1,1))?["K","K",2]:t?t>1&&/^B|H|D$/.test(e.substr(t-2,1))||t>2&&/^B|H|D$/.test(e.substr(t-3,1))||t>3&&/^B|H$/.test(e.substr(t-4,1))?[null,null,2]:t>2&&"U"===e.substr(t-1,1)&&/^C|G|L|R|T$/.test(e.substr(t-3,1))?["F","F",2]:t&&"I"!==e.substr(t-1,1)?["K","K",2]:[null,null,2]:"I"===e.substr(t+2,1)?["J","J",2]:["K","K",2]},GN:function(e,t){return 1===t&&a(e.substr(0,1))&&!o(e)?[["K","N"],"N",2]:"EY"===e.substr(t+2,2)||"Y"===e.substr(t+1,1)||o(e)?[["K","N"],["K","N"],2]:["N",["K","N"],2]},G:function(e,t){var r=e.substr(t+1,1),n=e.substr(t+1,2);return"H"===r?v.GH(e,t):"N"===r?v.GN(e,t):"LI"!==n||o(e)?(t||"Y"!==r&&!/^(E(S|P|B|L|Y|I|R)|I(B|L|N|E))$/.test(n))&&("ER"!==n&&"Y"!==r||/^(D|R|M)ANGER$/.test(e.substr(0,6))||/^E|I$/.test(e.substr(t-1,1))||/^(R|O)GY$/.test(e.substr(t-1,3)))?/^E|I|Y$/.test(r)||/^(A|O)GGI$/.test(e.substr(t-1,4))?/^V(A|O)N /.test(e.substr(0,4))||"SCH"===e.substr(0,3)||e.substr(t+1,!1)?["K","K",2]:"IER "===e.substr(t+1,4)?["J","J",2]:["J","K",2]:["K","K","G"===r?2:1]:["K","J",2]:[["K","L"],"L",2]},H:function(e,t){return t&&!a(e.substr(t-1,1))||!a(e.substr(t+1,1))?[null,null,1]:["H","H",2]},J:function(e,t,r){if("JOSE"===e.substr(t,4)||"SAN "===e.substr(0,4))return!t&&" "===e.substr(t+4,1)||"SAN "===e.substr(0,4)?["H","H",1]:["J","H",1];var n="J"===e.substr(t+1,1)?2:1;return t||"JOSE"===e.substr(t,4)?a(e.substr(t-1,1))&&!o(e)&&/^A|O$/.test(e.substr(t+1,1))?["J","H",n]:r===t?["J",null,n]:/^L|T|K|S|N|M|B|Z$/.test(e.substr(t+1,1))||/^S|K|L$/.test(e.substr(t-1,1))?[null,null,n]:["J","J",n]:["J","A",n]},K:function(e,t){return["K","K","K"===e.substr(t+1,1)?2:1]},L:function(e,t,r,n){return"L"===e.substr(t+1,1)?t===n-3&&/^(ILL(O|A)|ALLE)$/.test(e.substr(t-1,4))||/^(A|O)S$/.test(e.substr(r-1,2)||/^A|O$/.test(e.substr(r,1)))&&"ALLE"===e.substr(t-1,4)?["L",null,2]:["L","L",2]:["L","L",1]},M:function(e,t,r){return"UMB"===e.substr(t-1,3)&&(t===r-1||"ER"===e.substr(t+2,2))||"M"===e.substr(t+1,1)?["M","M",2]:["M","M",1]},N:function(e,t){return["N","N","N"===e.substr(t+1,1)?2:1]},"\xd1":function(){return["N","N",1]},P:function(e,t){return"H"===e.substr(t+1,1)?["F","F",2]:["P","P",/^P|B$/.test(e.substr(t+1,1))?2:1]},Q:function(e,t){return["K","K","Q"===e.substr(t+1,1)?2:1]},R:function(e,t,r){var n="R"===e.substr(t+1,1)?2:1;return t!==r||o(e)||"IE"!==e.substr(t-2,2)||/^M(E|A)$/.test(e.substr(t-4,2))?["R","R",n]:[null,"R",n]},SH:function(e,t){return/^H(EIM|OEK|OLM|OLZ)$/.test(e.substr(t+1,4))?["S","S",2]:["X","X",2]},SC:function(e,t){return"H"===e.substr(t+2,1)?/^OO|ER|EN|UY|ED|EM$/.test(e.substr(t+3,2))?[/^E(R|N)$/.test(e.substr(t+3,2))?"X":["S","K"],["S","K"],3]:["X",t||a(e.substr(3,1))||"W"===e.substr(t+3,1)?"X":"S",3]:/^I|E|Y$/.test(e.substr(t+2,1))?["S","S",3]:[["S","K"],["S","K"],3]},S:function(e,t,r){return/^(I|Y)SL$/.test(e.substr(t-1,3))?[null,null,1]:t||"SUGAR"!==e.substr(t,5)?"SH"===e.substr(t,2)?v.SH(e,t):/^SI(O|A)$/.test(e.substr(t,3))||"SIAN"===e.substr(t,4)?["S",o(e)?"S":"X",3]:!t&&/^M|N|L|W$/.test(e.substr(t+1,1))||"Z"===e.substr(t+1,1)?["S","X","Z"===e.substr(t+1,1)?2:1]:"SC"===e.substr(t,2)?v.SC(e,t):[r===t&&/^(A|O)I$/.test(e.substr(t-2,2))?null:"S","S",/^S|Z$/.test(e.substr(t+1,1))?2:1]:["X","S",1]},TH:function(e,t){return/^(O|A)M$/.test(e.substr(t+2,2))||/^V(A|O)N /.test(e.substr(0,4))||"SCH"===e.substr(0,3)?["T","T",2]:["0","T",2]},T:function(e,t){return"TION"===e.substr(t,4)||/^T(IA|CH)$/.test(e.substr(t,3))?["X","X",3]:"TH"===e.substr(t,2)||"TTH"===e.substr(t,3)?v.TH(e,t):["T","T",/^T|D$/.test(e.substr(t+1,1))?2:1]},V:function(e,t){return["F","F","V"===e.substr(t+1,1)?2:1]},W:function(e,t,r){if("WR"===e.substr(t,2))return["R","R",2];var n=[],i=[];return!t&&a(e.substr(t+1,1)||"WH"===e.substr(t,2))&&(n.push("A"),i.push(a(e.substr(t+1,1))?"F":"A")),t===r&&a(e.substr(t-1,1))||"SCH"===e.substr(0,3)||/^EWSKI|EWSKY|OWSKI|OWSKY$/.test(e.substr(t-1,5))?[n,i.concat("F"),1]:/^WI(C|T)Z$/.test(e.substr(t,4))?[n.concat(["T","S"]),i.concat(["F","X"]),4]:[n,i,1]},X:function(e,t,r){if(!t)return["S","S",1];var n=/^C|X$"/.test(e.substr(t+1,1))?2:1;return t===r&&/^(I|E)AU$/.test(e.substr(t-3,3))||/^(A|O)U$/.test(e.substr(t-2,2))?[null,null,n]:[["K","S"],["K","S"],n]},Z:function(e,t){if("H"===e.substr(t+1,1))return["J","J",2];var r="Z"===e.substr(t+1,1)?2:1;return/^Z(O|I|A)$/.test(e.substr(t+1,2))||t&&o(e)&&"T"===e.substr(t-1,1)?["S",["T","S"],r]:["S","S",r]}};e.exports=t.default},"Ec2+":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("FG9h");t.QUANTITY=Symbol("QUANTITY"),t.quantityTokenFactory=function(e){return{type:t.QUANTITY,value:e.pid}},t.createQuantity=function(e){return{type:t.QUANTITY,value:e}},t.createNumber=function(e){return{type:n.NUMBERTOKEN,value:e}}},EhIR:function(e,t,r){(function(e){var n;!function(e,i,o){function s(e){var t=this,r=function(){var e=4022871197;return function(t){t=String(t);for(var r=0;r<t.length;r++){var n=.02519603282416938*(e+=t.charCodeAt(r));n-=e=n>>>0,e=(n*=e)>>>0,e+=4294967296*(n-=e)}return 2.3283064365386963e-10*(e>>>0)}}();t.next=function(){var e=2091639*t.s0+2.3283064365386963e-10*t.c;return t.s0=t.s1,t.s1=t.s2,t.s2=e-(t.c=0|e)},t.c=1,t.s0=r(" "),t.s1=r(" "),t.s2=r(" "),t.s0-=r(e),t.s0<0&&(t.s0+=1),t.s1-=r(e),t.s1<0&&(t.s1+=1),t.s2-=r(e),t.s2<0&&(t.s2+=1),r=null}function a(e,t){return t.c=e.c,t.s0=e.s0,t.s1=e.s1,t.s2=e.s2,t}function c(e,t){var r=new s(e),n=t&&t.state,i=r.next;return i.int32=function(){return 4294967296*r.next()|0},i.double=function(){return i()+11102230246251565e-32*(2097152*i()|0)},i.quick=i,n&&("object"==typeof n&&a(n,r),i.state=function(){return a(r,{})}),i}i&&i.exports?i.exports=c:r("B9Yq")&&r("PDX0")?void 0===(n=function(){return c}.call(t,r,t,i))||(i.exports=n):this.alea=c}(0,e,r("B9Yq"))}).call(this,r("YuTi")(e))},Eidx:function(e,t,r){"use strict";var n=r("IPAr");e.exports=function(e,t,r){var i,o,s,a,c=t.charAt(0);if("\n"!==c)return;if(r)return!0;a=1,i=t.length,o=c,s="";for(;a<i&&(c=t.charAt(a),n(c));)s+=c,"\n"===c&&(o+=s,s=""),a++;e(o)}},EluT:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("nNxe"),i=r("U+nO"),o=r("4WQa");function s(e,t,r,s){const a=n.createSpan(s.tokens);let c=i.nop;const u=t.cart.items;for(let n=u.length-1;n>=0;--n){const t=u[n];for(const n of o.optionTargets(e,t,r,a)){const t=n.score,r=n.tokenCount;t>c.score&&n.item&&(c={score:t,tokenCount2:r,action:t=>{const r=e.cartOps.removeFromCart(t.cart,n.item.uid);return Object.assign(Object.assign({},t),{cart:r})}})}}return c}t.processRemove=function(e,t,r,a){if(r.peek(0).type===n.PROLOGUE&&r.take(1),r.peek(0).type===n.REMOVE_ITEM&&r.take(1),!r.atEOS()){const c=r.peek(0);if(c.type===i.PRODUCT_PARTS_1||c.type===i.PRODUCT_PARTS_N){const s=c;return r.take(1),function(e,t,r,n){let s=i.nop;for(const i of o.productTargets(e,t,r,n))if(i.score>s.score){const t=i.item;s={score:i.score,tokenCount2:n.length,action:r=>{const n=e.cartOps.removeFromCart(r.cart,t.uid);return Object.assign(Object.assign({},r),{cart:n})}}}return s}(e,t,a,n.createSpan(s.tokens))}if(r.startsWith([i.PRODUCT_PARTS_0,n.PREPOSITION,i.PRODUCT_PARTS_1])){const s=r.peek(0),c=r.peek(2);return r.take(3),function(e,t,r,s,a){const c=n.createSpan(s.tokens),u=n.createSpan(a.tokens);let l=i.nop;for(const n of o.productTargets(e,t,r,u))if(n.item)for(const t of o.optionTargets(e,n.item,r,c)){const r=n.score+t.score,i=n.tokenCount+t.tokenCount;r>l.score&&t.item&&(l={score:r,tokenCount2:i,action:r=>{const n=e.cartOps.removeFromCart(r.cart,t.item.uid);return Object.assign(Object.assign({},r),{cart:n})}})}return l}(e,t,a,s,c)}if(c.type===i.PRODUCT_PARTS_0){const n=c;return r.take(1),s(e,t,a,n)}if(c.type===n.PREPOSITION)return r.take(1),function(e,t){return{score:1,tokenCount2:0,action:t=>{let r=t.cart;const n=r.items.length;if(n>0){const i=r.items[n-1];return r=e.cartOps.removeFromCart(r,i.uid),Object.assign(Object.assign({},t),{cart:r})}return t}}}(e);if(r.startsWith([n.PREPOSITION,i.PRODUCT_PARTS_0])){const n=r.peek(1);return r.take(2),s(e,t,a,n)}}return i.nop}},EmYC:function(e,t,r){"use strict";e.exports=function(e,t){var r=e.indexOf("[",t),n=e.indexOf("![",t);if(-1===n)return r;return r<n?r:n}},Esvb:function(e,t,r){"use strict";var n=r("aCXt"),i=r("+XMi");e.exports=i;var o=i.prototype;function s(e,t,r){var i=this.path,o=new n(e,t,r);return i&&(o.name=i+":"+o.name,o.file=i),o.fatal=!1,this.messages.push(o),o}o.message=s,o.info=function(){var e=this.message.apply(this,arguments);return e.fatal=null,e},o.fail=function(){var e=this.message.apply(this,arguments);throw e.fatal=!0,e},o.warn=s},ExA7:function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},"F/K6":function(e,t,r){"use strict";var n=this&&this.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&(r[n[i]]=e[n[i]])}return r};Object.defineProperty(t,"__esModule",{value:!0});const i=r("+ZBB");function o(e,t,r,n,o,s=i.GenericEquality){let a=0;for(;a<t.length&&!(a>=e.length)&&s(t[a],e[a]);)++a;let c=[];if((a===t.length||r)&&(c=t.slice(0,a)),r&&c.length<t.length){let e=c.length-1;for(;e>=0&&n(c[e]);)--e;c=c.slice(0,e+1)}const u=new Set;for(const i of c)u.add(i);return{match:c,cost:t.length-c.length,leftmostA:0===c.length?-1:0,rightmostA:c.length-1,alignments:c.length,commonTerms:u}}t.exactPrefix=o,t.exactPrefixString=function(e,t,r,i,s){const a=o([...e],[...t],r,i),{match:c}=a,u=n(a,["match"]);return Object.assign({match:c.join("")},u)},t.exactPrefixHash=function(e,t,r,n,i){return o(e,t,r,n)}},F5Co:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ACKNOWLEDGE=Symbol("ACKNOWLEDGE"),t.CHOICE=Symbol("CHOICE"),t.CLOSE=Symbol("CLOSE"),t.COMPLETE=Symbol("COMPLETE"),t.CONFUSED=Symbol("CONFUSED"),t.DONE=Symbol("DONE"),t.OK=Symbol("OK"),t.PING=Symbol("PING"),t.READBACK=Symbol("READBACK"),t.REFUSED=Symbol("REFUSED"),t.UPSELL=Symbol("UPSELL"),t.WAIT=Symbol("WAIT"),t.WELCOME=Symbol("WELCOME"),t.actionToString=function(e){let r=`UNKNOWN action ${String(e.type)}`;switch(e.type){case t.CONFUSED:r="CONFUSED";break;case t.DONE:r="DONE";break;case t.OK:r="OK";break;case t.WAIT:r="WAIT";break;case t.WELCOME:r="WELCOME"}return r}},FG9h:function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r("cNwj")),n(r("Xys+")),n(r("m5n7")),n(r("fJqP")),n(r("3B9R")),n(r("lF2U")),n(r("/Hgm")),n(r("yQjB")),n(r("GN/c"))},FGiv:function(e,t){var r=1e3,n=60*r,i=60*n,o=24*i,s=7*o,a=365.25*o;function c(e,t,r,n){var i=t>=1.5*r;return Math.round(e/r)+" "+n+(i?"s":"")}e.exports=function(e,t){t=t||{};var u=typeof e;if("string"===u&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!t)return;var c=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return c*a;case"weeks":case"week":case"w":return c*s;case"days":case"day":case"d":return c*o;case"hours":case"hour":case"hrs":case"hr":case"h":return c*i;case"minutes":case"minute":case"mins":case"min":case"m":return c*n;case"seconds":case"second":case"secs":case"sec":case"s":return c*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return c;default:return}}(e);if("number"===u&&isFinite(e))return t.long?function(e){var t=Math.abs(e);if(t>=o)return c(e,t,o,"day");if(t>=i)return c(e,t,i,"hour");if(t>=n)return c(e,t,n,"minute");if(t>=r)return c(e,t,r,"second");return e+" ms"}(e):function(e){var t=Math.abs(e);if(t>=o)return Math.round(e/o)+"d";if(t>=i)return Math.round(e/i)+"h";if(t>=n)return Math.round(e/n)+"m";if(t>=r)return Math.round(e/r)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},Fxvz:function(e,t){e.exports=["alignContent","MozAlignContent","WebkitAlignContent","MSAlignContent","OAlignContent","alignItems","MozAlignItems","WebkitAlignItems","MSAlignItems","OAlignItems","alignSelf","MozAlignSelf","WebkitAlignSelf","MSAlignSelf","OAlignSelf","all","MozAll","WebkitAll","MSAll","OAll","animation","MozAnimation","WebkitAnimation","MSAnimation","OAnimation","animationDelay","MozAnimationDelay","WebkitAnimationDelay","MSAnimationDelay","OAnimationDelay","animationDirection","MozAnimationDirection","WebkitAnimationDirection","MSAnimationDirection","OAnimationDirection","animationDuration","MozAnimationDuration","WebkitAnimationDuration","MSAnimationDuration","OAnimationDuration","animationFillMode","MozAnimationFillMode","WebkitAnimationFillMode","MSAnimationFillMode","OAnimationFillMode","animationIterationCount","MozAnimationIterationCount","WebkitAnimationIterationCount","MSAnimationIterationCount","OAnimationIterationCount","animationName","MozAnimationName","WebkitAnimationName","MSAnimationName","OAnimationName","animationPlayState","MozAnimationPlayState","WebkitAnimationPlayState","MSAnimationPlayState","OAnimationPlayState","animationTimingFunction","MozAnimationTimingFunction","WebkitAnimationTimingFunction","MSAnimationTimingFunction","OAnimationTimingFunction","backfaceVisibility","MozBackfaceVisibility","WebkitBackfaceVisibility","MSBackfaceVisibility","OBackfaceVisibility","background","MozBackground","WebkitBackground","MSBackground","OBackground","backgroundAttachment","MozBackgroundAttachment","WebkitBackgroundAttachment","MSBackgroundAttachment","OBackgroundAttachment","backgroundBlendMode","MozBackgroundBlendMode","WebkitBackgroundBlendMode","MSBackgroundBlendMode","OBackgroundBlendMode","backgroundClip","MozBackgroundClip","WebkitBackgroundClip","MSBackgroundClip","OBackgroundClip","backgroundColor","MozBackgroundColor","WebkitBackgroundColor","MSBackgroundColor","OBackgroundColor","backgroundImage","MozBackgroundImage","WebkitBackgroundImage","MSBackgroundImage","OBackgroundImage","backgroundOrigin","MozBackgroundOrigin","WebkitBackgroundOrigin","MSBackgroundOrigin","OBackgroundOrigin","backgroundPosition","MozBackgroundPosition","WebkitBackgroundPosition","MSBackgroundPosition","OBackgroundPosition","backgroundRepeat","MozBackgroundRepeat","WebkitBackgroundRepeat","MSBackgroundRepeat","OBackgroundRepeat","backgroundSize","MozBackgroundSize","WebkitBackgroundSize","MSBackgroundSize","OBackgroundSize","blockSize","MozBlockSize","WebkitBlockSize","MSBlockSize","OBlockSize","border","MozBorder","WebkitBorder","MSBorder","OBorder","borderBlockEnd","MozBorderBlockEnd","WebkitBorderBlockEnd","MSBorderBlockEnd","OBorderBlockEnd","borderBlockEndColor","MozBorderBlockEndColor","WebkitBorderBlockEndColor","MSBorderBlockEndColor","OBorderBlockEndColor","borderBlockEndStyle","MozBorderBlockEndStyle","WebkitBorderBlockEndStyle","MSBorderBlockEndStyle","OBorderBlockEndStyle","borderBlockEndWidth","MozBorderBlockEndWidth","WebkitBorderBlockEndWidth","MSBorderBlockEndWidth","OBorderBlockEndWidth","borderBlockStart","MozBorderBlockStart","WebkitBorderBlockStart","MSBorderBlockStart","OBorderBlockStart","borderBlockStartColor","MozBorderBlockStartColor","WebkitBorderBlockStartColor","MSBorderBlockStartColor","OBorderBlockStartColor","borderBlockStartStyle","MozBorderBlockStartStyle","WebkitBorderBlockStartStyle","MSBorderBlockStartStyle","OBorderBlockStartStyle","borderBlockStartWidth","MozBorderBlockStartWidth","WebkitBorderBlockStartWidth","MSBorderBlockStartWidth","OBorderBlockStartWidth","borderBottom","MozBorderBottom","WebkitBorderBottom","MSBorderBottom","OBorderBottom","borderBottomColor","MozBorderBottomColor","WebkitBorderBottomColor","MSBorderBottomColor","OBorderBottomColor","borderBottomLeftRadius","MozBorderBottomLeftRadius","WebkitBorderBottomLeftRadius","MSBorderBottomLeftRadius","OBorderBottomLeftRadius","borderBottomRightRadius","MozBorderBottomRightRadius","WebkitBorderBottomRightRadius","MSBorderBottomRightRadius","OBorderBottomRightRadius","borderBottomStyle","MozBorderBottomStyle","WebkitBorderBottomStyle","MSBorderBottomStyle","OBorderBottomStyle","borderBottomWidth","MozBorderBottomWidth","WebkitBorderBottomWidth","MSBorderBottomWidth","OBorderBottomWidth","borderCollapse","MozBorderCollapse","WebkitBorderCollapse","MSBorderCollapse","OBorderCollapse","borderColor","MozBorderColor","WebkitBorderColor","MSBorderColor","OBorderColor","borderImage","MozBorderImage","WebkitBorderImage","MSBorderImage","OBorderImage","borderImageOutset","MozBorderImageOutset","WebkitBorderImageOutset","MSBorderImageOutset","OBorderImageOutset","borderImageRepeat","MozBorderImageRepeat","WebkitBorderImageRepeat","MSBorderImageRepeat","OBorderImageRepeat","borderImageSlice","MozBorderImageSlice","WebkitBorderImageSlice","MSBorderImageSlice","OBorderImageSlice","borderImageSource","MozBorderImageSource","WebkitBorderImageSource","MSBorderImageSource","OBorderImageSource","borderImageWidth","MozBorderImageWidth","WebkitBorderImageWidth","MSBorderImageWidth","OBorderImageWidth","borderInlineEnd","MozBorderInlineEnd","WebkitBorderInlineEnd","MSBorderInlineEnd","OBorderInlineEnd","borderInlineEndColor","MozBorderInlineEndColor","WebkitBorderInlineEndColor","MSBorderInlineEndColor","OBorderInlineEndColor","borderInlineEndStyle","MozBorderInlineEndStyle","WebkitBorderInlineEndStyle","MSBorderInlineEndStyle","OBorderInlineEndStyle","borderInlineEndWidth","MozBorderInlineEndWidth","WebkitBorderInlineEndWidth","MSBorderInlineEndWidth","OBorderInlineEndWidth","borderInlineStart","MozBorderInlineStart","WebkitBorderInlineStart","MSBorderInlineStart","OBorderInlineStart","borderInlineStartColor","MozBorderInlineStartColor","WebkitBorderInlineStartColor","MSBorderInlineStartColor","OBorderInlineStartColor","borderInlineStartStyle","MozBorderInlineStartStyle","WebkitBorderInlineStartStyle","MSBorderInlineStartStyle","OBorderInlineStartStyle","borderInlineStartWidth","MozBorderInlineStartWidth","WebkitBorderInlineStartWidth","MSBorderInlineStartWidth","OBorderInlineStartWidth","borderLeft","MozBorderLeft","WebkitBorderLeft","MSBorderLeft","OBorderLeft","borderLeftColor","MozBorderLeftColor","WebkitBorderLeftColor","MSBorderLeftColor","OBorderLeftColor","borderLeftStyle","MozBorderLeftStyle","WebkitBorderLeftStyle","MSBorderLeftStyle","OBorderLeftStyle","borderLeftWidth","MozBorderLeftWidth","WebkitBorderLeftWidth","MSBorderLeftWidth","OBorderLeftWidth","borderRadius","MozBorderRadius","WebkitBorderRadius","MSBorderRadius","OBorderRadius","borderRight","MozBorderRight","WebkitBorderRight","MSBorderRight","OBorderRight","borderRightColor","MozBorderRightColor","WebkitBorderRightColor","MSBorderRightColor","OBorderRightColor","borderRightStyle","MozBorderRightStyle","WebkitBorderRightStyle","MSBorderRightStyle","OBorderRightStyle","borderRightWidth","MozBorderRightWidth","WebkitBorderRightWidth","MSBorderRightWidth","OBorderRightWidth","borderSpacing","MozBorderSpacing","WebkitBorderSpacing","MSBorderSpacing","OBorderSpacing","borderStyle","MozBorderStyle","WebkitBorderStyle","MSBorderStyle","OBorderStyle","borderTop","MozBorderTop","WebkitBorderTop","MSBorderTop","OBorderTop","borderTopColor","MozBorderTopColor","WebkitBorderTopColor","MSBorderTopColor","OBorderTopColor","borderTopLeftRadius","MozBorderTopLeftRadius","WebkitBorderTopLeftRadius","MSBorderTopLeftRadius","OBorderTopLeftRadius","borderTopRightRadius","MozBorderTopRightRadius","WebkitBorderTopRightRadius","MSBorderTopRightRadius","OBorderTopRightRadius","borderTopStyle","MozBorderTopStyle","WebkitBorderTopStyle","MSBorderTopStyle","OBorderTopStyle","borderTopWidth","MozBorderTopWidth","WebkitBorderTopWidth","MSBorderTopWidth","OBorderTopWidth","borderWidth","MozBorderWidth","WebkitBorderWidth","MSBorderWidth","OBorderWidth","bottom","MozBottom","WebkitBottom","MSBottom","OBottom","boxDecorationBreak","MozBoxDecorationBreak","WebkitBoxDecorationBreak","MSBoxDecorationBreak","OBoxDecorationBreak","boxShadow","MozBoxShadow","WebkitBoxShadow","MSBoxShadow","OBoxShadow","boxSizing","MozBoxSizing","WebkitBoxSizing","MSBoxSizing","OBoxSizing","breakAfter","MozBreakAfter","WebkitBreakAfter","MSBreakAfter","OBreakAfter","breakBefore","MozBreakBefore","WebkitBreakBefore","MSBreakBefore","OBreakBefore","breakInside","MozBreakInside","WebkitBreakInside","MSBreakInside","OBreakInside","captionSide","MozCaptionSide","WebkitCaptionSide","MSCaptionSide","OCaptionSide","caretColor","MozCaretColor","WebkitCaretColor","MSCaretColor","OCaretColor","ch","MozCh","WebkitCh","MSCh","OCh","clear","MozClear","WebkitClear","MSClear","OClear","clip","MozClip","WebkitClip","MSClip","OClip","clipPath","MozClipPath","WebkitClipPath","MSClipPath","OClipPath","cm","MozCm","WebkitCm","MSCm","OCm","color","MozColor","WebkitColor","MSColor","OColor","columnCount","MozColumnCount","WebkitColumnCount","MSColumnCount","OColumnCount","columnFill","MozColumnFill","WebkitColumnFill","MSColumnFill","OColumnFill","columnGap","MozColumnGap","WebkitColumnGap","MSColumnGap","OColumnGap","columnRule","MozColumnRule","WebkitColumnRule","MSColumnRule","OColumnRule","columnRuleColor","MozColumnRuleColor","WebkitColumnRuleColor","MSColumnRuleColor","OColumnRuleColor","columnRuleStyle","MozColumnRuleStyle","WebkitColumnRuleStyle","MSColumnRuleStyle","OColumnRuleStyle","columnRuleWidth","MozColumnRuleWidth","WebkitColumnRuleWidth","MSColumnRuleWidth","OColumnRuleWidth","columnSpan","MozColumnSpan","WebkitColumnSpan","MSColumnSpan","OColumnSpan","columnWidth","MozColumnWidth","WebkitColumnWidth","MSColumnWidth","OColumnWidth","columns","MozColumns","WebkitColumns","MSColumns","OColumns","content","MozContent","WebkitContent","MSContent","OContent","counterIncrement","MozCounterIncrement","WebkitCounterIncrement","MSCounterIncrement","OCounterIncrement","counterReset","MozCounterReset","WebkitCounterReset","MSCounterReset","OCounterReset","cursor","MozCursor","WebkitCursor","MSCursor","OCursor","deg","MozDeg","WebkitDeg","MSDeg","ODeg","direction","MozDirection","WebkitDirection","MSDirection","ODirection","display","MozDisplay","WebkitDisplay","MSDisplay","ODisplay","dpcm","MozDpcm","WebkitDpcm","MSDpcm","ODpcm","dpi","MozDpi","WebkitDpi","MSDpi","ODpi","dppx","MozDppx","WebkitDppx","MSDppx","ODppx","em","MozEm","WebkitEm","MSEm","OEm","emptyCells","MozEmptyCells","WebkitEmptyCells","MSEmptyCells","OEmptyCells","ex","MozEx","WebkitEx","MSEx","OEx","filter","MozFilter","WebkitFilter","MSFilter","OFilter","flexBasis","MozFlexBasis","WebkitFlexBasis","MSFlexBasis","OFlexBasis","flexDirection","MozFlexDirection","WebkitFlexDirection","MSFlexDirection","OFlexDirection","flexFlow","MozFlexFlow","WebkitFlexFlow","MSFlexFlow","OFlexFlow","flexGrow","MozFlexGrow","WebkitFlexGrow","MSFlexGrow","OFlexGrow","flexShrink","MozFlexShrink","WebkitFlexShrink","MSFlexShrink","OFlexShrink","flexWrap","MozFlexWrap","WebkitFlexWrap","MSFlexWrap","OFlexWrap","float","MozFloat","WebkitFloat","MSFloat","OFloat","font","MozFont","WebkitFont","MSFont","OFont","fontFamily","MozFontFamily","WebkitFontFamily","MSFontFamily","OFontFamily","fontFeatureSettings","MozFontFeatureSettings","WebkitFontFeatureSettings","MSFontFeatureSettings","OFontFeatureSettings","fontKerning","MozFontKerning","WebkitFontKerning","MSFontKerning","OFontKerning","fontLanguageOverride","MozFontLanguageOverride","WebkitFontLanguageOverride","MSFontLanguageOverride","OFontLanguageOverride","fontSize","MozFontSize","WebkitFontSize","MSFontSize","OFontSize","fontSizeAdjust","MozFontSizeAdjust","WebkitFontSizeAdjust","MSFontSizeAdjust","OFontSizeAdjust","fontStretch","MozFontStretch","WebkitFontStretch","MSFontStretch","OFontStretch","fontStyle","MozFontStyle","WebkitFontStyle","MSFontStyle","OFontStyle","fontSynthesis","MozFontSynthesis","WebkitFontSynthesis","MSFontSynthesis","OFontSynthesis","fontVariant","MozFontVariant","WebkitFontVariant","MSFontVariant","OFontVariant","fontVariantAlternates","MozFontVariantAlternates","WebkitFontVariantAlternates","MSFontVariantAlternates","OFontVariantAlternates","fontVariantCaps","MozFontVariantCaps","WebkitFontVariantCaps","MSFontVariantCaps","OFontVariantCaps","fontVariantEastAsian","MozFontVariantEastAsian","WebkitFontVariantEastAsian","MSFontVariantEastAsian","OFontVariantEastAsian","fontVariantLigatures","MozFontVariantLigatures","WebkitFontVariantLigatures","MSFontVariantLigatures","OFontVariantLigatures","fontVariantNumeric","MozFontVariantNumeric","WebkitFontVariantNumeric","MSFontVariantNumeric","OFontVariantNumeric","fontVariantPosition","MozFontVariantPosition","WebkitFontVariantPosition","MSFontVariantPosition","OFontVariantPosition","fontWeight","MozFontWeight","WebkitFontWeight","MSFontWeight","OFontWeight","fr","MozFr","WebkitFr","MSFr","OFr","grad","MozGrad","WebkitGrad","MSGrad","OGrad","grid","MozGrid","WebkitGrid","MSGrid","OGrid","gridArea","MozGridArea","WebkitGridArea","MSGridArea","OGridArea","gridAutoColumns","MozGridAutoColumns","WebkitGridAutoColumns","MSGridAutoColumns","OGridAutoColumns","gridAutoFlow","MozGridAutoFlow","WebkitGridAutoFlow","MSGridAutoFlow","OGridAutoFlow","gridAutoRows","MozGridAutoRows","WebkitGridAutoRows","MSGridAutoRows","OGridAutoRows","gridColumn","MozGridColumn","WebkitGridColumn","MSGridColumn","OGridColumn","gridColumnEnd","MozGridColumnEnd","WebkitGridColumnEnd","MSGridColumnEnd","OGridColumnEnd","gridColumnGap","MozGridColumnGap","WebkitGridColumnGap","MSGridColumnGap","OGridColumnGap","gridColumnStart","MozGridColumnStart","WebkitGridColumnStart","MSGridColumnStart","OGridColumnStart","gridGap","MozGridGap","WebkitGridGap","MSGridGap","OGridGap","gridRow","MozGridRow","WebkitGridRow","MSGridRow","OGridRow","gridRowEnd","MozGridRowEnd","WebkitGridRowEnd","MSGridRowEnd","OGridRowEnd","gridRowGap","MozGridRowGap","WebkitGridRowGap","MSGridRowGap","OGridRowGap","gridRowStart","MozGridRowStart","WebkitGridRowStart","MSGridRowStart","OGridRowStart","gridTemplate","MozGridTemplate","WebkitGridTemplate","MSGridTemplate","OGridTemplate","gridTemplateAreas","MozGridTemplateAreas","WebkitGridTemplateAreas","MSGridTemplateAreas","OGridTemplateAreas","gridTemplateColumns","MozGridTemplateColumns","WebkitGridTemplateColumns","MSGridTemplateColumns","OGridTemplateColumns","gridTemplateRows","MozGridTemplateRows","WebkitGridTemplateRows","MSGridTemplateRows","OGridTemplateRows","height","MozHeight","WebkitHeight","MSHeight","OHeight","hyphens","MozHyphens","WebkitHyphens","MSHyphens","OHyphens","hz","MozHz","WebkitHz","MSHz","OHz","imageOrientation","MozImageOrientation","WebkitImageOrientation","MSImageOrientation","OImageOrientation","imageRendering","MozImageRendering","WebkitImageRendering","MSImageRendering","OImageRendering","imageResolution","MozImageResolution","WebkitImageResolution","MSImageResolution","OImageResolution","imeMode","MozImeMode","WebkitImeMode","MSImeMode","OImeMode","in","MozIn","WebkitIn","MSIn","OIn","inherit","MozInherit","WebkitInherit","MSInherit","OInherit","initial","MozInitial","WebkitInitial","MSInitial","OInitial","inlineSize","MozInlineSize","WebkitInlineSize","MSInlineSize","OInlineSize","isolation","MozIsolation","WebkitIsolation","MSIsolation","OIsolation","justifyContent","MozJustifyContent","WebkitJustifyContent","MSJustifyContent","OJustifyContent","khz","MozKhz","WebkitKhz","MSKhz","OKhz","left","MozLeft","WebkitLeft","MSLeft","OLeft","letterSpacing","MozLetterSpacing","WebkitLetterSpacing","MSLetterSpacing","OLetterSpacing","lineBreak","MozLineBreak","WebkitLineBreak","MSLineBreak","OLineBreak","lineHeight","MozLineHeight","WebkitLineHeight","MSLineHeight","OLineHeight","listStyle","MozListStyle","WebkitListStyle","MSListStyle","OListStyle","listStyleImage","MozListStyleImage","WebkitListStyleImage","MSListStyleImage","OListStyleImage","listStylePosition","MozListStylePosition","WebkitListStylePosition","MSListStylePosition","OListStylePosition","listStyleType","MozListStyleType","WebkitListStyleType","MSListStyleType","OListStyleType","margin","MozMargin","WebkitMargin","MSMargin","OMargin","marginBlockEnd","MozMarginBlockEnd","WebkitMarginBlockEnd","MSMarginBlockEnd","OMarginBlockEnd","marginBlockStart","MozMarginBlockStart","WebkitMarginBlockStart","MSMarginBlockStart","OMarginBlockStart","marginBottom","MozMarginBottom","WebkitMarginBottom","MSMarginBottom","OMarginBottom","marginInlineEnd","MozMarginInlineEnd","WebkitMarginInlineEnd","MSMarginInlineEnd","OMarginInlineEnd","marginInlineStart","MozMarginInlineStart","WebkitMarginInlineStart","MSMarginInlineStart","OMarginInlineStart","marginLeft","MozMarginLeft","WebkitMarginLeft","MSMarginLeft","OMarginLeft","marginRight","MozMarginRight","WebkitMarginRight","MSMarginRight","OMarginRight","marginTop","MozMarginTop","WebkitMarginTop","MSMarginTop","OMarginTop","mask","MozMask","WebkitMask","MSMask","OMask","maskClip","MozMaskClip","WebkitMaskClip","MSMaskClip","OMaskClip","maskComposite","MozMaskComposite","WebkitMaskComposite","MSMaskComposite","OMaskComposite","maskImage","MozMaskImage","WebkitMaskImage","MSMaskImage","OMaskImage","maskMode","MozMaskMode","WebkitMaskMode","MSMaskMode","OMaskMode","maskOrigin","MozMaskOrigin","WebkitMaskOrigin","MSMaskOrigin","OMaskOrigin","maskPosition","MozMaskPosition","WebkitMaskPosition","MSMaskPosition","OMaskPosition","maskRepeat","MozMaskRepeat","WebkitMaskRepeat","MSMaskRepeat","OMaskRepeat","maskSize","MozMaskSize","WebkitMaskSize","MSMaskSize","OMaskSize","maskType","MozMaskType","WebkitMaskType","MSMaskType","OMaskType","maxHeight","MozMaxHeight","WebkitMaxHeight","MSMaxHeight","OMaxHeight","maxWidth","MozMaxWidth","WebkitMaxWidth","MSMaxWidth","OMaxWidth","minBlockSize","MozMinBlockSize","WebkitMinBlockSize","MSMinBlockSize","OMinBlockSize","minHeight","MozMinHeight","WebkitMinHeight","MSMinHeight","OMinHeight","minInlineSize","MozMinInlineSize","WebkitMinInlineSize","MSMinInlineSize","OMinInlineSize","minWidth","MozMinWidth","WebkitMinWidth","MSMinWidth","OMinWidth","mixBlendMode","MozMixBlendMode","WebkitMixBlendMode","MSMixBlendMode","OMixBlendMode","mm","MozMm","WebkitMm","MSMm","OMm","ms","MozMs","WebkitMs","MSMs","OMs","objectFit","MozObjectFit","WebkitObjectFit","MSObjectFit","OObjectFit","objectPosition","MozObjectPosition","WebkitObjectPosition","MSObjectPosition","OObjectPosition","offsetBlockEnd","MozOffsetBlockEnd","WebkitOffsetBlockEnd","MSOffsetBlockEnd","OOffsetBlockEnd","offsetBlockStart","MozOffsetBlockStart","WebkitOffsetBlockStart","MSOffsetBlockStart","OOffsetBlockStart","offsetInlineEnd","MozOffsetInlineEnd","WebkitOffsetInlineEnd","MSOffsetInlineEnd","OOffsetInlineEnd","offsetInlineStart","MozOffsetInlineStart","WebkitOffsetInlineStart","MSOffsetInlineStart","OOffsetInlineStart","opacity","MozOpacity","WebkitOpacity","MSOpacity","OOpacity","order","MozOrder","WebkitOrder","MSOrder","OOrder","orphans","MozOrphans","WebkitOrphans","MSOrphans","OOrphans","outline","MozOutline","WebkitOutline","MSOutline","OOutline","outlineColor","MozOutlineColor","WebkitOutlineColor","MSOutlineColor","OOutlineColor","outlineOffset","MozOutlineOffset","WebkitOutlineOffset","MSOutlineOffset","OOutlineOffset","outlineStyle","MozOutlineStyle","WebkitOutlineStyle","MSOutlineStyle","OOutlineStyle","outlineWidth","MozOutlineWidth","WebkitOutlineWidth","MSOutlineWidth","OOutlineWidth","overflow","MozOverflow","WebkitOverflow","MSOverflow","OOverflow","overflowWrap","MozOverflowWrap","WebkitOverflowWrap","MSOverflowWrap","OOverflowWrap","overflowX","MozOverflowX","WebkitOverflowX","MSOverflowX","OOverflowX","overflowY","MozOverflowY","WebkitOverflowY","MSOverflowY","OOverflowY","padding","MozPadding","WebkitPadding","MSPadding","OPadding","paddingBlockEnd","MozPaddingBlockEnd","WebkitPaddingBlockEnd","MSPaddingBlockEnd","OPaddingBlockEnd","paddingBlockStart","MozPaddingBlockStart","WebkitPaddingBlockStart","MSPaddingBlockStart","OPaddingBlockStart","paddingBottom","MozPaddingBottom","WebkitPaddingBottom","MSPaddingBottom","OPaddingBottom","paddingInlineEnd","MozPaddingInlineEnd","WebkitPaddingInlineEnd","MSPaddingInlineEnd","OPaddingInlineEnd","paddingInlineStart","MozPaddingInlineStart","WebkitPaddingInlineStart","MSPaddingInlineStart","OPaddingInlineStart","paddingLeft","MozPaddingLeft","WebkitPaddingLeft","MSPaddingLeft","OPaddingLeft","paddingRight","MozPaddingRight","WebkitPaddingRight","MSPaddingRight","OPaddingRight","paddingTop","MozPaddingTop","WebkitPaddingTop","MSPaddingTop","OPaddingTop","pageBreakAfter","MozPageBreakAfter","WebkitPageBreakAfter","MSPageBreakAfter","OPageBreakAfter","pageBreakBefore","MozPageBreakBefore","WebkitPageBreakBefore","MSPageBreakBefore","OPageBreakBefore","pageBreakInside","MozPageBreakInside","WebkitPageBreakInside","MSPageBreakInside","OPageBreakInside","pc","MozPc","WebkitPc","MSPc","OPc","perspective","MozPerspective","WebkitPerspective","MSPerspective","OPerspective","perspectiveOrigin","MozPerspectiveOrigin","WebkitPerspectiveOrigin","MSPerspectiveOrigin","OPerspectiveOrigin","pointerEvents","MozPointerEvents","WebkitPointerEvents","MSPointerEvents","OPointerEvents","position","MozPosition","WebkitPosition","MSPosition","OPosition","pt","MozPt","WebkitPt","MSPt","OPt","px","MozPx","WebkitPx","MSPx","OPx","q","MozQ","WebkitQ","MSQ","OQ","quotes","MozQuotes","WebkitQuotes","MSQuotes","OQuotes","rad","MozRad","WebkitRad","MSRad","ORad","rem","MozRem","WebkitRem","MSRem","ORem","resize","MozResize","WebkitResize","MSResize","OResize","revert","MozRevert","WebkitRevert","MSRevert","ORevert","right","MozRight","WebkitRight","MSRight","ORight","rubyAlign","MozRubyAlign","WebkitRubyAlign","MSRubyAlign","ORubyAlign","rubyMerge","MozRubyMerge","WebkitRubyMerge","MSRubyMerge","ORubyMerge","rubyPosition","MozRubyPosition","WebkitRubyPosition","MSRubyPosition","ORubyPosition","s","MozS","WebkitS","MSS","OS","scrollBehavior","MozScrollBehavior","WebkitScrollBehavior","MSScrollBehavior","OScrollBehavior","scrollSnapCoordinate","MozScrollSnapCoordinate","WebkitScrollSnapCoordinate","MSScrollSnapCoordinate","OScrollSnapCoordinate","scrollSnapDestination","MozScrollSnapDestination","WebkitScrollSnapDestination","MSScrollSnapDestination","OScrollSnapDestination","scrollSnapType","MozScrollSnapType","WebkitScrollSnapType","MSScrollSnapType","OScrollSnapType","shapeImageThreshold","MozShapeImageThreshold","WebkitShapeImageThreshold","MSShapeImageThreshold","OShapeImageThreshold","shapeMargin","MozShapeMargin","WebkitShapeMargin","MSShapeMargin","OShapeMargin","shapeOutside","MozShapeOutside","WebkitShapeOutside","MSShapeOutside","OShapeOutside","tabSize","MozTabSize","WebkitTabSize","MSTabSize","OTabSize","tableLayout","MozTableLayout","WebkitTableLayout","MSTableLayout","OTableLayout","textAlign","MozTextAlign","WebkitTextAlign","MSTextAlign","OTextAlign","textAlignLast","MozTextAlignLast","WebkitTextAlignLast","MSTextAlignLast","OTextAlignLast","textCombineUpright","MozTextCombineUpright","WebkitTextCombineUpright","MSTextCombineUpright","OTextCombineUpright","textDecoration","MozTextDecoration","WebkitTextDecoration","MSTextDecoration","OTextDecoration","textDecorationColor","MozTextDecorationColor","WebkitTextDecorationColor","MSTextDecorationColor","OTextDecorationColor","textDecorationLine","MozTextDecorationLine","WebkitTextDecorationLine","MSTextDecorationLine","OTextDecorationLine","textDecorationStyle","MozTextDecorationStyle","WebkitTextDecorationStyle","MSTextDecorationStyle","OTextDecorationStyle","textEmphasis","MozTextEmphasis","WebkitTextEmphasis","MSTextEmphasis","OTextEmphasis","textEmphasisColor","MozTextEmphasisColor","WebkitTextEmphasisColor","MSTextEmphasisColor","OTextEmphasisColor","textEmphasisPosition","MozTextEmphasisPosition","WebkitTextEmphasisPosition","MSTextEmphasisPosition","OTextEmphasisPosition","textEmphasisStyle","MozTextEmphasisStyle","WebkitTextEmphasisStyle","MSTextEmphasisStyle","OTextEmphasisStyle","textIndent","MozTextIndent","WebkitTextIndent","MSTextIndent","OTextIndent","textOrientation","MozTextOrientation","WebkitTextOrientation","MSTextOrientation","OTextOrientation","textOverflow","MozTextOverflow","WebkitTextOverflow","MSTextOverflow","OTextOverflow","textRendering","MozTextRendering","WebkitTextRendering","MSTextRendering","OTextRendering","textShadow","MozTextShadow","WebkitTextShadow","MSTextShadow","OTextShadow","textTransform","MozTextTransform","WebkitTextTransform","MSTextTransform","OTextTransform","textUnderlinePosition","MozTextUnderlinePosition","WebkitTextUnderlinePosition","MSTextUnderlinePosition","OTextUnderlinePosition","top","MozTop","WebkitTop","MSTop","OTop","touchAction","MozTouchAction","WebkitTouchAction","MSTouchAction","OTouchAction","transform","MozTransform","WebkitTransform","msTransform","OTransform","transformBox","MozTransformBox","WebkitTransformBox","MSTransformBox","OTransformBox","transformOrigin","MozTransformOrigin","WebkitTransformOrigin","MSTransformOrigin","OTransformOrigin","transformStyle","MozTransformStyle","WebkitTransformStyle","MSTransformStyle","OTransformStyle","transition","MozTransition","WebkitTransition","MSTransition","OTransition","transitionDelay","MozTransitionDelay","WebkitTransitionDelay","MSTransitionDelay","OTransitionDelay","transitionDuration","MozTransitionDuration","WebkitTransitionDuration","MSTransitionDuration","OTransitionDuration","transitionProperty","MozTransitionProperty","WebkitTransitionProperty","MSTransitionProperty","OTransitionProperty","transitionTimingFunction","MozTransitionTimingFunction","WebkitTransitionTimingFunction","MSTransitionTimingFunction","OTransitionTimingFunction","turn","MozTurn","WebkitTurn","MSTurn","OTurn","unicodeBidi","MozUnicodeBidi","WebkitUnicodeBidi","MSUnicodeBidi","OUnicodeBidi","unset","MozUnset","WebkitUnset","MSUnset","OUnset","verticalAlign","MozVerticalAlign","WebkitVerticalAlign","MSVerticalAlign","OVerticalAlign","vh","MozVh","WebkitVh","MSVh","OVh","visibility","MozVisibility","WebkitVisibility","MSVisibility","OVisibility","vmax","MozVmax","WebkitVmax","MSVmax","OVmax","vmin","MozVmin","WebkitVmin","MSVmin","OVmin","vw","MozVw","WebkitVw","MSVw","OVw","whiteSpace","MozWhiteSpace","WebkitWhiteSpace","MSWhiteSpace","OWhiteSpace","widows","MozWidows","WebkitWidows","MSWidows","OWidows","width","MozWidth","WebkitWidth","MSWidth","OWidth","willChange","MozWillChange","WebkitWillChange","MSWillChange","OWillChange","wordBreak","MozWordBreak","WebkitWordBreak","MSWordBreak","OWordBreak","wordSpacing","MozWordSpacing","WebkitWordSpacing","MSWordSpacing","OWordSpacing","wordWrap","MozWordWrap","WebkitWordWrap","MSWordWrap","OWordWrap","writingMode","MozWritingMode","WebkitWritingMode","MSWritingMode","OWritingMode","zIndex","MozZIndex","WebkitZIndex","MSZIndex","OZIndex","fontSize","MozFontSize","WebkitFontSize","MSFontSize","OFontSize","flex","MozFlex","WebkitFlex","MSFlex","OFlex","fr","MozFr","WebkitFr","MSFr","OFr","overflowScrolling","MozOverflowScrolling","WebkitOverflowScrolling","MSOverflowScrolling","OOverflowScrolling","userSelect","MozUserSelect","WebkitUserSelect","MSUserSelect","OUserSelect"]},"GN/c":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("an+f");t.Logger=n.Logger;var i=r("oXoU");t.PeekableSequence=i.PeekableSequence},Gd76:function(e,t){e.exports=function(e,t,r,n){var i=new Blob("undefined"!==typeof n?[n,e]:[e],{type:r||"application/octet-stream"});if("undefined"!==typeof window.navigator.msSaveBlob)window.navigator.msSaveBlob(i,t);else{var o=window.URL&&window.URL.createObjectURL?window.URL.createObjectURL(i):window.webkitURL.createObjectURL(i),s=document.createElement("a");s.style.display="none",s.href=o,s.setAttribute("download",t),"undefined"===typeof s.download&&s.setAttribute("target","_blank"),document.body.appendChild(s),s.click(),setTimeout((function(){document.body.removeChild(s),window.URL.revokeObjectURL(o)}),200)}}},Gdbo:function(e,t,r){"use strict";e.exports=function(e){if(e)throw e}},Gg6i:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NUMBERTOKEN=Symbol("NUMBERTOKEN"),t.UNKNOWNTOKEN=Symbol("UNKNOWNTOKEN"),t.theUnknownToken={type:t.UNKNOWNTOKEN}},GhNO:function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r("ii1B")),n(r("PawY")),n(r("ypJK")),n(r("Hmso")),n(r("oe+u")),n(r("6hyt")),n(r("WuYN"))},Gq3L:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("FG9h"),i=r("fgBx");t.FuzzyTextMatcher=class{constructor(e){this.lexicon=new n.Lexicon;this.tokenizer=new n.Tokenizer(this.lexicon.termModel,this.lexicon.numberParser,!1),this.lexicon.addDomain(function*(e){for(const t of e){const e={type:o,id:t.id},r=i.matcherFromExpression(t.pattern),s=i.patternFromExpression(t.pattern);for(const t of n.generateAliases(s))yield{token:e,text:t,matcher:r}}}(e)),this.lexicon.ingest(this.tokenizer)}matches(e){const t=this.lexicon.termModel.breakWords(e).map(this.lexicon.termModel.stem),r=t.map(this.lexicon.termModel.hashTerm),n=this.tokenizer.generateGraph(r,t),i=new Map;for(const a of n.edgeLists)for(const e of a){const t=e.token;if(t.type===o&&e.score>0){const r={id:t.id,score:e.score},n=i.get(r.id);(!n||r.score>n.score)&&i.set(r.id,r)}}const s=[];for(const[o,a]of i.entries())s.push(a);return s.sort((e,t)=>t.score-e.score)}};const o=Symbol("FUZZY")},Gqj6:function(e,t,r){"use strict";var n=r("3GlI");e.exports=function(e,t,r){var p,h,d,f,m,v,g,y,b,S,w,k=this.options,E=t.length+1,O=0,x="";if(!k.gfm)return;for(;O<E&&((d=t.charAt(O))===s||d===o);)x+=d,O++;if(S=O,(d=t.charAt(O))!==a&&d!==c)return;O++,h=d,p=1,x+=d;for(;O<E&&(d=t.charAt(O))===h;)x+=d,p++,O++;if(p<u)return;for(;O<E&&((d=t.charAt(O))===s||d===o);)x+=d,O++;f="",m="";for(;O<E&&(d=t.charAt(O))!==i&&d!==a&&d!==c;)d===s||d===o?m+=d:(f+=m+d,m=""),O++;if((d=t.charAt(O))&&d!==i)return;if(r)return!0;(w=e.now()).column+=x.length,w.offset+=x.length,x+=f,f=this.decode.raw(this.unescape(f),w),m&&(x+=m);m="",y="",b="",v="",g="";for(;O<E;)if(d=t.charAt(O),v+=y,g+=b,y="",b="",d===i){for(v?(y+=d,b+=d):x+=d,m="",O++;O<E&&(d=t.charAt(O))===s;)m+=d,O++;if(y+=m,b+=m.slice(S),!(m.length>=l)){for(m="";O<E&&(d=t.charAt(O))===h;)m+=d,O++;if(y+=m,b+=m,!(m.length<p)){for(m="";O<E&&((d=t.charAt(O))===s||d===o);)y+=d,b+=d,O++;if(!d||d===i)break}}}else v+=d,b+=d,O++;return e(x+=v+y)({type:"code",lang:f||null,value:n(g)})};var i="\n",o="\t",s=" ",a="~",c="`",u=3,l=4},Gtft:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("8Gqj");class i{constructor(e){this.score=-1,this.back=new n.Map2D,this.id=e}addTopScoringBackLink(e,t){const r=e.score+t.score;r>this.score?(this.score=r,this.back=new n.Map2D,this.back.set(e,t.token,t)):r===this.score&&this.back.set(e,t.token,t)}addBackLink(e,t){this.score=1,this.back.set(e,t.token,t)}}function*o(e,t){if(e.back.isEmpty())yield[...t];else for(const[r,n]of e.back.entries)for(const e of n.values())t.unshift(e),yield*o(r,t),t.shift()}t.allPaths=function*(e){const t=[];for(let r=0;r<=e.length;++r)t.push(new i(r));t[0].score=0;for(let r=0;r<e.length;++r){const n=t[r];if(n.score>=0){const i=e[r];for(const e of i){const i=e.length+r;if(i<t.length){t[i].addBackLink(n,e)}}}}yield*o(t[t.length-1],[])},t.maximalPaths=function*(e){const t=[];for(let r=0;r<=e.length;++r)t.push(new i(r));t[0].score=0;for(let r=0;r<e.length;++r){const n=t[r];if(n.score>=0){const i=e[r];for(const e of i){t[e.length+r].addTopScoringBackLink(n,e)}}}yield*o(t[t.length-1],[])}},H7XF:function(e,t,r){"use strict";t.byteLength=function(e){var t=u(e),r=t[0],n=t[1];return 3*(r+n)/4-n},t.toByteArray=function(e){var t,r,n=u(e),s=n[0],a=n[1],c=new o(function(e,t,r){return 3*(t+r)/4-r}(0,s,a)),l=0,p=a>0?s-4:s;for(r=0;r<p;r+=4)t=i[e.charCodeAt(r)]<<18|i[e.charCodeAt(r+1)]<<12|i[e.charCodeAt(r+2)]<<6|i[e.charCodeAt(r+3)],c[l++]=t>>16&255,c[l++]=t>>8&255,c[l++]=255&t;2===a&&(t=i[e.charCodeAt(r)]<<2|i[e.charCodeAt(r+1)]>>4,c[l++]=255&t);1===a&&(t=i[e.charCodeAt(r)]<<10|i[e.charCodeAt(r+1)]<<4|i[e.charCodeAt(r+2)]>>2,c[l++]=t>>8&255,c[l++]=255&t);return c},t.fromByteArray=function(e){for(var t,r=e.length,i=r%3,o=[],s=0,a=r-i;s<a;s+=16383)o.push(l(e,s,s+16383>a?a:s+16383));1===i?(t=e[r-1],o.push(n[t>>2]+n[t<<4&63]+"==")):2===i&&(t=(e[r-2]<<8)+e[r-1],o.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return o.join("")};for(var n=[],i=[],o="undefined"!==typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,c=s.length;a<c;++a)n[a]=s[a],i[s.charCodeAt(a)]=a;function u(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function l(e,t,r){for(var i,o,s=[],a=t;a<r;a+=3)i=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),s.push(n[(o=i)>>18&63]+n[o>>12&63]+n[o>>6&63]+n[63&o]);return s.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},HAeW:function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r("CEH9")),n(r("MhFN")),n(r("/av6"))},HRR4:function(e,t,r){"use strict";var n=r("IPAr"),i=r("kaWx");e.exports=y,y.notInList=!0,y.notInBlock=!0;var o='"',s="'",a="\\",c="\n",u="\t",l=" ",p="[",h="]",d="(",f=")",m=":",v="<",g=">";function y(e,t,r){for(var n,g,y,w,k,E,O,x,C=this.options.commonmark,P=0,T=t.length,R="";P<T&&((w=t.charAt(P))===l||w===u);)R+=w,P++;if((w=t.charAt(P))===p){for(P++,R+=w,y="";P<T&&(w=t.charAt(P))!==h;)w===a&&(y+=w,P++,w=t.charAt(P)),y+=w,P++;if(y&&t.charAt(P)===h&&t.charAt(P+1)===m){for(E=y,P=(R+=y+h+m).length,y="";P<T&&((w=t.charAt(P))===u||w===l||w===c);)R+=w,P++;if(y="",n=R,(w=t.charAt(P))===v){for(P++;P<T&&b(w=t.charAt(P));)y+=w,P++;if((w=t.charAt(P))===b.delimiter)R+=v+y+w,P++;else{if(C)return;P-=y.length+1,y=""}}if(!y){for(;P<T&&S(w=t.charAt(P));)y+=w,P++;R+=y}if(y){for(O=y,y="";P<T&&((w=t.charAt(P))===u||w===l||w===c);)y+=w,P++;if(k=null,(w=t.charAt(P))===o?k=o:w===s?k=s:w===d&&(k=f),k){if(!y)return;for(P=(R+=y+w).length,y="";P<T&&(w=t.charAt(P))!==k;){if(w===c){if(P++,(w=t.charAt(P))===c||w===k)return;y+=c}y+=w,P++}if((w=t.charAt(P))!==k)return;g=R,R+=y+w,P++,x=y,y=""}else y="",P=R.length;for(;P<T&&((w=t.charAt(P))===u||w===l);)R+=w,P++;return(w=t.charAt(P))&&w!==c?void 0:!!r||(n=e(n).test().end,O=this.decode.raw(this.unescape(O),n,{nonTerminated:!1}),x&&(g=e(g).test().end,x=this.decode.raw(this.unescape(x),g)),e(R)({type:"definition",identifier:i(E),title:x||null,url:O}))}}}}function b(e){return e!==g&&e!==p&&e!==h}function S(e){return e!==p&&e!==h&&!n(e)}b.delimiter=g},HUeH:function(e,t,r){"use strict";var n=r("ClZL"),i=r("XP29");function o(e){return function(){throw new Error("Function "+e+" is deprecated and cannot be used.")}}e.exports.Type=r("hyoZ"),e.exports.Schema=r("3lC6"),e.exports.FAILSAFE_SCHEMA=r("2YgE"),e.exports.JSON_SCHEMA=r("+VNs"),e.exports.CORE_SCHEMA=r("RSjF"),e.exports.DEFAULT_SAFE_SCHEMA=r("Z3Ei"),e.exports.DEFAULT_FULL_SCHEMA=r("VtPO"),e.exports.load=n.load,e.exports.loadAll=n.loadAll,e.exports.safeLoad=n.safeLoad,e.exports.safeLoadAll=n.safeLoadAll,e.exports.dump=i.dump,e.exports.safeDump=i.safeDump,e.exports.YAMLException=r("w+qe"),e.exports.MINIMAL_SCHEMA=r("2YgE"),e.exports.SAFE_SCHEMA=r("Z3Ei"),e.exports.DEFAULT_SCHEMA=r("VtPO"),e.exports.scan=o("scan"),e.exports.parse=o("parse"),e.exports.compose=o("compose"),e.exports.addConstructor=o("addConstructor")},Hmso:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.IdGenerator=class{constructor(e=1,t=100){this.current=1,this.rounding=100,this.current=e,this.rounding=t}next(){return this.current++}gap(){this.current=(Math.floor(this.current/this.rounding)+1)*this.rounding}}},HvpQ:function(e,t,r){"use strict";r.r(t),t.default='**Welcome to short-order!**\r\n\r\n~~~warning-chrome\r\n**PLEASE NOTE**\r\nTo use voice input with Web Speech API (Google), you must run this demo in the\r\n[Chrome](https://www.google.com/chrome/) web browser.\r\nYou can continue the demo here in text mode by typing into the\r\nbox to the right of the recording buttons, but you will not be\r\nable to use any of the speech recognition features.\r\n~~~\r\n\r\n~~~warning-azure\r\n**PLEASE NOTE**\r\nTo use voice input with Azure, you must configure a subscription key\r\nand region, using the `settings` option on the dropdown in the upper\r\nright corner.\r\n\r\nYou can continue the demo here in text mode by typing into the\r\nbox to the right of the recording buttons, but you will not be\r\nable to use any of the speech recognition features.\r\n~~~\r\n\r\nThis is a demonstration of a\r\nvoice ordering system for a small restaurant that serves\r\ncoffee drinks and fast food items like burgers, fries, chicken wings, and Mexican.\r\n\r\nTo place an order, press the green record button and speak as you would to a drive thru worker. Your order will appear below.\r\n\r\nYou can say things like:\r\n* _Hi! I\'d like a grande iced latte with extra foam._\r\n* _Actually, make that a decaf and give me a muffin._\r\n* _Can I get that with strawberry jam?_\r\n* _Remove the strawberry jam._\r\n\r\nClick on the `Menu` tab at the top for information about items you can order.\r\nThe `History` tab shows a transcription of your conversation. The dropdown in the top right provides an option for downloading the transcription. \r\n\r\n**Interesting Examples**\r\n\r\n* In this example, _"double"_ could associate left as a `double shot` or right as the `double` attribute.\r\n  * _add a grande cappuccino double espresso_\r\n* Changes to specific items in the cart\r\n  * _can I get a skinny vanilla cinnamon latte please_\r\n  * _can you make that with two pumps of vanilla_\r\n  * _add one espresso_\r\n  * _make the latte soy_\r\n  * _make the latte with almond milk_\r\n  * _make the espresso decaf_\r\n  * _add almond syrup to the latte_\r\n  * _add vanilla syrup to the espresso_\r\n  * _remove the vanilla syrup from the latte_\r\n'},I3cw:function(e,t){const r=[{dimensions:[{name:"coffee_temperature",attributes:[{name:"hot",hidden:!0,aliases:["hot","not iced"]},{name:"iced",aliases:["iced"]}]},{name:"coffee_size",attributes:[{name:"short",aliases:["short","(kid,kid's,child) [size]"]},{name:"tall",aliases:["tall","small"]},{name:"grande",aliases:["grande","medium"]},{name:"venti",aliases:["venti","large"]}]},{name:"espresso_size",attributes:[{name:"solo",aliases:["(solo,single,small,short)","one shot"]},{name:"doppio",aliases:["doppio","double [shot]","two shot"]},{name:"triple",aliases:["triple [shot]","three shot"]},{name:"quad",aliases:["(quad,quadruple) [shot]","four shot"]}]},{name:"option_quantity",attributes:[{name:"no",aliases:["no","without","with no"]},{name:"light",aliases:["less","light","lightly","slightly less","easy","easy on the","[just] a little [bit of]"]},{name:"regular",hidden:!0,aliases:["normal","regular"]},{name:"extra",aliases:["extra","added","additional","more","lots of","heavy [on the]"]}]}],tensors:[{name:"latte_drinks",dimensions:["coffee_temperature","coffee_size"]},{name:"espresso_drinks",dimensions:["coffee_temperature","espresso_size"]},{name:"options",dimensions:["option_quantity"]}],catalog:[{tags:["latte_drinks"],tensor:"latte_drinks",default:["hot","grande"],forms:[{include:["*","*"]},{exclude:["hot","venti"]},{exclude:["iced","short"]}],items:[{name:"cappuccino",aliases:["cappuccino"]},{name:"flat white",aliases:["flat white"]},{name:"latte",aliases:["[caffe] latte"]},{name:"latte macchiato",aliases:["[caffe] latte macchiato"]},{name:"mocha",aliases:["[caffe] mocha"]},{name:"chai latte",aliases:["chai [latte]"]}]},{tags:["espresso_drinks"],tensor:"espresso_drinks",default:["hot","doppio"],items:[{name:"espresso",aliases:["[caffe] espresso"]},{name:"lungo",aliases:["[caffe] lungo"]},{name:"ristretto",aliases:["[caffe] ristretto"]},{name:"macchiato",aliases:["[caffe] macchiato"]}]},{tags:["coffee_drinks"],tensor:"latte_drinks",default:["hot","grande"],forms:[{include:["*","*"]},{exclude:["hot","venti"]},{exclude:["iced","short"]}],items:[{name:"americano",aliases:["[caffe] americano"]},{name:"dark roast coffee",aliases:["[cup of] [house,plain,regular] coffee","[cup of] (dark roast,drip) [coffee]"]}]},{type:"option",items:[{tags:["syrups"],units:"pump",role:"measured",tensor:"options",default:["regular"],items:[{name:"almond syrup",aliases:["almond [syrup]"]},{name:"buttered rum syrup",aliases:["[buttered] rum [syrup]"]},{name:"caramel syrup",aliases:["caramel [syrup]"]},{name:"cinnamon syrup",aliases:["cinnamon [syrup]"]},{name:"hazelnut syrup",aliases:["hazelnut [syrup]"]},{name:"orange syrup",aliases:["orange [syrup]"]},{name:"peppermint syrup",aliases:["peppermint [syrup]"]},{name:"raspberry syrup",aliases:["raspberry [syrup]"]},{name:"toffee syrup",aliases:["toffee [syrup]"]},{name:"vanilla syrup",aliases:["vanilla [syrup]"]}]},{tags:["caffeines"],tensor:"none",role:"applied",items:[{name:"regular",aliases:["regular caffeine","[fully] caffeinated","full caf"]},{name:"two thirds caf",aliases:["two thirds caf","one third decaf"]},{name:"half caf",aliases:["half caf","half decaf","split shot"]},{name:"one third caf",aliases:["one third caf","two thirds decaf"]},{name:"decaf",aliases:["decaf","decaffeinated","non caf"]}]},{tags:["milks"],tensor:"none",items:[{name:"whole milk",aliases:["[whole,regular] milk"]},{name:"two percent milk",aliases:["two percent [milk]"]},{name:"one percent milk",aliases:["(one percent,low fat) [milk]"]},{name:"nonfat milk",aliases:["(nonfat, fat free, zero percent, skinny, skim) [milk]"]},{name:"coconut milk",aliases:["coconut [milk]"]},{name:"soy milk",aliases:["soy [milk]"]},{name:"almond milk",aliases:["almond [milk]"]},{name:"oat milk",aliases:["oat [milk]"]},{name:"eggnog",aliases:["eggnog"]}]},{tags:["creamers"],units:"splash",tensor:"none",items:[{name:"whole milk creamer",aliases:["[whole,regular] milk"]},{name:"two percent milk creamer",aliases:["two percent [milk]"]},{name:"one percent milk creamer",aliases:["(one percent,low fat) [milk]"]},{name:"nonfat milk creamer",aliases:["(nonfat, fat free, zero percent, skinny) [milk]"]},{name:"coconut milk creamer",aliases:["coconut [milk]"]},{name:"soy milk creamer",aliases:["soy [milk]"]},{name:"almond milk creamer",aliases:["almond [milk]"]},{name:"oat milk creamer",aliases:["oat [milk]"]},{name:"eggnog creamer",aliases:["eggnog"]},{name:"half and half",aliases:["(half and half,cream)"]},{name:"heavy cream",aliases:["heavy cream"]}]},{tags:["toppings"],tensor:"options",default:["regular"],items:[{name:"cinnamon",units:"dash",aliases:["cinnamon"]},{name:"foam",aliases:["foam"]},{name:"ice",aliases:["ice"]},{name:"nutmeg",units:"dash",aliases:["nutmeg"]},{name:"whipped cream",aliases:["whipped cream [topping]","whip [topping]"]},{name:"water",aliases:["water"]}]},{tags:["latte_preparations"],tensor:"none",items:[{name:"for here cup",role:"applied",tags:["here-or-to-go"],aliases:["for here [cup]"]},{name:"lid",aliases:["lid"]},{name:"with room",aliases:["room [for cream]"]},{name:"to go",role:"applied",tags:["here-or-to-go"],aliases:["to go [cup]","travelling"]},{name:"dry",role:"applied",tags:["wet-or-dry"],aliases:["dry"]},{name:"wet",role:"applied",tags:["wet-or-dry"],aliases:["wet"]}]},{tags:["sweeteners"],tensor:"options",default:["regular"],items:[{name:"equal",units:"packet",aliases:["equal","blue (packet,sweetener)"]},{name:"honey",aliases:["honey"]},{name:"splenda",units:"packet",aliases:["splenda","yellow (packet,sweetener)"]},{name:"sugar",units:"packet",aliases:["sugar"]},{name:"sugar in the raw",units:"packet",aliases:["sugar in the raw","raw sugar","brown (packet,sweetener)"]},{name:"sweet n low",units:"packet",aliases:["sweet n low","pink (packet,sweetener)"]},{name:"espresso shot",units:"extra",aliases:["shot"]}]}]}],rules:[{parents:["latte_drinks"],children:["milks","sweeteners","syrups","toppings"]},{parents:["latte_drinks","coffee_drinks","espresso_drinks"],children:["caffeines","here-or-to-go","latte_preparations","wet-or-dry"],info:{minQty:1,maxQty:1,defaultQty:1}},{parents:["coffee_drinks","espresso_drinks"],children:["creamers","sweeteners","syrups","toppings"]},{parents:["coffee_drinks","espresso_drinks","latte_drinks"],exclusive:["milks","caffeines","here-or-to-go","wet-or-dry"]}],recipes:[{name:"double double",aliases:["double double"],items:[{name:"grande dark roast coffee",quantity:2,children:[{name:"half and half",quantity:2,children:[]}]}]},{name:"one and one",aliases:["one and one"],items:[{name:"half and half",quantity:1,children:[]},{name:"sugar",quantity:1,children:[]}]},{name:"double shot",aliases:["double [shot]"],items:[{name:"espresso shot",quantity:2,children:[]}]}]}];e.exports=r.length<=1?r[0]:r},IPAr:function(e,t,r){"use strict";e.exports=function(e){return i.test("number"===typeof e?n(e):e.charAt(0))};var n=String.fromCharCode,i=/\s/},IRYA:function(e,t){var r=Object.prototype.toString;e.exports=function(e){return"[object String]"===r.call(e)}},Ikv3:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("3B9R"),i=r("51yK");t.Lexicon=class{constructor(e){this.domains=[],this.termModel=e||new i.DefaultTermModel,this.numberParser=new n.EnglishNumberParser(this.termModel.stemAndHash)}addDomain(e,t=!0){this.domains.push(new o(e,this.termModel,t))}ingest(e){for(const t of this.domains)t.addDownstreamTerms(this.numberParser.ownHashedTerms(),this.domains),t.ingest(e)}terms(){const e=new Set;this.numberParser.addTermsToSet(e);for(const t of this.domains)t.addTermsToSet(e);return e}};class o{constructor(e,t,r=!0){this.isDownstreamTerm=e=>this.termModel.isTokenHash(e)||this.termModel.isNumberHash(e)||this.downstreamTerms.has(e),this.termModel=t,this.forIngestion=r,this.tokenizerAliases=[],this.ownTerms=new Set,this.downstreamTerms=new Set;for(const n of e){const e=n.text.split(/\s+/),r=e.map(t.stem),i=r.map(t.hashTerm);this.tokenizerAliases.push(Object.assign({},n,{terms:e,stemmed:r,hashes:i,isDownstreamTerm:this.isDownstreamTerm}));for(const t of i)this.ownTerms.add(t)}}addDownstreamTerms(e,t){if(this.forIngestion){this.downstreamTerms=new Set(e);for(const e of t)if(e!==this)for(const t of e.ownTerms)this.downstreamTerms.add(t)}}ingest(e){if(this.forIngestion)for(const t of this.tokenizerAliases)e.addItem(t)}addTermsToSet(e){for(const t of this.tokenizerAliases)for(const r of t.terms)e.add(r)}}},IoeE:function(e,t,r){"use strict";e.exports=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(t.children||[]).reduce((function(t,r){return"definition"===r.type&&(t[r.identifier]={href:r.url,title:r.title}),e(r,t)}),r)}},IujW:function(e,t,r){"use strict";function n(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var i=r("U6jy"),o=r("1VtT"),s=r("fUUT"),a=r("17x9"),c=r("wnOJ"),u=r("cVWj"),l=r("u3i/"),p=r("UV+P"),h=r("9Z5P"),d=r("IoeE"),f=r("Nw8X"),m=r("3m36"),v=r("h9ck"),g=Object.keys(m),y=function(e){var t=e.source||e.children||"",r=e.parserOptions;if(e.allowedTypes&&e.disallowedTypes)throw new Error("Only one of `allowedTypes` and `disallowedTypes` should be defined");var n=i(m,e.renderers),a=[[s,r]].concat(e.plugins||[]).reduce(b,o()),f=a.parse(t),y=i(e,{renderers:n,definitions:d(f)}),S=function(e){var t=[h,c()],r=e.disallowedTypes;e.allowedTypes&&(r=g.filter((function(t){return"root"!==t&&-1===e.allowedTypes.indexOf(t)})));var n=e.unwrapDisallowed?"unwrap":"remove";r&&r.length>0&&t.push(l.ofType(r,n));e.allowNode&&t.push(l.ifNotMatch(e.allowNode,n));var i=!e.escapeHtml&&!e.skipHtml,o=(e.astPlugins||[]).some((function(e){return(Array.isArray(e)?e[0]:e).identity===v.HtmlParser}));i&&!o&&t.push(u);return e.astPlugins?t.concat(e.astPlugins):t}(e),w=a.runSync(f),k=S.reduce((function(e,t){return t(e,y)}),w);return p(k,y)};function b(e,t){return Array.isArray(t)?e.use.apply(e,n(t)):e.use(t)}y.defaultProps={renderers:{},escapeHtml:!0,skipHtml:!1,sourcePos:!1,rawSourcePos:!1,transformLinkUri:f,astPlugins:[],plugins:[],parserOptions:{}},y.propTypes={className:a.string,source:a.string,children:a.string,sourcePos:a.bool,rawSourcePos:a.bool,escapeHtml:a.bool,skipHtml:a.bool,allowNode:a.func,allowedTypes:a.arrayOf(a.oneOf(g)),disallowedTypes:a.arrayOf(a.oneOf(g)),transformLinkUri:a.oneOfType([a.func,a.bool]),linkTarget:a.oneOfType([a.func,a.string]),transformImageUri:a.func,astPlugins:a.arrayOf(a.func),unwrapDisallowed:a.bool,renderers:a.object,plugins:a.array,parserOptions:a.object},y.types=g,y.renderers=m,y.uriTransformer=f,e.exports=y},J5yW:function(e,t,r){"use strict";var n=r("1iAE"),i=r("ZONP");e.exports=function(e){return n(e)||i(e)}},Jl3M:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ADD_TO_ORDER=Symbol.for("ADD_TO_ORDER"),t.ANSWER_AFFIRMATIVE=Symbol.for("ANSWER_AFFIRMATIVE"),t.ANSWER_NEGATIVE=Symbol.for("ANSWER_NEGATIVE"),t.CANCEL_LAST_ITEM=Symbol.for("CANCEL_LAST_ITEM"),t.CANCEL_ORDER=Symbol.for("CANCEL_ORDER"),t.CONJUNCTION=Symbol.for("CONJUNCTION"),t.END_OF_ORDER=Symbol.for("END_OF_ORDER"),t.EPILOGUE=Symbol.for("EPILOGUE"),t.MODIFY_ITEM=Symbol.for("MODIFY_ITEM"),t.NEED_MORE_TIME=Symbol.for("NEED_MORE_TIME"),t.PREPOSITION=Symbol.for("PREPOSITION"),t.PROLOGUE=Symbol.for("PROLOGUE"),t.REMOVE_ITEM=Symbol.for("REMOVE_ITEM"),t.RESTATE=Symbol.for("RESTATE"),t.SALUTATION=Symbol.for("SALUTATION"),t.SEPERATOR=Symbol.for("SEPERATOR"),t.SUBSTITUTE=Symbol.for("SUBSTITUTE"),t.WEAK_ADD=Symbol.for("WEAK_ADD");t.IntentTokenFactory=class{constructor(){this.tokens=new Map,this.createToken=e=>{let t="UNKNOWN";e&&(t=e.name);const r=Symbol.for(t);let n=this.tokens.get(r);return n||(n={type:r},this.tokens.set(r,n)),n}}},t.intentTokenFactory=function(e){let t="UNKNOWN";return e&&(t=e.name),{type:Symbol.for(t)}},t.createIntent=function(e){return{type:e}}},JlFY:function(e,t,r){"use strict";var n=r("IPAr"),i=r("Brp5");e.exports=s,s.locator=i;var o="`";function s(e,t,r){for(var i,s,a,c,u,l,p,h,d=t.length,f=0,m="",v="";f<d&&t.charAt(f)===o;)m+=o,f++;if(m){for(u=m,c=f,m="",h=t.charAt(f),a=0;f<d;){if(l=h,h=t.charAt(f+1),l===o?(a++,v+=l):(a=0,m+=l),a&&h!==o){if(a===c){u+=m+v,p=!0;break}m+=v,v=""}f++}if(!p){if(c%2!==0)return;m=""}if(r)return!0;for(i="",s="",d=m.length,f=-1;++f<d;)l=m.charAt(f),n(l)?s+=l:(s&&(i&&(i+=s),s=""),i+=l);return e(u)({type:"inlineCode",value:i})}}},JlOb:function(e,t,r){"use strict";var n;r.d(t,"a",(function(){return n})),function(e){e[e.None=0]="None",e[e.Connected=1]="Connected",e[e.Connecting=2]="Connecting",e[e.Disconnected=3]="Disconnected"}(n||(n={}))},JqBK:function(e,t,r){"use strict";e.exports=function(e){return String(e).replace(/\s+/g," ")}},"K+qJ":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("j+Kt"),i=n.intersection([n.type({name:n.string,aliases:n.array(n.string)}),n.partial({value:n.number})]),o=n.type({name:n.string,replacements:n.array(n.tuple([n.string,n.string]))});t.lexiconSpecType=n.type({lexicon:n.array(i),replacers:n.array(o)})},K2KW:function(e,t,r){"use strict";var n=r("RjOF"),i=r("3GlI");e.exports=function(e,t,r){var n,u,l,p=-1,h=t.length,d="",f="",m="",v="";for(;++p<h;)if(n=t.charAt(p),l)if(l=!1,d+=m,f+=v,m="",v="",n===o)m=n,v=n;else for(d+=n,f+=n;++p<h;){if(!(n=t.charAt(p))||n===o){v=n,m=n;break}d+=n,f+=n}else if(n===a&&t.charAt(p+1)===n&&t.charAt(p+2)===n&&t.charAt(p+3)===n)m+=c,p+=3,l=!0;else if(n===s)m+=n,l=!0;else{for(u="";n===s||n===a;)u+=n,n=t.charAt(++p);if(n!==o)break;m+=u+n,v+=n}if(f)return!!r||e(d)({type:"code",lang:null,value:i(f)})};var o="\n",s="\t",a=" ",c=n(a,4)},K9S6:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,o.default)((function(){for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=null;return t.forEach((function(e){if(null==i){var t=e.apply(void 0,r);null!=t&&(i=t)}})),i}))};var n,i=r("pvIh"),o=(n=i)&&n.__esModule?n:{default:n};e.exports=t.default},KJAg:function(e,t,r){"use strict";e.exports=function(e,t,r,n){var i,o,s,a,c,u,l=["pedantic","commonmark"],p=l.length,h=e.length,d=-1;for(;++d<h;){for(i=e[d],o=i[1]||{},s=i[0],a=-1,u=!1;++a<p;)if(void 0!==o[c=l[a]]&&o[c]!==r.options[c]){u=!0;break}if(!u&&t[s].apply(r,n))return!0}return!1}},KNWZ:function(e,t,r){e.exports={cart:"controls_cart__1tCA0",cartItem:"controls_cartItem__2i9zT",cartWelcome:"controls_cartWelcome__2d_fi",frame:"controls_frame__5ry8Z",frameUpperPanel:"controls_frameUpperPanel__TaSjC",frameLowerPanel:"controls_frameLowerPanel__3XosD",frameTab:"controls_frameTab__11h_v",graphShapeSelected:"controls_graphShapeSelected__1dU6r",graphShapeFiltered:"controls_graphShapeFiltered__3s56V",graphShapeToken:"controls_graphShapeToken__4eFbV",graphShapeWord:"controls_graphShapeWord__2bExw",graphPath:"controls_graphPath__2iMec",graphPathFiltered:"controls_graphPathFiltered__HM0ur",graphPathSelected:"controls_graphPathSelected__1gnFI",graphSelectionRectangle:"controls_graphSelectionRectangle__2Nnfz",graphText:"controls_graphText__15c3R",graphTextFiltered:"controls_graphTextFiltered__cZaKq",graphTextSelected:"controls_graphTextSelected__1RT6S",graphVertex:"controls_graphVertex__3d5wz",graphVertexSelected:"controls_graphVertexSelected__YogcW",historyGroup:"controls_historyGroup__3wR6g",historySource:"controls_historySource__1oJ-9",historyItem:"controls_historyItem__QLIl_",historyItemHeader:"controls_historyItemHeader__j0gho",historyCart:"controls_historyCart__qxbkc",historyPane:"controls_historyPane__VMr-S",infoPane:"controls_infoPane__1cMFX",lexiconToken:"controls_lexiconToken__2xwPZ",lexiconAlias:"controls_lexiconAlias___BzyJ",menuDetailColumn:"controls_menuDetailColumn__1xQri",nested:"controls_nested__3VmWR",selected:"controls_selected__2foAt",recorder:"controls_recorder__cf_E6",recorderInput:"controls_recorderInput__lc4aj",warning:"controls_warning__2y7CV"}},"KVL+":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r("LlsJ"))},KX5q:function(e,t,r){"use strict";var n=r("RsFJ"),i=r("IPAr"),o=r("BjVE");e.exports=c,c.locator=o;var s="*",a="_";function c(e,t,r){var o,c,u,l,p,h,d,f=0,m=t.charAt(f);if((m===s||m===a)&&t.charAt(++f)===m&&(c=this.options.pedantic,p=(u=m)+u,h=t.length,f++,l="",m="",!c||!i(t.charAt(f))))for(;f<h;){if(d=m,(m=t.charAt(f))===u&&t.charAt(f+1)===u&&(!c||!i(d))&&(m=t.charAt(f+2))!==u){if(!n(l))return;return!!r||((o=e.now()).column+=2,o.offset+=2,e(p+l+p)({type:"strong",children:this.tokenizeInline(l,o)}))}c||"\\"!==m||(l+=m,m=t.charAt(++f)),l+=m,f++}}},KfNM:function(e,t){var r=Object.prototype.toString;e.exports=function(e){return r.call(e)}},Kird:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ATTRIBUTE=Symbol("ATTRIBUTE"),t.createAttribute=function(e,r){return{type:t.ATTRIBUTE,id:e,name:r}}},Kz5y:function(e,t,r){var n=r("WFqU"),i="object"==typeof self&&self&&self.Object===Object&&self,o=n||i||Function("return this")();e.exports=o},LEq9:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("YyFA"),i=r("GhNO"),o=r("5N48");class s{constructor(e){this.pids=new i.IdGenerator,this.skus=new i.IdGenerator,this.tags=new Set,this.type=o.ItemType.PRODUCT,this.units="",this.role=n.Role.ANY,this.initializeTensor(e,"none")}initializeTensor(e,t){const r=e.tensors.get(t);if(void 0===r){const e=`Unknown tensor "${t}"`;throw new i.InvalidParameterError(e)}this.tensor=r,this.dimensions=r.dimensions.map(t=>e.dimensions.getById(t).dimension);const n=[{include:this.tensor.dimensions.map(e=>"*")}];this.forms=new Set,this.mergeForms(n,this.dimensions),this.defaultForm=this.dimensions.map(e=>"0").join(":"),this.verifyDefaultForm()}extend(e,t){const{tensor:r,forms:n,pid:o,sku:s,tags:a,type:c,units:u,role:l}=t,h=t.default,d=Object.assign(Object.create(Object.getPrototypeOf(this)),this);if(void 0!==r&&d.initializeTensor(e,r),void 0!==n&&(d.forms=new Set(d.forms),d.mergeForms(n,d.dimensions)),void 0!==h&&(d.defaultForm=function(e,t){if(e.length!==t.length){const e="d.length !== attributes.length";throw new i.InvalidParameterError(e)}return t.map((t,r)=>p(e[r],t)).join(":")}(d.dimensions,h)),d.verifyDefaultForm(),void 0!==o&&(d.pids=new i.IdGenerator(o)),void 0!==s&&(d.skus=new i.IdGenerator(s)),void 0!==a){d.tags=new Set(d.tags);for(const e of a)d.tags.add(e)}return void 0!==c&&(d.type=c),void 0!==u&&(d.units=u),void 0!==l&&(d.role=l),d}mergeForms(e,t){for(const r of e)if("include"in r){const e=[...u(t,r.include)];for(const t of e)this.forms.add(t)}else{const e=[...u(t,r.exclude)];for(const t of e)this.forms.delete(t)}}verifyDefaultForm(){if(!this.forms.has(this.defaultForm)){const e=`Default form "[${l(this.dimensions,this.defaultForm,!0)}]" not in set of generated forms for tensor "${this.tensor.name}"`;throw new i.InvalidParameterError(e)}}}function a(e,t){return t?[e,t].join(":"):e.toString()}function c(e,t){const r=e.getContext(),i=e.nextPID(),s=a(i,r.defaultForm),c={name:t.name,pid:i,cid:0,aliases:t.aliases,tensor:r.tensor.tid,defaultKey:s,fuzzerHints:{role:r.role,units:r.units}},u=r.type===o.ItemType.PRODUCT?n.MENUITEM:n.OPTION,p=n.genericEntityFactory(c,u);e.generics.push(p);for(const n of r.tags){const t=e.tagsToPIDs.get(n);t?t.push(i):e.tagsToPIDs.set(n,[i])}r.units&&e.pidsToUnits.set(i,r.units);for(const o of r.forms){const t=a(p.pid,o),i=[...l(r.dimensions,o,!1),p.name].join(" "),s=e.nextSKU(i),c=n.specificEntityFactory({name:i,sku:s,key:t},u);e.specifics.push(c)}e.getContext().skus.gap()}function*u(e,t){if(e.length!==t.length){const e="dimensions.length !== pattern.length";throw new i.InvalidParameterError(e)}const r=[];for(let n=0;n<e.length;++n)if(t[n]===o.WILDCARD)r.push([...Array(e[n].attributes.length).keys()]);else{const i=p(e[n],t[n]);r.push([i])}for(const n of function*e(t,r=0,n=[]){if(r===t.length)yield[...n];else for(const i of t[r])n.push(i),yield*e(t,r+1,n),n.pop()}(r))yield n.join(":")}function l(e,t,r){if(e.length>0){const n=t.split(":").map(e=>Number(e)),i=[];for(const[t,o]of n.entries()){const n=e[t].attributes[o];n.hidden&&!r||i.push(n.name)}return i}return""}function p(e,t){for(const[n,i]of e.attributes.entries())if(i.name===t)return n;const r=`attribute "${t}" not found on dimension "${e.name}"`;throw new i.InvalidParameterError(r)}t.GroupBuilder=class{constructor(e,t,r){this.generics=[],this.specifics=[],this.tagsToPIDs=new Map,this.pidsToUnits=new Map,this.pids=new Set,this.skus=new Set,this.nameToSku=new Map,this.dimensions=e,this.tensors=t;for(const n of r){if(this.nameToSku.has(n.name)){const e=`Duplicate name "${n.name}"`;throw new TypeError(e)}if(this.skus.has(n.sku)){const e=`Duplicate sku ${n.sku}`;throw new TypeError(e)}this.nameToSku.set(n.name,n.sku),this.skus.add(n.sku)}this.context=[new s(this)]}getContext(){return this.context[this.context.length-1]}nextPID(){const e=this.getContext().pids.next();if(this.pids.has(e)){const t=`Duplicate pid ${e}`;throw new i.InvalidParameterError(t)}return this.pids.add(e),e}nextSKU(e){let t=this.nameToSku.get(e);if(void 0!==t)return t;if(this.nameToSku.size>0){throw new TypeError(`No SKU specified for "${e}"`)}if(t=this.getContext().skus.next(),this.skus.has(t)){const e=`Duplicate sku ${t}`;throw new i.InvalidParameterError(e)}return this.skus.add(t),t}push(e){this.context.push(this.getContext().extend(this,e))}pop(){if(1===this.context.length){const e="Context stack underflow";throw new i.InvalidParameterError(e)}this.context.pop()}},t.processGroups=function e(t,r){for(const n of r)"items"in n?(t.push(n),e(t,n.items),t.pop()):(n.default||n.forms||n.tags||n.tensor,t.push(n),c(t,n),t.pop());t.getContext().pids.gap()}},LFvy:function(e,t,r){"use strict";var n=r("hyoZ");e.exports=new n("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return null!==e?e:""}})},Ljib:function(e,t,r){"use strict";var n=r("hyoZ");e.exports=new n("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return null!==e?e:{}}})},LlsJ:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("ibpa"),i=r("GhNO");t.CartOps=class{constructor(e,t,r){this.idGenerator=new i.IdGenerator,this.attributeInfo=e,this.catalog=t,this.ruleChecker=r}addToCart(e,t){return Object.assign(Object.assign({},e),{items:[...e.items,t]})}addToItem(e,t){return Object.assign(Object.assign({},e),{children:[...e.children,t]})}addToItemWithReplacement(e,t,r){let n=!1;const i=this.ruleChecker.getPairwiseMutualExclusionPredicate(e.key,t.key),o=[];for(const s of e.children)i(s.key)?o.push(s):n||(n=!0,r?o.push(Object.assign(Object.assign({},t),{quantity:t.quantity+s.quantity})):o.push(t));return n||o.push(t),Object.assign(Object.assign({},e),{children:o})}*findByKey(e,t){yield*this.findInCart(e,e=>t===e.key)}*findByKeyRegex(e,t){const r=new RegExp(t);yield*this.findInCart(e,e=>null!==e.key.match(r))}*findByPID(e,t){yield*this.findInCart(e,e=>t===n.AttributeInfo.pidFromKey(e.key))}*findByChildKey(e,t){yield*this.findInCart(e,e=>{for(const r of e.children)if(r.key===t)return!0;return!1})}*findByChildPID(e,t){yield*this.findInCart(e,e=>{for(const r of e.children)if(n.AttributeInfo.pidFromKey(r.key)===t)return!0;return!1})}*findCompatibleParent(e,t){yield*this.findInCart(e,e=>this.ruleChecker.isValidChild(e.key,t))}*findInCart(e,t){yield*this.findInItemArray(e.items,t)}*findInItemArray(e,t){for(let r=e.length-1;r>=0;--r){const n=e[r];t(n)&&(yield n),n.children.length>0&&(yield*this.findInItemArray(n.children,t))}}replaceInCart(e,t){const r=this.replaceInItemArray(e.items,t);if(r===e.items){const e=`Cart does not have item with UID === ${t.uid}`;throw TypeError(e)}return Object.assign(Object.assign({},e),{items:r})}replaceInItemArray(e,t){let r=!1;const n=[];for(const i of e)if(r)n.push(i);else if(t.uid===i.uid)n.push(t),r=!0;else{const e=this.replaceInItemArray(i.children,t);e!==i.children?(r=!0,n.push(Object.assign(Object.assign({},i),{children:e}))):n.push(i)}return r?n:e}removeFromCart(e,t){const r=this.removeFromItemArray(e.items,t);if(r===e.items){throw TypeError(`Cart does not have item with UID === ${t}`)}return Object.assign(Object.assign({},e),{items:r})}removeFromItemArray(e,t){let r=!1;const n=[];for(const i of e)if(r)n.push(i);else if(t===i.uid)r=!0;else{const e=this.removeFromItemArray(i.children,t);e!==i.children?(r=!0,n.push(Object.assign(Object.assign({},i),{children:e}))):n.push(i)}return r?n:e}createItem(e,t,r,i,o){const s=new n.TensorEntityBuilder(this.attributeInfo);s.setPID(t);for(const n of r)s.addAttribute(n);return{uid:this.idGenerator.next(),key:s.getKey(o),quantity:e,children:[...i]}}changeItemAttributes(e,t){const r=this.attributeInfo.getAttributes(e.key),i=new n.TensorEntityBuilder(this.attributeInfo);i.setPID(n.AttributeInfo.pidFromKey(e.key));for(const n of r)i.addAttribute(n);for(const n of t)i.setAttribute(n);const o=i.getKey(!1);return o!==e.key?Object.assign(Object.assign({},e),{key:o}):e}changeItemPID(e,t){const r=this.attributeInfo.getAttributes(e.key),i=new n.TensorEntityBuilder(this.attributeInfo);i.setPID(t);for(const n of r)i.addAttribute(n);const o=i.getKey(!1);return o!==e.key?Object.assign(Object.assign({},e),{key:o}):e}createItemsFromProductRecipe(e){const t=[];for(const r of e.products){const e=[];for(const t of r.options)e.push({uid:this.idGenerator.next(),key:t.key,quantity:t.quantity,children:[]});t.push({uid:1,key:r.key,quantity:r.quantity,children:e})}return t}createItemsFromOptionRecipe(e){const t=[];for(const r of e.options)t.push({uid:this.idGenerator.next(),key:r.key,quantity:r.quantity,children:[]});return t}}},Lnxd:function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));var n=r("q1tI"),i={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},o=n.createContext&&n.createContext(i),s=function(){return(s=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},a=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&(r[n[i]]=e[n[i]])}return r};function c(e){return function(t){return n.createElement(u,s({attr:s({},e.attr)},t),function e(t){return t&&t.map((function(t,r){return n.createElement(t.tag,s({key:r},t.attr),e(t.child))}))}(e.child))}}function u(e){var t=function(t){var r,i=e.size||t.size||"1em";t.className&&(r=t.className),e.className&&(r=(r?r+" ":"")+e.className);var o=e.attr,c=e.title,u=a(e,["attr","title"]);return n.createElement("svg",s({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,o,u,{className:r,style:s({color:e.color||t.color},t.style,e.style),height:i,width:i,xmlns:"http://www.w3.org/2000/svg"}),c&&n.createElement("title",null,c),e.children)};return void 0!==o?n.createElement(o.Consumer,null,(function(e){return t(e)})):t(i)}},"M/Vc":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.Dimension=class{constructor(e,t,r){if(this.did=e,this.name=t,this.attributes=[...r[Symbol.iterator]()],this.attributes.length<1){throw new TypeError("expect at least one attribute")}}}},M39V:function(e,t,r){e.exports=function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=90)}({17:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=r(18),i=function(){function e(){}return e.getFirstMatch=function(e,t){var r=t.match(e);return r&&r.length>0&&r[1]||""},e.getSecondMatch=function(e,t){var r=t.match(e);return r&&r.length>1&&r[2]||""},e.matchAndReturnConst=function(e,t,r){if(e.test(t))return r},e.getWindowsVersionName=function(e){switch(e){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},e.getMacOSVersionName=function(e){var t=e.split(".").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),10===t[0])switch(t[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},e.getAndroidVersionName=function(e){var t=e.split(".").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),!(1===t[0]&&t[1]<5))return 1===t[0]&&t[1]<6?"Cupcake":1===t[0]&&t[1]>=6?"Donut":2===t[0]&&t[1]<2?"Eclair":2===t[0]&&2===t[1]?"Froyo":2===t[0]&&t[1]>2?"Gingerbread":3===t[0]?"Honeycomb":4===t[0]&&t[1]<1?"Ice Cream Sandwich":4===t[0]&&t[1]<4?"Jelly Bean":4===t[0]&&t[1]>=4?"KitKat":5===t[0]?"Lollipop":6===t[0]?"Marshmallow":7===t[0]?"Nougat":8===t[0]?"Oreo":9===t[0]?"Pie":void 0},e.getVersionPrecision=function(e){return e.split(".").length},e.compareVersions=function(t,r,n){void 0===n&&(n=!1);var i=e.getVersionPrecision(t),o=e.getVersionPrecision(r),s=Math.max(i,o),a=0,c=e.map([t,r],(function(t){var r=s-e.getVersionPrecision(t),n=t+new Array(r+1).join(".0");return e.map(n.split("."),(function(e){return new Array(20-e.length).join("0")+e})).reverse()}));for(n&&(a=s-Math.min(i,o)),s-=1;s>=a;){if(c[0][s]>c[1][s])return 1;if(c[0][s]===c[1][s]){if(s===a)return 0;s-=1}else if(c[0][s]<c[1][s])return-1}},e.map=function(e,t){var r,n=[];if(Array.prototype.map)return Array.prototype.map.call(e,t);for(r=0;r<e.length;r+=1)n.push(t(e[r]));return n},e.find=function(e,t){var r,n;if(Array.prototype.find)return Array.prototype.find.call(e,t);for(r=0,n=e.length;r<n;r+=1){var i=e[r];if(t(i,r))return i}},e.assign=function(e){for(var t,r,n=e,i=arguments.length,o=new Array(i>1?i-1:0),s=1;s<i;s++)o[s-1]=arguments[s];if(Object.assign)return Object.assign.apply(Object,[e].concat(o));var a=function(){var e=o[t];"object"==typeof e&&null!==e&&Object.keys(e).forEach((function(t){n[t]=e[t]}))};for(t=0,r=o.length;t<r;t+=1)a();return e},e.getBrowserAlias=function(e){return n.BROWSER_ALIASES_MAP[e]},e.getBrowserTypeByAlias=function(e){return n.BROWSER_MAP[e]||""},e}();t.default=i,e.exports=t.default},18:function(e,t,r){"use strict";t.__esModule=!0,t.ENGINE_MAP=t.OS_MAP=t.PLATFORMS_MAP=t.BROWSER_MAP=t.BROWSER_ALIASES_MAP=void 0,t.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},t.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},t.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},t.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},t.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,i=(n=r(91))&&n.__esModule?n:{default:n},o=r(18);function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var a=function(){function e(){}var t,r;return e.getParser=function(e,t){if(void 0===t&&(t=!1),"string"!=typeof e)throw new Error("UserAgent should be a string");return new i.default(e,t)},e.parse=function(e){return new i.default(e).getResult()},t=e,(r=[{key:"BROWSER_MAP",get:function(){return o.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return o.ENGINE_MAP}},{key:"OS_MAP",get:function(){return o.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return o.PLATFORMS_MAP}}])&&s(t,r),e}();t.default=a,e.exports=t.default},91:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=c(r(92)),i=c(r(93)),o=c(r(94)),s=c(r(95)),a=c(r(17));function c(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(e,t){if(void 0===t&&(t=!1),null==e||""===e)throw new Error("UserAgent parameter can't be empty");this._ua=e,this.parsedResult={},!0!==t&&this.parse()}var t=e.prototype;return t.getUA=function(){return this._ua},t.test=function(e){return e.test(this._ua)},t.parseBrowser=function(){var e=this;this.parsedResult.browser={};var t=a.default.find(n.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser},t.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},t.getBrowserName=function(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},t.getBrowserVersion=function(){return this.getBrowser().version},t.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},t.parseOS=function(){var e=this;this.parsedResult.os={};var t=a.default.find(i.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os},t.getOSName=function(e){var t=this.getOS().name;return e?String(t).toLowerCase()||"":t||""},t.getOSVersion=function(){return this.getOS().version},t.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},t.getPlatformType=function(e){void 0===e&&(e=!1);var t=this.getPlatform().type;return e?String(t).toLowerCase()||"":t||""},t.parsePlatform=function(){var e=this;this.parsedResult.platform={};var t=a.default.find(o.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform},t.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},t.getEngineName=function(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},t.parseEngine=function(){var e=this;this.parsedResult.engine={};var t=a.default.find(s.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.engine=t.describe(this.getUA())),this.parsedResult.engine},t.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},t.getResult=function(){return a.default.assign({},this.parsedResult)},t.satisfies=function(e){var t=this,r={},n=0,i={},o=0;if(Object.keys(e).forEach((function(t){var s=e[t];"string"==typeof s?(i[t]=s,o+=1):"object"==typeof s&&(r[t]=s,n+=1)})),n>0){var s=Object.keys(r),c=a.default.find(s,(function(e){return t.isOS(e)}));if(c){var u=this.satisfies(r[c]);if(void 0!==u)return u}var l=a.default.find(s,(function(e){return t.isPlatform(e)}));if(l){var p=this.satisfies(r[l]);if(void 0!==p)return p}}if(o>0){var h=Object.keys(i),d=a.default.find(h,(function(e){return t.isBrowser(e,!0)}));if(void 0!==d)return this.compareVersion(i[d])}},t.isBrowser=function(e,t){void 0===t&&(t=!1);var r=this.getBrowserName().toLowerCase(),n=e.toLowerCase(),i=a.default.getBrowserTypeByAlias(n);return t&&i&&(n=i.toLowerCase()),n===r},t.compareVersion=function(e){var t=[0],r=e,n=!1,i=this.getBrowserVersion();if("string"==typeof i)return">"===e[0]||"<"===e[0]?(r=e.substr(1),"="===e[1]?(n=!0,r=e.substr(2)):t=[],">"===e[0]?t.push(1):t.push(-1)):"="===e[0]?r=e.substr(1):"~"===e[0]&&(n=!0,r=e.substr(1)),t.indexOf(a.default.compareVersions(i,r,n))>-1},t.isOS=function(e){return this.getOSName(!0)===String(e).toLowerCase()},t.isPlatform=function(e){return this.getPlatformType(!0)===String(e).toLowerCase()},t.isEngine=function(e){return this.getEngineName(!0)===String(e).toLowerCase()},t.is=function(e){return this.isBrowser(e)||this.isOS(e)||this.isPlatform(e)},t.some=function(e){var t=this;return void 0===e&&(e=[]),e.some((function(e){return t.is(e)}))},e}();t.default=u,e.exports=t.default},92:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,i=(n=r(17))&&n.__esModule?n:{default:n},o=/version\/(\d+(\.?_?\d+)+)/i,s=[{test:[/googlebot/i],describe:function(e){var t={name:"Googlebot"},r=i.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/opera/i],describe:function(e){var t={name:"Opera"},r=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/opr\/|opios/i],describe:function(e){var t={name:"Opera"},r=i.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e)||i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/SamsungBrowser/i],describe:function(e){var t={name:"Samsung Internet for Android"},r=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/Whale/i],describe:function(e){var t={name:"NAVER Whale Browser"},r=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/MZBrowser/i],describe:function(e){var t={name:"MZ Browser"},r=i.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/focus/i],describe:function(e){var t={name:"Focus"},r=i.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/swing/i],describe:function(e){var t={name:"Swing"},r=i.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/coast/i],describe:function(e){var t={name:"Opera Coast"},r=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/yabrowser/i],describe:function(e){var t={name:"Yandex Browser"},r=i.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/ucbrowser/i],describe:function(e){var t={name:"UC Browser"},r=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/Maxthon|mxios/i],describe:function(e){var t={name:"Maxthon"},r=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/epiphany/i],describe:function(e){var t={name:"Epiphany"},r=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/puffin/i],describe:function(e){var t={name:"Puffin"},r=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/sleipnir/i],describe:function(e){var t={name:"Sleipnir"},r=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/k-meleon/i],describe:function(e){var t={name:"K-Meleon"},r=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/micromessenger/i],describe:function(e){var t={name:"WeChat"},r=i.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/qqbrowser/i],describe:function(e){var t={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},r=i.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/msie|trident/i],describe:function(e){var t={name:"Internet Explorer"},r=i.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/\sedg\//i],describe:function(e){var t={name:"Microsoft Edge"},r=i.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/edg([ea]|ios)/i],describe:function(e){var t={name:"Microsoft Edge"},r=i.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/vivaldi/i],describe:function(e){var t={name:"Vivaldi"},r=i.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/seamonkey/i],describe:function(e){var t={name:"SeaMonkey"},r=i.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/sailfish/i],describe:function(e){var t={name:"Sailfish"},r=i.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return r&&(t.version=r),t}},{test:[/silk/i],describe:function(e){var t={name:"Amazon Silk"},r=i.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/phantom/i],describe:function(e){var t={name:"PhantomJS"},r=i.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/slimerjs/i],describe:function(e){var t={name:"SlimerJS"},r=i.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t={name:"BlackBerry"},r=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t={name:"WebOS Browser"},r=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/bada/i],describe:function(e){var t={name:"Bada"},r=i.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/tizen/i],describe:function(e){var t={name:"Tizen"},r=i.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/qupzilla/i],describe:function(e){var t={name:"QupZilla"},r=i.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/firefox|iceweasel|fxios/i],describe:function(e){var t={name:"Firefox"},r=i.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/electron/i],describe:function(e){var t={name:"Electron"},r=i.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/chromium/i],describe:function(e){var t={name:"Chromium"},r=i.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/chrome|crios|crmo/i],describe:function(e){var t={name:"Chrome"},r=i.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/GSA/i],describe:function(e){var t={name:"Google Search"},r=i.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:function(e){var t=!e.test(/like android/i),r=e.test(/android/i);return t&&r},describe:function(e){var t={name:"Android Browser"},r=i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/playstation 4/i],describe:function(e){var t={name:"PlayStation 4"},r=i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/safari|applewebkit/i],describe:function(e){var t={name:"Safari"},r=i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/.*/i],describe:function(e){var t=-1!==e.search("\\(")?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:i.default.getFirstMatch(t,e),version:i.default.getSecondMatch(t,e)}}}];t.default=s,e.exports=t.default},93:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,i=(n=r(17))&&n.__esModule?n:{default:n},o=r(18),s=[{test:[/Roku\/DVP/],describe:function(e){var t=i.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:o.OS_MAP.Roku,version:t}}},{test:[/windows phone/i],describe:function(e){var t=i.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.WindowsPhone,version:t}}},{test:[/windows /i],describe:function(e){var t=i.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),r=i.default.getWindowsVersionName(t);return{name:o.OS_MAP.Windows,version:t,versionName:r}}},{test:[/Macintosh(.*?) FxiOS(.*?) Version\//],describe:function(e){var t=i.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,e);return{name:o.OS_MAP.iOS,version:t}}},{test:[/macintosh/i],describe:function(e){var t=i.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,"."),r=i.default.getMacOSVersionName(t),n={name:o.OS_MAP.MacOS,version:t};return r&&(n.versionName=r),n}},{test:[/(ipod|iphone|ipad)/i],describe:function(e){var t=i.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:o.OS_MAP.iOS,version:t}}},{test:function(e){var t=!e.test(/like android/i),r=e.test(/android/i);return t&&r},describe:function(e){var t=i.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,e),r=i.default.getAndroidVersionName(t),n={name:o.OS_MAP.Android,version:t};return r&&(n.versionName=r),n}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t=i.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),r={name:o.OS_MAP.WebOS};return t&&t.length&&(r.version=t),r}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t=i.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||i.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||i.default.getFirstMatch(/\bbb(\d+)/i,e);return{name:o.OS_MAP.BlackBerry,version:t}}},{test:[/bada/i],describe:function(e){var t=i.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.Bada,version:t}}},{test:[/tizen/i],describe:function(e){var t=i.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.Tizen,version:t}}},{test:[/linux/i],describe:function(){return{name:o.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:o.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(e){var t=i.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.PlayStation4,version:t}}}];t.default=s,e.exports=t.default},94:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,i=(n=r(17))&&n.__esModule?n:{default:n},o=r(18),s=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(e){var t=i.default.getFirstMatch(/(can-l01)/i,e)&&"Nova",r={type:o.PLATFORMS_MAP.mobile,vendor:"Huawei"};return t&&(r.model=t),r}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?) Version\//],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet}}},{test:function(e){var t=e.test(/ipod|iphone/i),r=e.test(/like (ipod|iphone)/i);return t&&!r},describe:function(e){var t=i.default.getFirstMatch(/(ipod|iphone)/i,e);return{type:o.PLATFORMS_MAP.mobile,vendor:"Apple",model:t}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return"blackberry"===e.getBrowserName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(e){return"bada"===e.getBrowserName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return"windows phone"===e.getBrowserName()},describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(e){var t=Number(String(e.getOSVersion()).split(".")[0]);return"android"===e.getOSName(!0)&&t>=3},describe:function(){return{type:o.PLATFORMS_MAP.tablet}}},{test:function(e){return"android"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return"macos"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(e){return"windows"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop}}},{test:function(e){return"linux"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop}}},{test:function(e){return"playstation 4"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.tv}}},{test:function(e){return"roku"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.tv}}}];t.default=s,e.exports=t.default},95:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,i=(n=r(17))&&n.__esModule?n:{default:n},o=r(18),s=[{test:function(e){return"microsoft edge"===e.getBrowserName(!0)},describe:function(e){if(/\sedg\//i.test(e))return{name:o.ENGINE_MAP.Blink};var t=i.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:o.ENGINE_MAP.EdgeHTML,version:t}}},{test:[/trident/i],describe:function(e){var t={name:o.ENGINE_MAP.Trident},r=i.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:function(e){return e.test(/presto/i)},describe:function(e){var t={name:o.ENGINE_MAP.Presto},r=i.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:function(e){var t=e.test(/gecko/i),r=e.test(/like gecko/i);return t&&!r},describe:function(e){var t={name:o.ENGINE_MAP.Gecko},r=i.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:o.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(e){var t={name:o.ENGINE_MAP.WebKit},r=i.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}}];t.default=s,e.exports=t.default}})},MERt:function(e,t,r){"use strict";var n=r("hyoZ");e.exports=new n("tag:yaml.org,2002:js/undefined",{kind:"scalar",resolve:function(){return!0},construct:function(){},predicate:function(e){return"undefined"===typeof e},represent:function(){return""}})},MGH9:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r("ahYF"),i=r("rmMg");class o{static get instance(){return o.privInstance}}o.privInstance=new i.a,o.setEventSource=e=>{if(!e)throw new n.a("eventSource");o.privInstance=e}},MHMH:function(e,t,r){"use strict";e.exports=function(e,t,r){var c,u,l,p=this.options,h=t.length+1,d=-1,f=e.now(),m="",v="";for(;++d<h;){if((c=t.charAt(d))!==o&&c!==i){d--;break}m+=c}l=0;for(;++d<=h;){if((c=t.charAt(d))!==s){d--;break}m+=c,l++}if(l>a)return;if(!l||!p.pedantic&&t.charAt(d+1)===s)return;h=t.length+1,u="";for(;++d<h;){if((c=t.charAt(d))!==o&&c!==i){d--;break}u+=c}if(!p.pedantic&&0===u.length&&c&&c!==n)return;if(r)return!0;m+=u,u="",v="";for(;++d<h&&(c=t.charAt(d))&&c!==n;)if(c===o||c===i||c===s){for(;c===o||c===i;)u+=c,c=t.charAt(++d);for(;c===s;)u+=c,c=t.charAt(++d);for(;c===o||c===i;)u+=c,c=t.charAt(++d);d--}else v+=u+c,u="";return f.column+=m.length,f.offset+=m.length,e(m+=v+u)({type:"heading",depth:l,children:this.tokenizeInline(v,f)})};var n="\n",i="\t",o=" ",s="#",a=6},"MQ5/":function(e,t,r){"use strict";e.exports=s;var n=["\\","`","*","{","}","[","]","(",")","#","+","-",".","!","_",">"],i=n.concat(["~","|"]),o=i.concat(["\n",'"',"$","%","&","'",",","/",":",";","<","=","?","@","^"]);function s(e){var t=e||{};return t.commonmark?o:t.gfm?i:n}s.default=n,s.gfm=i,s.commonmark=o},MYzf:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});const n=r("ijAY"),i=r("NOtv"),o=r("8v/U"),s=r("94Iq"),a=r("FG9h"),c=r("HAeW"),u=r("nNxe"),l=r("lssG");class p{constructor(t,r){this.prefix="";const n=o(e.argv.slice());this.world=t,this.world2=c.loadShortOrderWorld(t,r,n.t,!1),this.lexer=this.world2.lexer,i.enable("tf-interactive,tf:*")}name(){return"short-order"}registerCommands(e){e.getReplServer().defineCommand("prefix",{help:"Sets the prefix for subsequent token-flow .query command",action:t=>{this.prefix=t,console.log(`token-flow prefix = ${this.prefix}`),e.getReplServer().displayPrompt()}}),e.getReplServer().defineCommand("query",{help:"Uses token-flow to score match against prefix.",action:t=>{if(this.prefix.length<1)console.log("No prefix set. First set a prefix string with the .prefix command.");else{console.log(`token-flow query = ${t}`);const e=this.lexer.lexicon.termModel.breakWords(t).map(this.world2.lexer.lexicon.termModel.stem).map(this.world2.lexer.lexicon.termModel.hashTerm),r=this.lexer.lexicon.termModel.breakWords(t).map(this.world2.lexer.lexicon.termModel.stem).map(this.world2.lexer.lexicon.termModel.hashTerm),n=e=>!1,i=a.levenshtein(r,e,n,this.lexer.lexicon.termModel.isTokenHash),o=this.world2.lexer.tokenizer,s=o.debugMode;o.debugMode=!0;const c=this.world2.lexer.tokenizer.score(r,e,n,i);console.log(`score=${c.score}, length=${c.length}`),o.debugMode=s}e.getReplServer().displayPrompt()}}),e.getReplServer().defineCommand("match",{help:"List fuzzy matches in order of decreasing score.",action:t=>{const r=this.lexer.createGraph(t),n=new Map;for(const e of r.edgeLists[0]){const t=e.token;if(t.type===u.ENTITY||t.type===s.OPTION){const r=n.get(t);(void 0===r||e.score>r)&&n.set(t,e.score)}}const i=[...n.entries()].sort((e,t)=>{const r=t[1]-e[1];return isFinite(r)?r:isFinite(e[1])?-1:1});if(0===i.length)console.log(`No items matching "${t}".`);else for(const[e,o]of i){const t=s.rightJustify(o.toFixed(3),6);e.type===u.ENTITY?console.log(`${t}: ${e.name} (${e.pid})`):e.type===s.OPTION&&console.log(`${t}: ${e.name} (${e.id})`)}console.log(" "),e.getReplServer().displayPrompt()}}),e.getReplServer().defineCommand("tokenize",{help:"Tokenize, but don't parse, text that follows.",action:t=>{const r=s.speechToTextFilter(t);r!==t&&(console.log(`${n.red.open}`),console.log("********************************************************"),console.log("PLEASE NOTE: your input has been modified to be more"),console.log("like the output of a speech-to-text system."),console.log(`your input: "${t}"`),console.log(`modified:   "${r}"`),console.log("********************************************************"),console.log(`${n.red.close}`));const i=this.lexer.createGraph(r),o=a.filterGraph(i,.35),c=a.maximalTokenizations(o.edgeLists),l=this.lexer.lexicon.termModel.breakWords(t);let p=0;for(const e of c){console.log(`Tokenization ${p}:`),p++;for(const t of e){const e=u.tokenToString(t),r=l.slice(t.start,t.start+t.length).join(" ");console.log(`  ${e}: "${r}"`)}}console.log(" "),e.getReplServer().displayPrompt()}}),e.getReplServer().defineCommand("menu",{help:"Display menu",action:t=>{const r=this.world;if(0===t.length)s.printCatalog(r,s.MENUITEM);else if(-1!==t.indexOf(":")){const e=t.trim();s.describeSpecific(r,e)}else if(isNaN(Number(t)))h(this.lexer,t);else{const e=Number(t);s.describeGeneric(r,e)}e.getReplServer().displayPrompt()}}),e.getReplServer().defineCommand("stem",{help:"Stem, but don't parse, text that follows",action:t=>{const r=t,n=this.lexer.lexicon.termModel.breakWords(r).map(this.lexer.lexicon.termModel.stem);console.log(n.join(" ")),e.getReplServer().displayPrompt()}}),e.getReplServer().defineCommand("graph",{help:"Display graph for text that follows",action:t=>{const r=t,n=this.lexer.lexicon.termModel.breakWords(r),i=this.lexer.createGraph(r),o=a.filterGraph(i,.35);for(const[e,s]of o.edgeLists.entries()){console.log(`  vertex ${e}: "${n[e]}"`);for(const e of s){const t=u.tokenToString(e.token);console.log(`    length:${e.length}, score:${e.score.toFixed(2)}, token:${t}`)}}e.getReplServer().displayPrompt()}}),e.getReplServer().defineCommand("targets",{help:"Display targets for text that follows",action:t=>{const r=t,n=this.lexer.lexicon.termModel.breakWords(r),i=this.lexer.createGraph(r),o=e.getState(),s=new l.Parser(this.world.cartOps,this.world.catalog,this.world.cookbook,this.world.attributeInfo,this.lexer,this.world.ruleChecker,!1),a={start:0,length:n.length},c=new Map;for(const e of l.productTargets(s,o,i,a))if(e.item){const t=e.item.key,r=c.get(t);r?r.score<e.score&&c.set(t,e):c.set(t,e)}const u=[...c.values()].sort((e,t)=>t.score-e.score);for(const e of u){const t=e.item,r=this.world.catalog.getSpecific(t.key).name,n=e.score.toFixed(2);console.log(`${n}: ${r} (${t.key})`)}console.log(),e.getReplServer().displayPrompt()}})}createProcessor(){return{name:"so",description:"short-order",processor:this.world2.processor}}}function h(e,t){const r=e.createGraph(t),n=new Set;for(const o of r.edgeLists[0]){const e=o.token;e.type!==u.ENTITY&&e.type!==s.OPTION||n.add(e)}const i=[...n.values()].sort((e,t)=>e.name.localeCompare(t.name));if(0===i.length)console.log(`No items matching "${t}".`);else for(const o of i)o.type===u.ENTITY?console.log(`${o.name} (${o.pid})`):o.type===s.OPTION&&console.log(`${o.name} (${o.id})`);console.log(" ")}t.ShortOrderReplExtension=p,t.shortOrderReplExtensionFactory={create:(e,t)=>new p(e,t)},t.printMatchingGenerics=h}).call(this,r("8oxB"))},MaiH:function(e,t,r){"use strict";e.exports=function(e,t){return e.indexOf("~~",t)}},MhFN:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("33yf"),i=r("FG9h"),o=r("nNxe"),s=r("lssG"),a=r("ZFoM");t.createShortOrderWorld=function(e,t,r,c=!1){const u=n.join(t,"intents.yaml"),l=n.join(t,"quantifiers.yaml"),p=n.join(t,"units.yaml"),h=n.join(t,"stopwords.yaml"),d=new a.StemmerFactory(t).create(r),f=new i.DefaultTermModel({stemmer:d}),m=new i.Lexicon(f),v=new o.LexicalAnalyzer(e,m,c,u,l,p,h),g=new s.Parser(e.cartOps,e.catalog,e.cookbook,e.attributeInfo,v,e.ruleChecker,c);return Object.assign(Object.assign({},e),{lexer:v,processor:async(e,t)=>s.processRoot(g,t,e)})}},N5Ak:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.childTensorFactory=(e,t)=>{const r={};for(const n of e.rules)r[n.partialKey]=e=>{const r=Number(e.split(":")[0]),i=t.get(r);if(i){const e=i.cid,t=n.validCategoryMap[e];if(t&&t.validOptions.indexOf(r)>-1)return!0}return!1};return r},t.validChildrenFactory=function(e,t){const r=new Map;for(const n of e.rules)for(const[e,i]of Object.entries(n.validCategoryMap)){const o=i,s=r.get(n.partialKey);if(void 0===s)r.set(n.partialKey,new Set(o.validOptions));else for(const r of o.validOptions){const n=t.get(r);void 0!==n&&n.cid===Number(e)&&s.add(r)}}return r}},NFD0:function(e,t,r){"use strict";e.exports=function(e,t){return e.indexOf("\\",t)}},NNgZ:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateAliases=function*(e){const t=e.replace(/\s+/g," ").trim();if(-1!==t.search(/(,\])|(,\))/g))throw TypeError(`generateAliases: illegal trailing comma in "${e}".`);const r=t.match(/(\[[^\]]*\])|(\([^\)]*\))|([^\[^\()]*)/g);if(null!==r){const e=r.map(e=>e.startsWith("[")?[...e.slice(1,-1).split(","),""].map(e=>e.trim()):e.startsWith("(")?e.slice(1,-1).split(",").map(e=>e.trim()):[e.trim()]).filter(e=>e[0].length>0);yield*function*e(t,r){if(r.length>0)for(const o of r[0])yield*e((n=t,i=o,0===n.length?i:0===i.length?n:n+" "+i),r.slice(1));else yield t;var n,i}("",e)}}},NOtv:function(e,t,r){(function(n){t.log=function(...e){return"object"===typeof console&&console.log&&console.log(...e)},t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const r="color: "+this.color;t.splice(1,0,r,"color: inherit");let n=0,i=0;t[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(n++,"%c"===e&&(i=n))}),t.splice(i,0,r)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(r){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(r){}!e&&"undefined"!==typeof n&&"env"in n&&(e=n.env.DEBUG);return e},t.useColors=function(){if("undefined"!==typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!==typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!==typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.exports=r("3JDX")(t);const{formatters:i}=e.exports;i.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}}).call(this,r("8oxB"))},NS2H:function(e,t,r){"use strict";e.exports=function(e,t,r){var c,u,l,p,h,d=e.now(),f=t.length,m=-1,v="";for(;++m<f;){if((l=t.charAt(m))!==o||m>=s){m--;break}v+=l}c="",u="";for(;++m<f;){if((l=t.charAt(m))===n){m--;break}l===o||l===i?u+=l:(c+=u+l,u="")}if(d.column+=v.length,d.offset+=v.length,v+=c+u,l=t.charAt(++m),p=t.charAt(++m),l!==n||!a[p])return;v+=l,u=p,h=a[p];for(;++m<f;){if((l=t.charAt(m))!==p){if(l!==n)return;m--;break}u+=l}if(r)return!0;return e(v+u)({type:"heading",depth:h,children:this.tokenizeInline(c,d)})};var n="\n",i="\t",o=" ",s=3,a={};a["="]=1,a["-"]=2},Njqi:function(e,t,r){"use strict";var n;try{n=r("+U4B")}catch(o){"undefined"!==typeof window&&(n=window.esprima)}var i=r("hyoZ");e.exports=new i("tag:yaml.org,2002:js/function",{kind:"scalar",resolve:function(e){if(null===e)return!1;try{var t="("+e+")",r=n.parse(t,{range:!0});return"Program"===r.type&&1===r.body.length&&"ExpressionStatement"===r.body[0].type&&("ArrowFunctionExpression"===r.body[0].expression.type||"FunctionExpression"===r.body[0].expression.type)}catch(i){return!1}},construct:function(e){var t,r="("+e+")",i=n.parse(r,{range:!0}),o=[];if("Program"!==i.type||1!==i.body.length||"ExpressionStatement"!==i.body[0].type||"ArrowFunctionExpression"!==i.body[0].expression.type&&"FunctionExpression"!==i.body[0].expression.type)throw new Error("Failed to resolve function");return i.body[0].expression.params.forEach((function(e){o.push(e.name)})),t=i.body[0].expression.body.range,"BlockStatement"===i.body[0].expression.body.type?new Function(o,r.slice(t[0]+1,t[1]-1)):new Function(o,"return "+r.slice(t[0],t[1]))},predicate:function(e){return"[object Function]"===Object.prototype.toString.call(e)},represent:function(e){return e.toString()}})},"NkL+":function(e,t,r){"use strict";var n=Object.prototype.toString;e.exports=function(e){var t;return"[object Object]"===n.call(e)&&(null===(t=Object.getPrototypeOf(e))||t===Object.getPrototypeOf({}))}},Nw8X:function(e,t,r){"use strict";var n=["http","https","mailto","tel"];e.exports=function(e){var t=(e||"").trim(),r=t.charAt(0);if("#"===r||"/"===r)return t;var i=t.indexOf(":");if(-1===i)return t;for(var o=n.length,s=-1;++s<o;){var a=n[s];if(i===a.length&&t.slice(0,a.length).toLowerCase()===a)return t}return-1!==(s=t.indexOf("?"))&&i>s?t:-1!==(s=t.indexOf("#"))&&i>s?t:"javascript:void(0)"}},NykK:function(e,t,r){var n=r("nmnc"),i=r("AP2z"),o=r("KfNM"),s="[object Null]",a="[object Undefined]",c=n?n.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?a:s:c&&c in Object(e)?i(e):o(e)}},O0Ee:function(e,t){const r=[{dimensions:[{name:"coffee_temperature",attributes:[{name:"hot",hidden:!0,aliases:["caliente","c\xe1lido"]},{name:"iced",aliases:["fr\xedo"]}]},{name:"coffee_size",attributes:[{name:"short",aliases:["peque\xf1ito","chico"]},{name:"tall",aliases:["tall","peque\xf1o"]},{name:"grande",aliases:["grande","mediano"]},{name:"venti",aliases:["venti"]}]},{name:"espresso_size",attributes:[{name:"solo",aliases:["(solo,peque\xf1o)"]},{name:"doppio",aliases:["doble"]},{name:"triple",aliases:["triple [shot]","three shot"]},{name:"quad",aliases:["(quad,quadruple) [shot]","four shot"]}]},{name:"option_quantity",attributes:[{name:"no",aliases:["no","sin"]},{name:"light",aliases:["menos","[solo] (un poquito,un poco) [de]"]},{name:"regular",hidden:!0,aliases:["normal","regular"]},{name:"extra",aliases:["extra","adicional","m\xe1s","mucho","much\xedsimo"]}]}],tensors:[{name:"latte_drinks",dimensions:["coffee_temperature","coffee_size"]},{name:"espresso_drinks",dimensions:["coffee_temperature","espresso_size"]},{name:"options",dimensions:["option_quantity"]}],catalog:[{tags:["latte_drinks"],tensor:"latte_drinks",default:["hot","grande"],forms:[{include:["*","*"]},{exclude:["hot","venti"]},{exclude:["iced","short"]}],items:[{name:"cappuccino",aliases:["cappuccino"]},{name:"flat white",aliases:["blanco plano"]},{name:"latte",aliases:["caf\xe9 [con] leche"]},{name:"latte macchiato",aliases:["[caf\xe9] latte macchiato"]},{name:"mocha",aliases:["[caf\xe9] mocha"]},{name:"chai latte",aliases:["chai [latte]"]}]},{tags:["espresso_drinks"],tensor:"espresso_drinks",default:["hot","doppio"],items:[{name:"espresso",aliases:["[caf\xe9] espresso","[caf\xe9] solo"]},{name:"lungo",aliases:["[caf\xe9] lungo"]},{name:"ristretto",aliases:["[caf\xe9] ristretto"]},{name:"macchiato",aliases:["[caf\xe9] macchiato"]}]},{tags:["coffee_drinks"],tensor:"latte_drinks",default:["hot","grande"],forms:[{include:["*","*"]},{exclude:["hot","venti"]},{exclude:["iced","short"]}],items:[{name:"americano",aliases:["[caf\xe9] americano"]},{name:"dark roast coffee",aliases:["[taza de] caf\xe9 [de filtro] [tostaso oscura]"]}]},{type:"option",items:[{tags:["syrups"],units:"bomba",role:"measured",tensor:"options",default:["regular"],items:[{name:"almond syrup",aliases:["[alm\xedbar,alm\xedbar de,jarabe,jarabe de] almendra"]},{name:"buttered rum syrup",aliases:["[alm\xedbar,alm\xedbar de,jarabe,jarabe de] ron [con mantequilla]"]},{name:"caramel syrup",aliases:["[alm\xedbar,alm\xedbar de,jarabe,jarabe de] caramelo"]},{name:"cinnamon syrup",aliases:["[alm\xedbar,alm\xedbar de,jarabe,jarabe de] canela"]},{name:"chocolate syrup",aliases:["[alm\xedbar,alm\xedbar de,jarabe,jarabe de] chocolate"]},{name:"hazelnut syrup",aliases:["[alm\xedbar,alm\xedbar de,jarabe,jarabe de] avellana"]},{name:"orange syrup",aliases:["[alm\xedbar,alm\xedbar de,jarabe,jarabe de] naranja"]},{name:"peppermint syrup",aliases:["[alm\xedbar,alm\xedbar de,jarabe,jarabe de] menta"]},{name:"raspberry syrup",aliases:["[alm\xedbar,alm\xedbar de,jarabe,jarabe de] frambuesa"]},{name:"toffee syrup",aliases:["[alm\xedbar,alm\xedbar de,jarabe,jarabe de] toffee"]},{name:"vanilla syrup",aliases:["[alm\xedbar,alm\xedbar de,jarabe,jarabe de] vainilla"]}]},{tags:["caffeines"],tensor:"none",role:"applied",items:[{name:"regular",aliases:["[totalmente] (con cafe\xedna,cafeinado)"]},{name:"two thirds caf",aliases:["dos tercios (con cafe\xedna,cafeinado)"]},{name:"half caf",aliases:["(medio,mitad) (con cafe\xedna,cafeinado)"]},{name:"one third caf",aliases:["un tercio (con cafe\xedna,cafeinado)"]},{name:"decaf",aliases:["descafeinada","sin cafe\xedna"]}]},{tags:["milks"],tensor:"none",items:[{name:"whole milk",aliases:["leche [entera]"]},{name:"two percent milk",aliases:["[leche] [con] dos por ciento [de grasa]"]},{name:"one percent milk",aliases:["[leche] [con] uno por ciento [de grasa]"]},{name:"nonfat milk",aliases:["[leche] (descremada,sin grasa)"]},{name:"coconut milk",aliases:["[leche] [de] coco"]},{name:"soy milk",aliases:["[leche] [de] soja"]},{name:"almond milk",aliases:["[leche] [de] almendra"]},{name:"oat milk",aliases:["[leche] [de] avena"]},{name:"eggnog",aliases:["eggnog"]}]},{tags:["creamers"],units:"poco",tensor:"none",items:[{name:"whole milk creamer",aliases:["leche [entera]"]},{name:"two percent milk creamer",aliases:["[leche] [con] dos por ciento [de grasa]"]},{name:"one percent milk creamer",aliases:["[leche] [con] uno por ciento [de grasa]"]},{name:"nonfat milk creamer",aliases:["[leche] [descremada,sin grasa]"]},{name:"coconut milk creamer",aliases:["[leche] [de] coco"]},{name:"soy milk creamer",aliases:["[leche] [de] soja"]},{name:"almond milk creamer",aliases:["[leche] [de] almendra"]},{name:"oat milk creamer",aliases:["[leche] [de] avena"]},{name:"eggnog creamer",aliases:["ponche de huevo"]},{name:"half and half",aliases:["crema"]},{name:"heavy cream",aliases:["crema espesa"]}]},{tags:["toppings"],tensor:"options",default:["regular"],items:[{name:"cinnamon",units:"poco",aliases:["canela"]},{name:"foam",aliases:["espuma"]},{name:"ice",aliases:["hielo"]},{name:"nutmeg",units:"poco",aliases:["nuez moscada [molida]"]},{name:"whipped cream",aliases:["(crema,nata) (batida,montada)"]},{name:"water",aliases:["agua"]}]},{tags:["latte_preparations"],tensor:"none",items:[{name:"for here cup",role:"applied",tags:["here-or-to-go"],aliases:["for here [cup]"]},{name:"lid",aliases:["tapa"]},{name:"with room",aliases:["espacio"]},{name:"to go",role:"applied",tags:["here-or-to-go"],aliases:["para llevar"]},{name:"dry",role:"applied",tags:["wet-or-dry"],aliases:["seco"]},{name:"wet",role:"applied",tags:["wet-or-dry"],aliases:["mojado"]}]},{tags:["sweeteners"],tensor:"options",default:["regular"],items:[{name:"equal",units:"bolsita",aliases:["igual","[edulcorante] az\xfal"]},{name:"honey",aliases:["miel"]},{name:"splenda",units:"bolsita",aliases:["splenda","[edulcorante] amarillo"]},{name:"sugar",units:"bolsita",aliases:["az\xfacar"]},{name:"sugar in the raw",units:"bolsita",aliases:["az\xfacar crudo","[edulcorante,az\xfacar] marr\xf3n"]},{name:"sweet n low",units:"bolsita",aliases:["sweet n low","[edulcorante] rosado"]},{name:"espresso shot",units:"extra",aliases:["carga","chorro"]}]}]}],rules:[{parents:["latte_drinks"],children:["milks","sweeteners","syrups","toppings"]},{parents:["latte_drinks","coffee_drinks","espresso_drinks"],children:["caffeines","here-or-to-go","latte_preparations","wet-or-dry"],info:{minQty:1,maxQty:1,defaultQty:1}},{parents:["coffee_drinks","espresso_drinks"],children:["creamers","sweeteners","syrups","toppings"]},{parents:["coffee_drinks","espresso_drinks","latte_drinks"],exclusive:["milks","caffeines","here-or-to-go","wet-or-dry"]}],recipes:[{name:"double double",aliases:["doble doble"],items:[{name:"grande dark roast coffee",quantity:2,children:[{name:"half and half",quantity:2,children:[]}]}]},{name:"one and one",aliases:["uno y uno"],items:[{name:"half and half",quantity:1,children:[]},{name:"sugar",quantity:1,children:[]}]},{name:"double shot",aliases:["doble"],items:[{name:"espresso shot",quantity:2,children:[]}]}]}];e.exports=r.length<=1?r[0]:r},OWJ2:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("eDuk"),i=r("NOtv"),o=r("ZR4k"),s=i("tf:itemMapFromYamlString"),a=(new n).compile({$schema:"http://json-schema.org/draft-07/schema#",definitions:{Item:{properties:{aliases:{items:{type:"string"},type:"array"},name:{type:"string"},pid:{type:"number"}},required:["aliases","name","pid"],type:"object"}},properties:{items:{items:{$ref:"#/definitions/Item"},type:"array"}},required:["items"],type:"object"});t.itemMapFromYamlString=function(e){const t=o.safeLoad(e);if(!a(t)){const e="itemMapFromYamlString: yaml data does not conform to schema.";throw s(e),s(a.errors),TypeError(e)}const r=new Map;for(const n of t.items)r.set(n.pid,n);return r}},Olrm:function(e,t,r){"use strict";var n=r("U6jy"),i=r("ZWk2");e.exports=function(e){return o.raw=function(e,o,s){return i(e,n(s,{position:t(o),warning:r}))},o;function t(t){for(var r=e.offset,n=t.line,i=[];++n&&n in r;)i.push((r[n]||0)+1);return{start:t,indent:i}}function r(t,r,n){3!==n&&e.file.message(t,r)}function o(n,o,s){i(n,{position:t(o),warning:r,text:s,reference:s,textContext:e,referenceContext:e})}}},OvQW:function(e,t,r){"use strict";function n(e){return e}function i(e){throw new Error("Called `absurd` function which should be uncallable")}Object.defineProperty(t,"__esModule",{value:!0}),t.hole=t.pipe=t.untupled=t.tupled=t.absurd=t.decrement=t.increment=t.tuple=t.flow=t.flip=t.constVoid=t.constUndefined=t.constNull=t.constFalse=t.constTrue=t.constant=t.not=t.unsafeCoerce=t.identity=void 0,t.identity=n,t.unsafeCoerce=n,t.not=function(e){return function(t){return!e(t)}},t.constant=function(e){return function(){return e}},t.constTrue=function(){return!0},t.constFalse=function(){return!1},t.constNull=function(){return null},t.constUndefined=function(){},t.constVoid=function(){},t.flip=function(e){return function(t,r){return e(r,t)}},t.flow=function(e,t,r,n,i,o,s,a,c){switch(arguments.length){case 1:return e;case 2:return function(){return t(e.apply(this,arguments))};case 3:return function(){return r(t(e.apply(this,arguments)))};case 4:return function(){return n(r(t(e.apply(this,arguments))))};case 5:return function(){return i(n(r(t(e.apply(this,arguments)))))};case 6:return function(){return o(i(n(r(t(e.apply(this,arguments))))))};case 7:return function(){return s(o(i(n(r(t(e.apply(this,arguments)))))))};case 8:return function(){return a(s(o(i(n(r(t(e.apply(this,arguments))))))))};case 9:return function(){return c(a(s(o(i(n(r(t(e.apply(this,arguments)))))))))}}},t.tuple=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e},t.increment=function(e){return e+1},t.decrement=function(e){return e-1},t.absurd=i,t.tupled=function(e){return function(t){return e.apply(void 0,t)}},t.untupled=function(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return e(t)}},t.pipe=function(e,t,r,n,i,o,s,a,c,u){switch(arguments.length){case 1:return e;case 2:return t(e);case 3:return r(t(e));case 4:return n(r(t(e)));case 5:return i(n(r(t(e))));case 6:return o(i(n(r(t(e)))));case 7:return s(o(i(n(r(t(e))))));case 8:return a(s(o(i(n(r(t(e)))))));case 9:return c(a(s(o(i(n(r(t(e))))))));case 10:return u(c(a(s(o(i(n(r(t(e)))))))))}},t.hole=i},P0bo:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("ibpa"),i=r("KVL+"),o=r("YyFA"),s=r("cy9h"),a=r("LEq9"),c=r("dvm+"),u=r("80gS");t.createWorld3=function(e){const t=s.processDimensions(e.dimensions),r=s.processTensors(t,e.tensors),l={dimensions:[...t.values()].map(e=>e.dimension),tensors:[...r.values()]},p=new a.GroupBuilder(t,r,e.skus);a.processGroups(p,e.catalog);const h=o.Catalog.fromEntities(p.generics.values(),p.specifics.values()),d=new n.AttributeInfo(h,l),f=u.processRecipes(h,e.recipes),m=c.processRules(p.tagsToPIDs,p.pidsToUnits,e.rules);return{attributes:l,attributeInfo:d,cartOps:new i.CartOps(d,h,m),catalog:h,cookbook:f,ruleChecker:m}}},P7XM:function(e,t){"function"===typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}},PDX0:function(e,t){(function(t){e.exports=t}).call(this,{})},PIlL:function(e,t,r){"use strict";var n=r("RsFJ"),i=r("KJAg");e.exports=function(e,t,r){var u,l,p,h,d,f,m,v,g,y=this.offset,b=this.blockTokenizers,S=this.interruptBlockquote,w=e.now(),k=w.line,E=t.length,O=[],x=[],C=[],P=0;for(;P<E&&((l=t.charAt(P))===a||l===s);)P++;if(t.charAt(P)!==c)return;if(r)return!0;P=0;for(;P<E;){for(h=t.indexOf(o,P),m=P,v=!1,-1===h&&(h=E);P<E&&((l=t.charAt(P))===a||l===s);)P++;if(t.charAt(P)===c?(P++,v=!0,t.charAt(P)===a&&P++):P=m,d=t.slice(P,h),!v&&!n(d)){P=m;break}if(!v&&(p=t.slice(P),i(S,b,this,[e,p,!0])))break;f=m===P?d:t.slice(m,h),C.push(P-m),O.push(f),x.push(d),P=h+1}P=-1,E=C.length,u=e(O.join(o));for(;++P<E;)y[k]=(y[k]||0)+C[P],k++;return g=this.enterBlock(),x=this.tokenizeBlock(x.join(o),w),g(),u({type:"blockquote",children:x})};var o="\n",s="\t",a=" ",c=">"},"PP+l":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ENTITY=Symbol("ENTITY"),t.createEntity=function(e,r){return{type:t.ENTITY,pid:e,name:r}}},PV3F:function(e,t){const r=[{imports:["bakery-es.yaml","coffee-es.yaml"]}];e.exports=r.length<=1?r[0]:r},PawY:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.leftJustify=function(e,t){if(e.length>=t)return e;{const r=t-e.length;return e+new Array(r+1).join(" ")}},t.rightJustify=function(e,t){if(e.length>=t)return e;{const r=t-e.length;return new Array(r+1).join(" ")+e}}},Pe6h:function(e,t,r){"use strict";var n=r("Y2Yi"),i=r("hyoZ"),o=new RegExp("^(?:[-+]?(?:0|[1-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\\.[0-9_]*|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");var s=/^[-+]?[0-9]+e/;e.exports=new i("tag:yaml.org,2002:float",{kind:"scalar",resolve:function(e){return null!==e&&!(!o.test(e)||"_"===e[e.length-1])},construct:function(e){var t,r,n,i;return r="-"===(t=e.replace(/_/g,"").toLowerCase())[0]?-1:1,i=[],"+-".indexOf(t[0])>=0&&(t=t.slice(1)),".inf"===t?1===r?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:".nan"===t?NaN:t.indexOf(":")>=0?(t.split(":").forEach((function(e){i.unshift(parseFloat(e,10))})),t=0,n=1,i.forEach((function(e){t+=e*n,n*=60})),r*t):r*parseFloat(t,10)},predicate:function(e){return"[object Number]"===Object.prototype.toString.call(e)&&(e%1!==0||n.isNegativeZero(e))},represent:function(e,t){var r;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(n.isNegativeZero(e))return"-0.0";return r=e.toString(10),s.test(r)?r.replace("e",".e"):r},defaultStyle:"lowercase"})},Po9p:function(e,t){},PpvX:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r("ahYF");class i{constructor(e){if(this.privSubscriptionIdCounter=0,this.privAddSubscriptions={},this.privRemoveSubscriptions={},this.privDisposedSubscriptions={},this.privDisposeReason=null,this.get=e=>(this.throwIfDisposed(),this.privList[e]),this.first=()=>this.get(0),this.last=()=>this.get(this.length()-1),this.add=e=>{this.throwIfDisposed(),this.insertAt(this.privList.length,e)},this.insertAt=(e,t)=>{this.throwIfDisposed(),0===e?this.privList.unshift(t):e===this.privList.length?this.privList.push(t):this.privList.splice(e,0,t),this.triggerSubscriptions(this.privAddSubscriptions)},this.removeFirst=()=>(this.throwIfDisposed(),this.removeAt(0)),this.removeLast=()=>(this.throwIfDisposed(),this.removeAt(this.length()-1)),this.removeAt=e=>(this.throwIfDisposed(),this.remove(e,1)[0]),this.remove=(e,t)=>{this.throwIfDisposed();const r=this.privList.splice(e,t);return this.triggerSubscriptions(this.privRemoveSubscriptions),r},this.clear=()=>{this.throwIfDisposed(),this.remove(0,this.length())},this.length=()=>(this.throwIfDisposed(),this.privList.length),this.onAdded=e=>{this.throwIfDisposed();const t=this.privSubscriptionIdCounter++;return this.privAddSubscriptions[t]=e,{detach:()=>{delete this.privAddSubscriptions[t]}}},this.onRemoved=e=>{this.throwIfDisposed();const t=this.privSubscriptionIdCounter++;return this.privRemoveSubscriptions[t]=e,{detach:()=>{delete this.privRemoveSubscriptions[t]}}},this.onDisposed=e=>{this.throwIfDisposed();const t=this.privSubscriptionIdCounter++;return this.privDisposedSubscriptions[t]=e,{detach:()=>{delete this.privDisposedSubscriptions[t]}}},this.join=e=>(this.throwIfDisposed(),this.privList.join(e)),this.toArray=()=>{const e=Array();return this.privList.forEach(t=>{e.push(t)}),e},this.any=e=>(this.throwIfDisposed(),e?this.where(e).length()>0:this.length()>0),this.all=e=>(this.throwIfDisposed(),this.where(e).length()===this.length()),this.forEach=e=>{this.throwIfDisposed();for(let t=0;t<this.length();t++)e(this.privList[t],t)},this.select=e=>{this.throwIfDisposed();const t=[];for(let r=0;r<this.privList.length;r++)t.push(e(this.privList[r],r));return new i(t)},this.where=e=>{this.throwIfDisposed();const t=new i;for(let r=0;r<this.privList.length;r++)e(this.privList[r],r)&&t.add(this.privList[r]);return t},this.orderBy=e=>{this.throwIfDisposed();const t=this.toArray().sort(e);return new i(t)},this.orderByDesc=e=>(this.throwIfDisposed(),this.orderBy((t,r)=>e(r,t))),this.clone=()=>(this.throwIfDisposed(),new i(this.toArray())),this.concat=e=>(this.throwIfDisposed(),new i(this.privList.concat(e.toArray()))),this.concatArray=e=>(this.throwIfDisposed(),new i(this.privList.concat(e))),this.isDisposed=()=>null==this.privList,this.dispose=e=>{this.isDisposed()||(this.privDisposeReason=e,this.privList=null,this.privAddSubscriptions=null,this.privRemoveSubscriptions=null,this.triggerSubscriptions(this.privDisposedSubscriptions))},this.throwIfDisposed=()=>{if(this.isDisposed())throw new n.c("List",this.privDisposeReason)},this.triggerSubscriptions=e=>{if(e)for(const t in e)t&&e[t]()},this.privList=[],e)for(const t of e)this.privList.push(t)}}var o,s=r("ruVm");!function(e){e[e.Dequeue=0]="Dequeue",e[e.Peek=1]="Peek"}(o||(o={}));class a{constructor(e){this.privPromiseStore=new i,this.privIsDrainInProgress=!1,this.privIsDisposing=!1,this.privDisposeReason=null,this.enqueue=e=>{this.throwIfDispose(),this.enqueueFromPromise(s.b.fromResult(e))},this.enqueueFromPromise=e=>{this.throwIfDispose(),this.privPromiseStore.add(e),e.finally(()=>{for(;this.privPromiseStore.length()>0&&this.privPromiseStore.first().result().isCompleted;){const e=this.privPromiseStore.removeFirst();e.result().isError||this.privList.add(e.result().result)}})},this.dequeue=()=>{this.throwIfDispose();const e=new s.a;return this.privSubscribers&&(this.privSubscribers.add({deferral:e,type:o.Dequeue}),this.drain()),e.promise()},this.peek=()=>{this.throwIfDispose();const e=new s.a;return this.privSubscribers&&(this.privSubscribers.add({deferral:e,type:o.Peek}),this.drain()),e.promise()},this.length=()=>(this.throwIfDispose(),this.privList.length()),this.isDisposed=()=>null==this.privSubscribers,this.drainAndDispose=(e,t)=>{if(!this.isDisposed()&&!this.privIsDisposing){this.privDisposeReason=t,this.privIsDisposing=!0;const r=this.privSubscribers;if(r){for(;r.length()>0;){r.removeFirst().deferral.resolve(void 0)}this.privSubscribers===r&&(this.privSubscribers=r)}for(const e of this.privDetachables)e.detach();if(this.privPromiseStore.length()>0&&e)return s.b.whenAll(this.privPromiseStore.toArray()).continueWith(()=>(this.privSubscribers=null,this.privList.forEach((t,r)=>{e(t)}),this.privList=null,!0));this.privSubscribers=null,this.privList=null}return s.b.fromResult(!0)},this.dispose=e=>{this.drainAndDispose(null,e)},this.drain=()=>{if(!this.privIsDrainInProgress&&!this.privIsDisposing){this.privIsDrainInProgress=!0;const e=this.privSubscribers,t=this.privList;if(e&&t){for(;t.length()>0&&e.length()>0&&!this.privIsDisposing;){const r=e.removeFirst();if(r.type===o.Peek)r.deferral.resolve(t.first());else{const e=t.removeFirst();r.deferral.resolve(e)}}this.privSubscribers===e&&(this.privSubscribers=e),this.privList===t&&(this.privList=t)}this.privIsDrainInProgress=!1}},this.throwIfDispose=()=>{if(this.isDisposed()){if(this.privDisposeReason)throw new n.b(this.privDisposeReason);throw new n.c("Queue")}if(this.privIsDisposing)throw new n.b("Queue disposing")},this.privList=e||new i,this.privDetachables=[],this.privSubscribers=new i,this.privDetachables.push(this.privList.onAdded(this.drain))}}},QA0p:function(e,t,r){"use strict";t.__esModule=!0,t.default=function(e,t){var r=void 0===t?{}:t,n=r.propTypes,o=r.defaultProps,s=r.allowFallback,a=void 0!==s&&s,c=r.displayName,u=void 0===c?e.name||e.displayName:c,l=function(t,r){return e(t,r)};return Object.assign(i.default.forwardRef||!a?i.default.forwardRef(l):function(e){return l(e,null)},{displayName:u,propTypes:n,defaultProps:o})};var n,i=(n=r("q1tI"))&&n.__esModule?n:{default:n}},QLaP:function(e,t,r){"use strict";e.exports=function(e,t,r,n,i,o,s,a){if(!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[r,n,i,o,s,a],l=0;(c=new Error(t.replace(/%s/g,(function(){return u[l++]})))).name="Invariant Violation"}throw c.framesToPop=1,c}}},QzWj:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r("hpbh"))},RO8d:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.TokenSequence=class{constructor(e){this.cursor=0,this.tokensUsed=0,this.tokens=e}startsWith(e){if(e.length+this.cursor>this.tokens.length)return!1;for(const[t,r]of e.entries())if(r!==this.tokens[this.cursor+t].type)return!1;return!0}take(e){if(e+this.cursor>this.tokens.length){throw TypeError("TokenSequence.take(): beyond end of sequence.")}this.tokensUsed+=e,this.cursor+=e}peek(e){if(e+this.cursor>=this.tokens.length){throw TypeError("TokenSequence.peek(): beyond end of sequence.")}return this.tokens[this.cursor+e]}discard(e){if(e+this.cursor>this.tokens.length){throw TypeError("TokenSequence.discard(): beyond end of sequence.")}this.cursor+=e}atEOS(){return this.cursor===this.tokens.length}}},RSXs:function(e,t,r){"use strict";var n=r("RsFJ"),i=r("ZONP"),o=r("3GlI"),s=r("KJAg");e.exports=function(e,t,r){var p,h,d,f,m,v=this.options,g=v.commonmark,y=v.gfm,b=this.blockTokenizers,S=this.interruptParagraph,w=t.indexOf(a),k=t.length;for(;w<k;){if(-1===w){w=k;break}if(t.charAt(w+1)===a)break;if(g){for(f=0,p=w+1;p<k;){if((d=t.charAt(p))===c){f=l;break}if(d!==u)break;f++,p++}if(f>=l){w=t.indexOf(a,w+1);continue}}if(h=t.slice(w+1),s(S,b,this,[e,h,!0]))break;if(b.list.call(this,e,h,!0)&&(this.inList||g||y&&!i(n.left(h).charAt(0))))break;if(p=w,-1!==(w=t.indexOf(a,w+1))&&""===n(t.slice(p,w))){w=p;break}}if(h=t.slice(0,w),""===n(h))return e(h),null;if(r)return!0;return m=e.now(),h=o(h),e(h)({type:"paragraph",children:this.tokenizeInline(h,m)})};var a="\n",c="\t",u=" ",l=4},RSjF:function(e,t,r){"use strict";var n=r("3lC6");e.exports=new n({include:[r("+VNs")]})},RjOF:function(e,t,r){"use strict";var n,i="";e.exports=function(e,t){if("string"!==typeof e)throw new TypeError("expected a string");if(1===t)return e;if(2===t)return e+e;var r=e.length*t;if(n!==e||"undefined"===typeof n)n=e,i="";else if(i.length>=r)return i.substr(0,r);for(;r>i.length&&t>1;)1&t&&(i+=e),t>>=1,e+=e;return i=(i+=e).substr(0,r)}},RsDv:function(e){e.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","$id":"https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/data.json#","description":"Meta-schema for $data reference (JSON Schema extension proposal)","type":"object","required":["$data"],"properties":{"$data":{"type":"string","anyOf":[{"format":"relative-json-pointer"},{"format":"json-pointer"}]}},"additionalProperties":false}')},RsFJ:function(e,t){(t=e.exports=function(e){return e.replace(/^\s*|\s*$/g,"")}).left=function(e){return e.replace(/^\s*/,"")},t.right=function(e){return e.replace(/\s*$/,"")}},SLVX:function(e,t,r){"use strict";function n(e){var t,r=e.Symbol;return"function"===typeof r?r.observable?t=r.observable:(t=r("observable"),r.observable=t):t="@@observable",t}r.d(t,"a",(function(){return n}))},SPYI:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("M/Vc");function i(e){const t=Number.parseInt(e,10);if(isNaN(t)){}return t}t.AttributeInfo=class{constructor(e,t){this.nameToDimension=new Map,this.didToDimension=new Map,this.aidToCoordinate=new Map,this.tensorIdToTensor=new Map,this.aidToDescription=new Map,this.catalog=e;for(const r of t.dimensions){for(const e of r.attributes){if(this.aidToDescription.has(e.aid)){const t=`Duplicate aid ${e.aid} on "${e.name}"`;throw new TypeError(t)}this.aidToDescription.set(e.aid,e)}this.addDimension(new n.Dimension(r.did,r.name,r.attributes.values()))}for(const r of t.tensors){const e=[];for(const t of r.dimensions){const r=this.didToDimension.get(t);if(!r){throw TypeError(`unknown dimension id ${t}.`)}e.push(r)}this.addTensor({tid:r.tid,dimensions:e})}}addDimension(e){if(this.didToDimension.has(e.did)){const t=`found duplicate dimension id ${e.did}.`;throw new TypeError(t)}if(this.didToDimension.set(e.did,e),this.nameToDimension.has(e.name)){const t=`found duplicate dimension name "${e.name}".`;throw new TypeError(t)}this.nameToDimension.set(e.name,e);let t=0;for(const r of e.attributes){if(this.aidToCoordinate.has(r.aid)){const e=`found duplicate attribute pid ${r.aid}.`;throw new TypeError(e)}this.aidToCoordinate.set(r.aid,{dimension:e,position:t}),t++}}getDimension(e){const t=this.didToDimension.get(e);if(void 0===t){throw TypeError(`Unknown dimension id ${e}.`)}return t}getDimensionFromName(e){const t=this.nameToDimension.get(e);if(void 0===t){throw TypeError(`Unknown dimension name "${e}".`)}return t}dimensions(){return this.nameToDimension.values()}getAttribute(e){const t=this.aidToDescription.get(e);if(void 0===t){throw TypeError(`Unknown attribute id ${e}.`)}return t}addTensor(e){if(this.tensorIdToTensor.has(e.tid)){const t=`found duplicate tensor id ${e.tid}.`;throw new TypeError(t)}this.tensorIdToTensor.set(e.tid,e)}getAttributeCoordinates(e){const t=this.aidToCoordinate.get(e);if(void 0===t){throw TypeError(`Unknown attribute id ${e}.`)}return t}getTensor(e){const t=this.tensorIdToTensor.get(e);if(void 0===t){throw`Bad tensor id ${e}.`}return t}getTensorForEntity(e){const t=this.catalog.getGeneric(e);return this.getTensor(t.tensor)}getKey(e,t,r){const n=this.catalog.getGeneric(e),i=this.getTensor(n.tensor),o=n.defaultKey.split(":");if(o.shift(),r)for(let s=0;s<o.length;++s)o[s]="\\d+";for(const[s,a]of i.dimensions.entries()){const e=t.get(a.did);if(void 0!==e){const t=this.getAttributeCoordinates(e);o[s]=t.position.toString()}}return[e.toString(),...o].join(":")}getAttributes(e){const t=e.split(":").map(i),r=t[0],n=this.getTensorForEntity(r);t.shift();const o=[];for(let i=0;i<t.length;++i){const e=n.dimensions[i].attributes[t[i]];o.push(e.aid)}return o}static hasDimension(e,t){for(const r of e.dimensions)if(r.did===t)return!0;return!1}static pidFromKey(e){const t=Number.parseInt(e,10);if(isNaN(t))throw TypeError(`Bad key "${e}""`);return t}}},"SZ1/":function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r("cy9h")),n(r("hoC6")),n(r("LEq9")),n(r("80gS")),n(r("dvm+")),n(r("5N48")),n(r("P0bo"))},SbiQ:function(e,t,r){"use strict";e.exports=function(e,t,r){var n,i,o,s,a,c,u,l,p,h;if(r)return!0;n=this.inlineMethods,s=n.length,i=this.inlineTokenizers,o=-1,p=t.length;for(;++o<s;)"text"!==(l=n[o])&&i[l]&&((u=i[l].locator)||e.file.fail("Missing locator: `"+l+"`"),-1!==(c=u.call(this,t,1))&&c<p&&(p=c));a=t.slice(0,p),h=e.now(),this.decode(a,h,(function(t,r,n){e(n||t)({type:"text",value:t})}))}},T016:function(e,t,r){"use strict";e.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},T3zA:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("eByF");t.bipartiteMatchingDiff=function(e,t,r){const i=[],o=t.length,s=r.length,a=Math.max(o,s);if(0===a)return{cost:0,edits:[]};for(let n=0;n<a;++n){const c=[];for(let i=0;i<a;++i)n<o?i<s?c.push(e.repair(t[n],r[i])):c.push(e.delete(t[n])):c.push(e.insert(r[i]));i.push(c)}const c=i.map(e=>e.map(e=>e.cost)),u=n(c).map(e=>i[e[0]][e[1]]).filter(e=>0!==e.cost);let l=0;for(const n of u)l+=n.cost;return{cost:l,edits:u}}},TKrE:function(e,t,r){var n=r("qRkn"),i=r("dt0z"),o=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,s=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");e.exports=function(e){return(e=i(e))&&e.replace(o,n).replace(s,"")}},TOwV:function(e,t,r){"use strict";e.exports=r("qT12")},TPPd:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("Gg6i");t.NumberTokenFactory=class{constructor(){this.tokens=new Map}get(e){const t=this.tokens.get(e);if(t)return t;{const t={type:n.NUMBERTOKEN,value:e};return this.tokens.set(e,t),t}}}},TSYQ:function(e,t,r){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var o=typeof n;if("string"===o||"number"===o)e.push(n);else if(Array.isArray(n)&&n.length){var s=i.apply(null,n);s&&e.push(s)}else if("object"===o)for(var a in n)r.call(n,a)&&n[a]&&e.push(a)}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},TbEC:function(e,t,r){"use strict";e.exports=function(e,t,r){var n=" ",i=e.level,o=e.dataLevel,s=e.schema[t],a=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,l="data"+(o||""),p="valid"+i,h="errs__"+i,d=e.util.copy(e),f="";d.level++;var m="valid"+d.level,v=d.baseId,g="prevValid"+i,y="passingSchemas"+i;n+="var "+h+" = errors , "+g+" = false , "+p+" = false , "+y+" = null; ";var b=e.compositeRule;e.compositeRule=d.compositeRule=!0;var S=s;if(S)for(var w,k=-1,E=S.length-1;k<E;)w=S[k+=1],(e.opts.strictKeywords?"object"==typeof w&&Object.keys(w).length>0:e.util.schemaHasRules(w,e.RULES.all))?(d.schema=w,d.schemaPath=a+"["+k+"]",d.errSchemaPath=c+"/"+k,n+="  "+e.validate(d)+" ",d.baseId=v):n+=" var "+m+" = true; ",k&&(n+=" if ("+m+" && "+g+") { "+p+" = false; "+y+" = ["+y+", "+k+"]; } else { ",f+="}"),n+=" if ("+m+") { "+p+" = "+g+" = true; "+y+" = "+k+"; }";return e.compositeRule=d.compositeRule=b,n+=f+"if (!"+p+") {   var err =   ",!1!==e.createErrors?(n+=" { keyword: 'oneOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { passingSchemas: "+y+" } ",!1!==e.opts.messages&&(n+=" , message: 'should match exactly one schema in oneOf' "),e.opts.verbose&&(n+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&u&&(e.async?n+=" throw new ValidationError(vErrors); ":n+=" validate.errors = vErrors; return false; "),n+="} else {  errors = "+h+"; if (vErrors !== null) { if ("+h+") vErrors.length = "+h+"; else vErrors = null; }",e.opts.allErrors&&(n+=" } "),n}},ThTW:function(e,t,r){!function(e){"use strict";function t(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];if(t.length>1){t[0]=t[0].slice(0,-1);for(var n=t.length-1,i=1;i<n;++i)t[i]=t[i].slice(1,-1);return t[n]=t[n].slice(1),t.join("")}return t[0]}function r(e){return"(?:"+e+")"}function n(e){return void 0===e?"undefined":null===e?"null":Object.prototype.toString.call(e).split(" ").pop().split("]").shift().toLowerCase()}function i(e){return e.toUpperCase()}function o(e){var n=t("[0-9]","[A-Fa-f]"),i=r(r("%[EFef]"+n+"%"+n+n+"%"+n+n)+"|"+r("%[89A-Fa-f]"+n+"%"+n+n)+"|"+r("%"+n+n)),o="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",s=t("[\\:\\/\\?\\#\\[\\]\\@]",o),a=e?"[\\uE000-\\uF8FF]":"[]",c=t("[A-Za-z]","[0-9]","[\\-\\.\\_\\~]",e?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]"),u=r("[A-Za-z]"+t("[A-Za-z]","[0-9]","[\\+\\-\\.]")+"*"),l=r(r(i+"|"+t(c,o,"[\\:]"))+"*"),p=(r(r("25[0-5]")+"|"+r("2[0-4][0-9]")+"|"+r("1[0-9][0-9]")+"|"+r("[1-9][0-9]")+"|[0-9]"),r(r("25[0-5]")+"|"+r("2[0-4][0-9]")+"|"+r("1[0-9][0-9]")+"|"+r("0?[1-9][0-9]")+"|0?0?[0-9]")),h=r(p+"\\."+p+"\\."+p+"\\."+p),d=r(n+"{1,4}"),f=r(r(d+"\\:"+d)+"|"+h),m=r(r(d+"\\:")+"{6}"+f),v=r("\\:\\:"+r(d+"\\:")+"{5}"+f),g=r(r(d)+"?\\:\\:"+r(d+"\\:")+"{4}"+f),y=r(r(r(d+"\\:")+"{0,1}"+d)+"?\\:\\:"+r(d+"\\:")+"{3}"+f),b=r(r(r(d+"\\:")+"{0,2}"+d)+"?\\:\\:"+r(d+"\\:")+"{2}"+f),S=r(r(r(d+"\\:")+"{0,3}"+d)+"?\\:\\:"+d+"\\:"+f),w=r(r(r(d+"\\:")+"{0,4}"+d)+"?\\:\\:"+f),k=r(r(r(d+"\\:")+"{0,5}"+d)+"?\\:\\:"+d),E=r(r(r(d+"\\:")+"{0,6}"+d)+"?\\:\\:"),O=r([m,v,g,y,b,S,w,k,E].join("|")),x=r(r(c+"|"+i)+"+"),C=(r(O+"\\%25"+x),r(O+r("\\%25|\\%(?!"+n+"{2})")+x)),P=r("[vV]"+n+"+\\."+t(c,o,"[\\:]")+"+"),T=r("\\["+r(C+"|"+O+"|"+P)+"\\]"),R=r(r(i+"|"+t(c,o))+"*"),M=r(T+"|"+h+"(?!"+R+")|"+R),A=r("[0-9]*"),I=r(r(l+"@")+"?"+M+r("\\:"+A)+"?"),_=r(i+"|"+t(c,o,"[\\:\\@]")),N=r(_+"*"),D=r(_+"+"),F=r(r(i+"|"+t(c,o,"[\\@]"))+"+"),j=r(r("\\/"+N)+"*"),B=r("\\/"+r(D+j)+"?"),z=r(F+j),q=r(D+j),L="(?!"+_+")",W=(r(j+"|"+B+"|"+z+"|"+q+"|"+L),r(r(_+"|"+t("[\\/\\?]",a))+"*")),U=r(r(_+"|[\\/\\?]")+"*"),$=r(r("\\/\\/"+I+j)+"|"+B+"|"+q+"|"+L),K=r(u+"\\:"+$+r("\\?"+W)+"?"+r("\\#"+U)+"?"),H=r(r("\\/\\/"+I+j)+"|"+B+"|"+z+"|"+L),G=r(H+r("\\?"+W)+"?"+r("\\#"+U)+"?");return r(K+"|"+G),r(u+"\\:"+$+r("\\?"+W)+"?"),r(r("\\/\\/("+r("("+l+")@")+"?("+M+")"+r("\\:("+A+")")+"?)")+"?("+j+"|"+B+"|"+q+"|"+L+")"),r("\\?("+W+")"),r("\\#("+U+")"),r(r("\\/\\/("+r("("+l+")@")+"?("+M+")"+r("\\:("+A+")")+"?)")+"?("+j+"|"+B+"|"+z+"|"+L+")"),r("\\?("+W+")"),r("\\#("+U+")"),r(r("\\/\\/("+r("("+l+")@")+"?("+M+")"+r("\\:("+A+")")+"?)")+"?("+j+"|"+B+"|"+q+"|"+L+")"),r("\\?("+W+")"),r("\\#("+U+")"),r("("+l+")@"),r("\\:("+A+")"),{NOT_SCHEME:new RegExp(t("[^]","[A-Za-z]","[0-9]","[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(t("[^\\%\\:]",c,o),"g"),NOT_HOST:new RegExp(t("[^\\%\\[\\]\\:]",c,o),"g"),NOT_PATH:new RegExp(t("[^\\%\\/\\:\\@]",c,o),"g"),NOT_PATH_NOSCHEME:new RegExp(t("[^\\%\\/\\@]",c,o),"g"),NOT_QUERY:new RegExp(t("[^\\%]",c,o,"[\\:\\@\\/\\?]",a),"g"),NOT_FRAGMENT:new RegExp(t("[^\\%]",c,o,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(t("[^]",c,o),"g"),UNRESERVED:new RegExp(c,"g"),OTHER_CHARS:new RegExp(t("[^\\%]",c,s),"g"),PCT_ENCODED:new RegExp(i,"g"),IPV4ADDRESS:new RegExp("^("+h+")$"),IPV6ADDRESS:new RegExp("^\\[?("+O+")"+r(r("\\%25|\\%(?!"+n+"{2})")+"("+x+")")+"?\\]?$")}}var s=o(!1),a=o(!0),c=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(n=(s=a.next()).done)&&(r.push(s.value),!t||r.length!==t);n=!0);}catch(c){i=!0,o=c}finally{try{!n&&a.return&&a.return()}finally{if(i)throw o}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},u=2147483647,l=/^xn--/,p=/[^\0-\x7E]/,h=/[\x2E\u3002\uFF0E\uFF61]/g,d={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},f=Math.floor,m=String.fromCharCode;function v(e){throw new RangeError(d[e])}function g(e,t){var r=e.split("@"),n="";r.length>1&&(n=r[0]+"@",e=r[1]);var i=function(e,t){for(var r=[],n=e.length;n--;)r[n]=t(e[n]);return r}((e=e.replace(h,".")).split("."),t).join(".");return n+i}function y(e){for(var t=[],r=0,n=e.length;r<n;){var i=e.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){var o=e.charCodeAt(r++);56320==(64512&o)?t.push(((1023&i)<<10)+(1023&o)+65536):(t.push(i),r--)}else t.push(i)}return t}var b=function(e,t){return e+22+75*(e<26)-((0!=t)<<5)},S=function(e,t,r){var n=0;for(e=r?f(e/700):e>>1,e+=f(e/t);e>455;n+=36)e=f(e/35);return f(n+36*e/(e+38))},w=function(e){var t,r=[],n=e.length,i=0,o=128,s=72,a=e.lastIndexOf("-");a<0&&(a=0);for(var c=0;c<a;++c)e.charCodeAt(c)>=128&&v("not-basic"),r.push(e.charCodeAt(c));for(var l=a>0?a+1:0;l<n;){for(var p=i,h=1,d=36;;d+=36){l>=n&&v("invalid-input");var m=(t=e.charCodeAt(l++))-48<10?t-22:t-65<26?t-65:t-97<26?t-97:36;(m>=36||m>f((u-i)/h))&&v("overflow"),i+=m*h;var g=d<=s?1:d>=s+26?26:d-s;if(m<g)break;var y=36-g;h>f(u/y)&&v("overflow"),h*=y}var b=r.length+1;s=S(i-p,b,0==p),f(i/b)>u-o&&v("overflow"),o+=f(i/b),i%=b,r.splice(i++,0,o)}return String.fromCodePoint.apply(String,r)},k=function(e){var t=[],r=(e=y(e)).length,n=128,i=0,o=72,s=!0,a=!1,c=void 0;try{for(var l,p=e[Symbol.iterator]();!(s=(l=p.next()).done);s=!0){var h=l.value;h<128&&t.push(m(h))}}catch(q){a=!0,c=q}finally{try{!s&&p.return&&p.return()}finally{if(a)throw c}}var d=t.length,g=d;for(d&&t.push("-");g<r;){var w=u,k=!0,E=!1,O=void 0;try{for(var x,C=e[Symbol.iterator]();!(k=(x=C.next()).done);k=!0){var P=x.value;P>=n&&P<w&&(w=P)}}catch(q){E=!0,O=q}finally{try{!k&&C.return&&C.return()}finally{if(E)throw O}}var T=g+1;w-n>f((u-i)/T)&&v("overflow"),i+=(w-n)*T,n=w;var R=!0,M=!1,A=void 0;try{for(var I,_=e[Symbol.iterator]();!(R=(I=_.next()).done);R=!0){var N=I.value;if(N<n&&++i>u&&v("overflow"),N==n){for(var D=i,F=36;;F+=36){var j=F<=o?1:F>=o+26?26:F-o;if(D<j)break;var B=D-j,z=36-j;t.push(m(b(j+B%z,0))),D=f(B/z)}t.push(m(b(D,0))),o=S(i,T,g==d),i=0,++g}}}catch(q){M=!0,A=q}finally{try{!R&&_.return&&_.return()}finally{if(M)throw A}}++i,++n}return t.join("")},E={version:"2.1.0",ucs2:{decode:y,encode:function(e){return String.fromCodePoint.apply(String,function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}(e))}},decode:w,encode:k,toASCII:function(e){return g(e,(function(e){return p.test(e)?"xn--"+k(e):e}))},toUnicode:function(e){return g(e,(function(e){return l.test(e)?w(e.slice(4).toLowerCase()):e}))}},O={};function x(e){var t=e.charCodeAt(0);return t<16?"%0"+t.toString(16).toUpperCase():t<128?"%"+t.toString(16).toUpperCase():t<2048?"%"+(t>>6|192).toString(16).toUpperCase()+"%"+(63&t|128).toString(16).toUpperCase():"%"+(t>>12|224).toString(16).toUpperCase()+"%"+(t>>6&63|128).toString(16).toUpperCase()+"%"+(63&t|128).toString(16).toUpperCase()}function C(e){for(var t="",r=0,n=e.length;r<n;){var i=parseInt(e.substr(r+1,2),16);if(i<128)t+=String.fromCharCode(i),r+=3;else if(i>=194&&i<224){if(n-r>=6){var o=parseInt(e.substr(r+4,2),16);t+=String.fromCharCode((31&i)<<6|63&o)}else t+=e.substr(r,6);r+=6}else if(i>=224){if(n-r>=9){var s=parseInt(e.substr(r+4,2),16),a=parseInt(e.substr(r+7,2),16);t+=String.fromCharCode((15&i)<<12|(63&s)<<6|63&a)}else t+=e.substr(r,9);r+=9}else t+=e.substr(r,3),r+=3}return t}function P(e,t){function r(e){var r=C(e);return r.match(t.UNRESERVED)?r:e}return e.scheme&&(e.scheme=String(e.scheme).replace(t.PCT_ENCODED,r).toLowerCase().replace(t.NOT_SCHEME,"")),void 0!==e.userinfo&&(e.userinfo=String(e.userinfo).replace(t.PCT_ENCODED,r).replace(t.NOT_USERINFO,x).replace(t.PCT_ENCODED,i)),void 0!==e.host&&(e.host=String(e.host).replace(t.PCT_ENCODED,r).toLowerCase().replace(t.NOT_HOST,x).replace(t.PCT_ENCODED,i)),void 0!==e.path&&(e.path=String(e.path).replace(t.PCT_ENCODED,r).replace(e.scheme?t.NOT_PATH:t.NOT_PATH_NOSCHEME,x).replace(t.PCT_ENCODED,i)),void 0!==e.query&&(e.query=String(e.query).replace(t.PCT_ENCODED,r).replace(t.NOT_QUERY,x).replace(t.PCT_ENCODED,i)),void 0!==e.fragment&&(e.fragment=String(e.fragment).replace(t.PCT_ENCODED,r).replace(t.NOT_FRAGMENT,x).replace(t.PCT_ENCODED,i)),e}function T(e){return e.replace(/^0*(.*)/,"$1")||"0"}function R(e,t){var r=e.match(t.IPV4ADDRESS)||[],n=c(r,2)[1];return n?n.split(".").map(T).join("."):e}function M(e,t){var r=e.match(t.IPV6ADDRESS)||[],n=c(r,3),i=n[1],o=n[2];if(i){for(var s=i.toLowerCase().split("::").reverse(),a=c(s,2),u=a[0],l=a[1],p=l?l.split(":").map(T):[],h=u.split(":").map(T),d=t.IPV4ADDRESS.test(h[h.length-1]),f=d?7:8,m=h.length-f,v=Array(f),g=0;g<f;++g)v[g]=p[g]||h[m+g]||"";d&&(v[f-1]=R(v[f-1],t));var y=v.reduce((function(e,t,r){if(!t||"0"===t){var n=e[e.length-1];n&&n.index+n.length===r?n.length++:e.push({index:r,length:1})}return e}),[]).sort((function(e,t){return t.length-e.length}))[0],b=void 0;if(y&&y.length>1){var S=v.slice(0,y.index),w=v.slice(y.index+y.length);b=S.join(":")+"::"+w.join(":")}else b=v.join(":");return o&&(b+="%"+o),b}return e}var A=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,I=void 0==="".match(/(){0}/)[1];function _(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={},n=!1!==t.iri?a:s;"suffix"===t.reference&&(e=(t.scheme?t.scheme+":":"")+"//"+e);var i=e.match(A);if(i){I?(r.scheme=i[1],r.userinfo=i[3],r.host=i[4],r.port=parseInt(i[5],10),r.path=i[6]||"",r.query=i[7],r.fragment=i[8],isNaN(r.port)&&(r.port=i[5])):(r.scheme=i[1]||void 0,r.userinfo=-1!==e.indexOf("@")?i[3]:void 0,r.host=-1!==e.indexOf("//")?i[4]:void 0,r.port=parseInt(i[5],10),r.path=i[6]||"",r.query=-1!==e.indexOf("?")?i[7]:void 0,r.fragment=-1!==e.indexOf("#")?i[8]:void 0,isNaN(r.port)&&(r.port=e.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?i[4]:void 0)),r.host&&(r.host=M(R(r.host,n),n)),void 0!==r.scheme||void 0!==r.userinfo||void 0!==r.host||void 0!==r.port||r.path||void 0!==r.query?void 0===r.scheme?r.reference="relative":void 0===r.fragment?r.reference="absolute":r.reference="uri":r.reference="same-document",t.reference&&"suffix"!==t.reference&&t.reference!==r.reference&&(r.error=r.error||"URI is not a "+t.reference+" reference.");var o=O[(t.scheme||r.scheme||"").toLowerCase()];if(t.unicodeSupport||o&&o.unicodeSupport)P(r,n);else{if(r.host&&(t.domainHost||o&&o.domainHost))try{r.host=E.toASCII(r.host.replace(n.PCT_ENCODED,C).toLowerCase())}catch(c){r.error=r.error||"Host's domain name can not be converted to ASCII via punycode: "+c}P(r,s)}o&&o.parse&&o.parse(r,t)}else r.error=r.error||"URI can not be parsed.";return r}var N=/^\.\.?\//,D=/^\/\.(\/|$)/,F=/^\/\.\.(\/|$)/,j=/^\/?(?:.|\n)*?(?=\/|$)/;function B(e){for(var t=[];e.length;)if(e.match(N))e=e.replace(N,"");else if(e.match(D))e=e.replace(D,"/");else if(e.match(F))e=e.replace(F,"/"),t.pop();else if("."===e||".."===e)e="";else{var r=e.match(j);if(!r)throw new Error("Unexpected dot segment condition");var n=r[0];e=e.slice(n.length),t.push(n)}return t.join("")}function z(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.iri?a:s,n=[],i=O[(t.scheme||e.scheme||"").toLowerCase()];if(i&&i.serialize&&i.serialize(e,t),e.host)if(r.IPV6ADDRESS.test(e.host));else if(t.domainHost||i&&i.domainHost)try{e.host=t.iri?E.toUnicode(e.host):E.toASCII(e.host.replace(r.PCT_ENCODED,C).toLowerCase())}catch(u){e.error=e.error||"Host's domain name can not be converted to "+(t.iri?"Unicode":"ASCII")+" via punycode: "+u}P(e,r),"suffix"!==t.reference&&e.scheme&&(n.push(e.scheme),n.push(":"));var o=function(e,t){var r=!1!==t.iri?a:s,n=[];return void 0!==e.userinfo&&(n.push(e.userinfo),n.push("@")),void 0!==e.host&&n.push(M(R(String(e.host),r),r).replace(r.IPV6ADDRESS,(function(e,t,r){return"["+t+(r?"%25"+r:"")+"]"}))),"number"===typeof e.port&&(n.push(":"),n.push(e.port.toString(10))),n.length?n.join(""):void 0}(e,t);if(void 0!==o&&("suffix"!==t.reference&&n.push("//"),n.push(o),e.path&&"/"!==e.path.charAt(0)&&n.push("/")),void 0!==e.path){var c=e.path;t.absolutePath||i&&i.absolutePath||(c=B(c)),void 0===o&&(c=c.replace(/^\/\//,"/%2F")),n.push(c)}return void 0!==e.query&&(n.push("?"),n.push(e.query)),void 0!==e.fragment&&(n.push("#"),n.push(e.fragment)),n.join("")}function q(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n={};return arguments[3]||(e=_(z(e,r),r),t=_(z(t,r),r)),!(r=r||{}).tolerant&&t.scheme?(n.scheme=t.scheme,n.userinfo=t.userinfo,n.host=t.host,n.port=t.port,n.path=B(t.path||""),n.query=t.query):(void 0!==t.userinfo||void 0!==t.host||void 0!==t.port?(n.userinfo=t.userinfo,n.host=t.host,n.port=t.port,n.path=B(t.path||""),n.query=t.query):(t.path?("/"===t.path.charAt(0)?n.path=B(t.path):(void 0===e.userinfo&&void 0===e.host&&void 0===e.port||e.path?e.path?n.path=e.path.slice(0,e.path.lastIndexOf("/")+1)+t.path:n.path=t.path:n.path="/"+t.path,n.path=B(n.path)),n.query=t.query):(n.path=e.path,void 0!==t.query?n.query=t.query:n.query=e.query),n.userinfo=e.userinfo,n.host=e.host,n.port=e.port),n.scheme=e.scheme),n.fragment=t.fragment,n}function L(e,t){return e&&e.toString().replace(t&&t.iri?a.PCT_ENCODED:s.PCT_ENCODED,C)}var W={scheme:"http",domainHost:!0,parse:function(e,t){return e.host||(e.error=e.error||"HTTP URIs must have a host."),e},serialize:function(e,t){return e.port!==("https"!==String(e.scheme).toLowerCase()?80:443)&&""!==e.port||(e.port=void 0),e.path||(e.path="/"),e}},U={scheme:"https",domainHost:W.domainHost,parse:W.parse,serialize:W.serialize},$={},K="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",H="[0-9A-Fa-f]",G=r(r("%[EFef][0-9A-Fa-f]%"+H+H+"%"+H+H)+"|"+r("%[89A-Fa-f][0-9A-Fa-f]%"+H+H)+"|"+r("%"+H+H)),V=t("[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",'[\\"\\\\]'),Y=new RegExp(K,"g"),Q=new RegExp(G,"g"),Z=new RegExp(t("[^]","[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]","[\\.]",'[\\"]',V),"g"),J=new RegExp(t("[^]",K,"[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]"),"g"),X=J;function ee(e){var t=C(e);return t.match(Y)?t:e}var te={scheme:"mailto",parse:function(e,t){var r=e,n=r.to=r.path?r.path.split(","):[];if(r.path=void 0,r.query){for(var i=!1,o={},s=r.query.split("&"),a=0,c=s.length;a<c;++a){var u=s[a].split("=");switch(u[0]){case"to":for(var l=u[1].split(","),p=0,h=l.length;p<h;++p)n.push(l[p]);break;case"subject":r.subject=L(u[1],t);break;case"body":r.body=L(u[1],t);break;default:i=!0,o[L(u[0],t)]=L(u[1],t)}}i&&(r.headers=o)}r.query=void 0;for(var d=0,f=n.length;d<f;++d){var m=n[d].split("@");if(m[0]=L(m[0]),t.unicodeSupport)m[1]=L(m[1],t).toLowerCase();else try{m[1]=E.toASCII(L(m[1],t).toLowerCase())}catch(v){r.error=r.error||"Email address's domain name can not be converted to ASCII via punycode: "+v}n[d]=m.join("@")}return r},serialize:function(e,t){var r,n=e,o=void 0!==(r=e.to)&&null!==r?r instanceof Array?r:"number"!==typeof r.length||r.split||r.setInterval||r.call?[r]:Array.prototype.slice.call(r):[];if(o){for(var s=0,a=o.length;s<a;++s){var c=String(o[s]),u=c.lastIndexOf("@"),l=c.slice(0,u).replace(Q,ee).replace(Q,i).replace(Z,x),p=c.slice(u+1);try{p=t.iri?E.toUnicode(p):E.toASCII(L(p,t).toLowerCase())}catch(m){n.error=n.error||"Email address's domain name can not be converted to "+(t.iri?"Unicode":"ASCII")+" via punycode: "+m}o[s]=l+"@"+p}n.path=o.join(",")}var h=e.headers=e.headers||{};e.subject&&(h.subject=e.subject),e.body&&(h.body=e.body);var d=[];for(var f in h)h[f]!==$[f]&&d.push(f.replace(Q,ee).replace(Q,i).replace(J,x)+"="+h[f].replace(Q,ee).replace(Q,i).replace(X,x));return d.length&&(n.query=d.join("&")),n}},re=/^([^\:]+)\:(.*)/,ne={scheme:"urn",parse:function(e,t){var r=e.path&&e.path.match(re),n=e;if(r){var i=t.scheme||n.scheme||"urn",o=r[1].toLowerCase(),s=r[2],a=i+":"+(t.nid||o),c=O[a];n.nid=o,n.nss=s,n.path=void 0,c&&(n=c.parse(n,t))}else n.error=n.error||"URN can not be parsed.";return n},serialize:function(e,t){var r=t.scheme||e.scheme||"urn",n=e.nid,i=r+":"+(t.nid||n),o=O[i];o&&(e=o.serialize(e,t));var s=e,a=e.nss;return s.path=(n||t.nid)+":"+a,s}},ie=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,oe={scheme:"urn:uuid",parse:function(e,t){var r=e;return r.uuid=r.nss,r.nss=void 0,t.tolerant||r.uuid&&r.uuid.match(ie)||(r.error=r.error||"UUID is not valid."),r},serialize:function(e,t){var r=e;return r.nss=(e.uuid||"").toLowerCase(),r}};O[W.scheme]=W,O[U.scheme]=U,O[te.scheme]=te,O[ne.scheme]=ne,O[oe.scheme]=oe,e.SCHEMES=O,e.pctEncChar=x,e.pctDecChars=C,e.parse=_,e.removeDotSegments=B,e.serialize=z,e.resolveComponents=q,e.resolve=function(e,t,r){var n=function(e,t){var r=e;if(t)for(var n in t)r[n]=t[n];return r}({scheme:"null"},r);return z(q(_(e,n),_(t,n),n,!0),n)},e.normalize=function(e,t){return"string"===typeof e?e=z(_(e,t),t):"object"===n(e)&&(e=_(z(e,t),t)),e},e.equal=function(e,t,r){return"string"===typeof e?e=z(_(e,r),r):"object"===n(e)&&(e=z(e,r)),"string"===typeof t?t=z(_(t,r),r):"object"===n(t)&&(t=z(t,r)),e===t},e.escapeComponent=function(e,t){return e&&e.toString().replace(t&&t.iri?a.ESCAPE:s.ESCAPE,x)},e.unescapeComponent=L,Object.defineProperty(e,"__esModule",{value:!0})}(t)},TjP8:function(e,t,r){"use strict";var n="<[A-Za-z][A-Za-z0-9\\-]*(?:\\s+[a-zA-Z_:][a-zA-Z0-9:._-]*(?:\\s*=\\s*(?:[^\"'=<>`\\u0000-\\u0020]+|'[^']*'|\"[^\"]*\"))?)*\\s*\\/?>",i="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>";t.openCloseTag=new RegExp("^(?:"+n+"|"+i+")"),t.tag=new RegExp("^(?:"+n+"|"+i+"|\x3c!----\x3e|\x3c!--(?:-?[^>-])(?:-?[^-])*--\x3e|<[?].*?[?]>|<![A-Za-z]+\\s+[^>]*>|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>)")},"U+nO":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PRODUCT_PARTS_0=Symbol("PRODUCT_PARTS_0"),t.PRODUCT_PARTS_1=Symbol("PRODUCT_PARTS_1"),t.PRODUCT_PARTS_N=Symbol("PRODUCT_PARTS_N"),t.nop={score:0,tokenCount2:0,action:e=>e}},U6jy:function(e,t){e.exports=function(){for(var e={},t=0;t<arguments.length;t++){var n=arguments[t];for(var i in n)r.call(n,i)&&(e[i]=n[i])}return e};var r=Object.prototype.hasOwnProperty},UBI6:function(e,t,r){"use strict";var n=r("ZWk2"),i=r("IPAr"),o=r("VSQ+");e.exports=m,m.locator=o,m.notInLink=!0;var s="[",a="]",c="(",u=")",l="<",p="@",h="mailto:",d=["http://","https://",h],f=d.length;function m(e,t,r){var o,m,v,g,y,b,S,w,k,E,O,x;if(this.options.gfm){for(o="",g=-1,w=f;++g<w;)if(b=d[g],(S=t.slice(0,b.length)).toLowerCase()===b){o=S;break}if(o){for(g=o.length,w=t.length,k="",E=0;g<w&&(v=t.charAt(g),!i(v)&&v!==l)&&("."!==v&&","!==v&&":"!==v&&";"!==v&&'"'!==v&&"'"!==v&&")"!==v&&"]"!==v||(O=t.charAt(g+1))&&!i(O))&&(v!==c&&v!==s||E++,v!==u&&v!==a||!(--E<0));)k+=v,g++;if(k){if(m=o+=k,b===h){if(-1===(y=k.indexOf(p))||y===w-1)return;m=m.substr(h.length)}return!!r||(x=this.enterLink(),m=this.tokenizeInline(m,e.now()),x(),e(o)({type:"link",title:null,url:n(o,{nonTerminated:!1}),children:m}))}}}}},UIh7:function(e,t,r){"use strict";var n=r("IPAr"),i=r("MaiH");e.exports=a,a.locator=i;var o="~",s="~~";function a(e,t,r){var i,a,c,u="",l="",p="",h="";if(this.options.gfm&&t.charAt(0)===o&&t.charAt(1)===o&&!n(t.charAt(2)))for(i=1,a=t.length,(c=e.now()).column+=2,c.offset+=2;++i<a;){if((u=t.charAt(i))===o&&l===o&&(!p||!n(p)))return!!r||e(s+h+s)({type:"delete",children:this.tokenizeInline(h,c)});h+=l,p=l,l=u}}},UQ3f:function(e,t,r){"use strict";var n=r("hyoZ");e.exports=new n("tag:yaml.org,2002:js/regexp",{kind:"scalar",resolve:function(e){if(null===e)return!1;if(0===e.length)return!1;var t=e,r=/\/([gim]*)$/.exec(e),n="";if("/"===t[0]){if(r&&(n=r[1]),n.length>3)return!1;if("/"!==t[t.length-n.length-1])return!1}return!0},construct:function(e){var t=e,r=/\/([gim]*)$/.exec(e),n="";return"/"===t[0]&&(r&&(n=r[1]),t=t.slice(1,t.length-n.length-1)),new RegExp(t,n)},predicate:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},represent:function(e){var t="/"+e.source+"/";return e.global&&(t+="g"),e.multiline&&(t+="m"),e.ignoreCase&&(t+="i"),t}})},UTkZ:function(e,t){const r=[{catalog:[{tags:["bakery_products"],pid:2e3,sku:1e4,items:[{name:"apple bran muffin",aliases:["(muffin,mollete,magdalena) [de salvado] de manzana","(muffin,mollete,magdalena) de salvado"]},{name:"blueberry muffin",aliases:["(muffin,mollete,magdalena) de ar\xe1ndana"]},{name:"lemon poppyseed muffin",aliases:["(muffin,mollete,magdalena) de semillas de amapolo [y lim\xf3n]","(muffin,mollete,magdalena) de lim\xf3n"]}]},{tags:["bakery_options"],type:"option",items:[{tensor:"options",default:["regular"],items:[{name:"butter",aliases:["mantequilla"]},{name:"strawberry jam",aliases:["[mermelada] fresa"]}]},{tags:["bakery_preparations"],tensor:"none",items:[{name:"warmed",role:"applied",aliases:["c\xe1lido","caliente","tostado"]},{name:"cut in half",role:"applied",aliases:["cortado [por la mitad,en dos pedazos]","rebanada"]}]}]}],rules:[{parents:["bakery_products"],children:["bakery_options"]}]}];e.exports=r.length<=1?r[0]:r},"UV+P":function(e,t,r){"use strict";var n=r("q1tI"),i=r("U6jy"),o=r("TOwV"),s={start:{line:1,column:1,offset:0},end:{line:1,column:1,offset:0}};function a(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,l=t.renderers[e.type];void 0===e.position&&(e.position=r.node&&r.node.position||s);var p=e.position.start,h=[e.type,p.line,p.column,u].join("-");if(!o.isValidElementType(l))throw new Error("Renderer for type `".concat(e.type,"` not defined or is not renderable"));var d=function(e,t,r,o,s,u){var l={key:t},p="string"===typeof o;r.sourcePos&&e.position&&(l["data-sourcepos"]=function(e){return[e.start.line,":",e.start.column,"-",e.end.line,":",e.end.column].map(String).join("")}(e.position));r.rawSourcePos&&!p&&(l.sourcePosition=e.position);r.includeNodeIndex&&s.node&&s.node.children&&!p&&(l.index=s.node.children.indexOf(e),l.parentChildCount=s.node.children.length);var h=null!==e.identifier&&void 0!==e.identifier?r.definitions[e.identifier]||{}:null;switch(e.type){case"root":c(l,{className:r.className});break;case"text":l.nodeKey=t,l.children=e.value;break;case"heading":l.level=e.depth;break;case"list":l.start=e.start,l.ordered=e.ordered,l.tight=!e.loose,l.depth=e.depth;break;case"listItem":l.checked=e.checked,l.tight=!e.loose,l.ordered=e.ordered,l.index=e.index,l.children=function(e,t){if(e.loose)return e.children;if(t.node&&e.index>0&&t.node.children[e.index-1].loose)return e.children;return function(e){return e.children.reduce((function(e,t){return e.concat("paragraph"===t.type?t.children||[]:[t])}),[])}(e)}(e,s).map((function(t,n){return a(t,r,{node:e,props:l},n)}));break;case"definition":c(l,{identifier:e.identifier,title:e.title,url:e.url});break;case"code":c(l,{language:e.lang&&e.lang.split(/\s/,1)[0]});break;case"inlineCode":l.children=e.value,l.inline=!0;break;case"link":c(l,{title:e.title||void 0,target:"function"===typeof r.linkTarget?r.linkTarget(e.url,e.children,e.title):r.linkTarget,href:r.transformLinkUri?r.transformLinkUri(e.url,e.children,e.title):e.url});break;case"image":c(l,{alt:e.alt||void 0,title:e.title||void 0,src:r.transformImageUri?r.transformImageUri(e.url,e.children,e.title,e.alt):e.url});break;case"linkReference":c(l,i(h,{href:r.transformLinkUri?r.transformLinkUri(h.href):h.href}));break;case"imageReference":c(l,{src:r.transformImageUri&&h.href?r.transformImageUri(h.href,e.children,h.title,e.alt):h.href,title:h.title||void 0,alt:e.alt||void 0});break;case"table":case"tableHead":case"tableBody":l.columnAlignment=e.align;break;case"tableRow":l.isHeader="tableHead"===s.node.type,l.columnAlignment=s.props.columnAlignment;break;case"tableCell":c(l,{isHeader:s.props.isHeader,align:s.props.columnAlignment[u]});break;case"virtualHtml":l.tag=e.tag;break;case"html":l.isBlock=e.position.start.line!==e.position.end.line,l.escapeHtml=r.escapeHtml,l.skipHtml=r.skipHtml;break;case"parsedHtml":var d;e.children&&(d=e.children.map((function(t,n){return a(t,r,{node:e,props:l},n)}))),l.escapeHtml=r.escapeHtml,l.skipHtml=r.skipHtml,l.element=function(e,t){var r=e.element;if(Array.isArray(r)){var i=n.Fragment||"div";return n.createElement(i,null,r)}if(r.props.children||t){var o=n.Children.toArray(r.props.children).concat(t);return n.cloneElement(r,null,o)}return n.cloneElement(r,null)}(e,d);break;default:c(l,i(e,{type:void 0,position:void 0,children:void 0}))}!p&&e.value&&(l.value=e.value);return l}(e,h,t,l,r,u);return n.createElement(l,d,d.children||e.children&&e.children.map((function(r,n){return a(r,t,{node:e,props:d},n)}))||void 0)}function c(e,t){for(var r in t)"undefined"!==typeof t[r]&&(e[r]=t[r])}e.exports=a},V61Y:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("94Iq"),i=r("w9WE"),o=r("dLq5");t.OptionGenerator=class{constructor(e,t,r,n,i,s,a){this.attributeInfo=e,this.attributes=t,this.rules=n,this.pid=i,this.positionPredicate=s;const c=r.getGeneric(i);this.name=c.name,this.role=c.fuzzerHints.role;const u=n.getUnits(i)||"default",l=a.get(u);if(!l){throw new TypeError(`No quantifiers specified for ${u}`)}this.leftQuantifiers=l.left,this.rightQuantifiers=l.right,this.keys=[...r.getSpecificsForGeneric(i)],this.defaultKey=r.getGeneric(i).defaultKey;const p=r.getGeneric(i);this.aliases=[...o.aliasesFromOneItem(p)]}randomAttributedOption(e){const t=e.randomChoice(this.keys),r=this.attributeInfo.getAttributes(t),o=this.attributes.get(r,e),s=e.randomChoice(this.aliases),a=this.positionPredicate(this.name);n.AttributeInfo.pidFromKey(t);return new i.AttributedOptionX(o,t,s,a,this.role)}randomQuantifiedOption(e,t){const r=this.defaultKey;let n=this.positionPredicate(this.name);n===i.EITHER&&(n=t.randomBoolean()?i.RIGHT:i.LEFT);let o=t.randomChoice(n===i.LEFT?this.leftQuantifiers:this.rightQuantifiers);const s=this.rules.getQuantityInfo(e,r);s&&1===s.minQty&&1===s.maxQty&&(o={text:"",value:1});const a=t.randomChoice(this.aliases);return new i.QuantifiedOptionX(o,r,a,n,this.role)}}},VRSw:function(e,t,r){"use strict";var n=r("1iAE"),i=r("afWh"),o=r("TjP8").tag;e.exports=c,c.locator=i;var s=/^<a /i,a=/^<\/a>/i;function c(e,t,r){var i,c,u=t.length;if(!("<"!==t.charAt(0)||u<3)&&(i=t.charAt(1),(n(i)||"?"===i||"!"===i||"/"===i)&&(c=t.match(o))))return!!r||(c=c[0],!this.inLink&&s.test(c)?this.inLink=!0:this.inLink&&a.test(c)&&(this.inLink=!1),e(c)({type:"html",value:c}))}},"VSQ+":function(e,t,r){"use strict";e.exports=function(e,t){var r,i=n.length,o=-1,s=-1;if(!this.options.gfm)return-1;for(;++o<i;)-1!==(r=e.indexOf(n[o],t))&&(r<s||-1===s)&&(s=r);return s};var n=["https://","http://","mailto:"]},VtPO:function(e,t,r){"use strict";var n=r("3lC6");e.exports=n.DEFAULT=new n({include:[r("Z3Ei")],explicit:[r("MERt"),r("UQ3f"),r("Njqi")]})},Vxyp:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("FG9h"),i=r("nNxe"),o=r("w9WE");t.AliasGenerator=class{constructor(e){this.segments=[];for(const t of e){const e=[];for(const r of t){const t=i.patternFromExpression(r);for(const r of n.generateAliases(t))e.push(new o.WordX(r))}this.segments.push(e)}}randomAlias(e){const t=[];for(const r of this.segments)t.push(e.randomChoice(r));return t}}},W58J:function(e,t){const r=[{tests:[{comment:'# Example Orders\nThis file catalogs examples of menu ordering scenarios working in\n[short-order](https://github.com/MikeHopcroft/ShortOrder).\nIn order to better illustrate the `add`, `remove`, and `modify`\nscenarios, the transcripts below use a simplified grammar.\nAs an example, many of the add scenarios start with\n"i\'d like" and end with "that\'s it". \nPlease be aware that the system accepts a much broader variety of\nprologues, epilogues, disfluencies, and forms of speech.\nPlease see the specification for more details on the nature of\nutterances likely to be accepted.\n\nNote also that the system is designed to ignore portions of the\nconversation that don\'t directly correspond to transactions on the\nshopping cart, even if these passages contain product names.\nThe examples below do not illustrate the `ignore` scenario because\nof the large number of cases.\n\nWe encourage you to try these examples in the short-order REPL yourself.\nYou can also run these examples as part of the regression suite.\n\nThe cases in this file are available in the\n[regression.yaml](regression.yaml) suite.\n\n## Adding Items\n',tests:[{comment:"### Generic items",tests:[{id:0,suites:"regression add",comment:"Adding one single-term product.",steps:[{turns:[{speaker:"speaker",transcription:"i'd like a latte that's it"}],cart:{items:[{quantity:1,name:"grande latte",sku:"602",children:[]}]}}]},{id:1,suites:"regression add",comment:"Adding one multi-term product, exact match.",steps:[{turns:[{speaker:"speaker",transcription:"i'll have a dark roast coffee thank you"}],cart:{items:[{quantity:1,name:"grande dark roast coffee",sku:"1502",children:[]}]}}]},{id:2,suites:"regression add",comment:"Adding one multi-term product, partial match.",steps:[{turns:[{speaker:"speaker",transcription:"get me a coffee please"}],cart:{items:[{quantity:1,name:"grande dark roast coffee",sku:"1502",children:[]}]}}]},{id:3,suites:"regression add",comment:"Adding two instances.",steps:[{turns:[{speaker:"speaker",transcription:"could i please get two mochas that's all"}],cart:{items:[{quantity:2,name:"grande mocha",sku:"802",children:[]}]}}]},{id:4,suites:"regression add",comment:"Adding 25 instances.",steps:[{turns:[{speaker:"speaker",transcription:"we need twenty five flat whites and that'll do it"}],cart:{items:[{quantity:25,name:"grande flat white",sku:"502",children:[]}]}}]}]},{comment:"### Attributes",tests:[{id:5,suites:"regression add",comment:"One leading attribute.",steps:[{turns:[{speaker:"speaker",transcription:"how about a tall cappuccino"}],cart:{items:[{quantity:1,name:"tall cappuccino",sku:"401",children:[]}]}}]},{id:6,suites:"regression add",comment:"Two leading attributes.",steps:[{turns:[{speaker:"speaker",transcription:"i'd like a venti iced latte"}],cart:{items:[{quantity:1,name:"iced venti latte",sku:"605",children:[]}]}}]},{id:7,suites:"regression add",comment:"Two leading attributes, different order.",steps:[{turns:[{speaker:"speaker",transcription:"i'd like a iced venti latte"}],cart:{items:[{quantity:1,name:"iced venti latte",sku:"605",children:[]}]}}]},{id:8,suites:"regression add",comment:"Two attributes, one leading and one trailing.",steps:[{turns:[{speaker:"speaker",transcription:"i'd like a venti latte iced"}],cart:{items:[{quantity:1,name:"iced venti latte",sku:"605",children:[]}]}}]},{id:9,suites:"regression add",comment:"Two trailing attributes.",steps:[{turns:[{speaker:"speaker",transcription:"i'd like a latte iced venti"}],cart:{items:[{quantity:1,name:"iced venti latte",sku:"605",children:[]}]}}]},{id:10,suites:"regression add",comment:"Adding a product with conflicting attributes.",steps:[{turns:[{speaker:"speaker",transcription:"we'll also have a short tall latte"}],cart:{items:[{quantity:1,name:"short latte",sku:"600",children:[]}]}}]}]},{comment:"### Options",tests:[{id:11,suites:"regression add",comment:"One simple, trailing option.",steps:[{turns:[{speaker:"speaker",transcription:"i wanna latte macchiato with vanilla"}],cart:{items:[{quantity:1,name:"grande latte macchiato",sku:"702",children:[{quantity:1,name:"vanilla syrup",sku:"2502",children:[]}]}]}}]},{id:12,suites:"regression add",comment:"One simple, leading attribute.",steps:[{turns:[{speaker:"speaker",transcription:"how about a peppermint latte"}],cart:{items:[{quantity:1,name:"grande latte",sku:"602",children:[{quantity:1,name:"peppermint syrup",sku:"2202",children:[]}]}]}}]},{id:13,suites:"regression add",comment:"Multiple simple leading and trailing options.",steps:[{turns:[{speaker:"speaker",transcription:"may i also get a decaf soy vanilla syrup caramel latte with sugar and foam"}],cart:{items:[{quantity:1,name:"grande latte",sku:"602",children:[{quantity:1,name:"decaf",sku:"3000",children:[]},{quantity:1,name:"soy milk",sku:"3600",children:[]},{quantity:1,name:"vanilla syrup",sku:"2502",children:[]},{quantity:1,name:"caramel syrup",sku:"1802",children:[]},{quantity:1,name:"sugar",sku:"6602",children:[]},{quantity:1,name:"foam",sku:"5202",children:[]}]}]}}]},{id:14,suites:"regression add",comment:"Adding drink with option repeated.",steps:[{turns:[{speaker:"speaker",transcription:"i want a latte with peppermint syrup with peppermint syrup"}],cart:{items:[{quantity:1,name:"grande latte",sku:"602",children:[{quantity:1,name:"peppermint syrup",sku:"2202",children:[]}]}]}}]},{id:15,suites:"regression add",comment:"Adding a drink with two options in same exclusion set.",steps:[{turns:[{speaker:"speaker",transcription:"i'd like a decaf half caf latte"}],cart:{items:[{quantity:1,name:"grande latte",sku:"602",children:[{quantity:1,name:"decaf",sku:"3000",children:[]}]}]}}]},{id:16,suites:"regression add",comment:"Adding a drink with two options in same exclusion set.",steps:[{turns:[{speaker:"speaker",transcription:"can I get a skim soy latte"}],cart:{items:[{quantity:1,name:"grande latte",sku:"602",children:[{quantity:1,name:"nonfat milk",sku:"3400",children:[]}]}]}}]},{id:19,suites:"regression add",comment:"Leading attributed option.",steps:[{turns:[{speaker:"speaker",transcription:"i'd like a light nutmeg espresso that's it"}],cart:{items:[{quantity:1,name:"doppio espresso",sku:"1001",children:[{quantity:1,name:"light nutmeg",sku:"5401",children:[]}]}]}}]},{id:20,suites:"regression add",comment:"Trailing attributed option.",steps:[{turns:[{speaker:"speaker",transcription:"can i have an cappuccino no foam"}],cart:{items:[{quantity:1,name:"grande cappuccino",sku:"402",children:[{quantity:1,name:"no foam",sku:"5200",children:[]}]}]}}]},{id:21,suites:"regression add",comment:"Trailing attributed option after conjunction.",steps:[{turns:[{speaker:"speaker",transcription:"can i have an espresso with no nutmeg"}],cart:{items:[{quantity:1,name:"doppio espresso",sku:"1001",children:[{quantity:1,name:"no nutmeg",sku:"5400",children:[]}]}]}}]},{id:22,suites:"regression add",comment:"Multiple leading and trailing attributed options.",steps:[{turns:[{speaker:"speaker",transcription:"we want a light whipped no foam mocha with extra hazelnut and cinnamon"}],cart:{items:[{quantity:1,name:"grande mocha",sku:"802",children:[{quantity:1,name:"light whipped cream",sku:"5501",children:[]},{quantity:1,name:"no foam",sku:"5200",children:[]},{quantity:1,name:"extra hazelnut syrup",sku:"2003",children:[]},{quantity:1,name:"cinnamon syrup",sku:"1902",children:[]}]}]}}]},{id:23,suites:"regression add illegal-option",comment:"Attempt to add drink with illegal option.",steps:[{turns:[{speaker:"speaker",transcription:"i'd like a latte cut in half"}],cart:{items:[{quantity:1,name:"grande latte",sku:"602",children:[]}]}}]},{id:24,suites:"regression add illegal-option",comment:"Attempt to add drink with illegal option.",steps:[{turns:[{speaker:"speaker",transcription:"i'd like a strawberry latte"}],cart:{items:[{quantity:1,name:"grande latte",sku:"602",children:[]}]}}]},{id:25,suites:"regression add",comment:"One leading, quantified option with units.",steps:[{turns:[{speaker:"speaker",transcription:"i want a five pump caramel flat white"}],cart:{items:[{quantity:1,name:"grande flat white",sku:"502",children:[{quantity:5,name:"caramel syrup",sku:"1802",children:[]}]}]}}]},{id:26,suites:"regression add",comment:"One trailing, quantified option with units.",steps:[{turns:[{speaker:"speaker",transcription:"i want a flat white with five pumps of caramel syrup"}],cart:{items:[{quantity:1,name:"grande flat white",sku:"502",children:[{quantity:5,name:"caramel syrup",sku:"1802",children:[]}]}]}}]},{id:27,suites:"regression add",comment:"Multiple leading and trailing quantified options, some with units.",steps:[{turns:[{speaker:"speaker",transcription:"i want a two pump peppermint three squirt raspberry skinny vanilla latte with a pump of caramel and two sugars"}],cart:{items:[{quantity:1,name:"grande latte",sku:"602",children:[{quantity:2,name:"peppermint syrup",sku:"2202",children:[]},{quantity:3,name:"raspberry syrup",sku:"2302",children:[]},{quantity:1,name:"nonfat milk",sku:"3400",children:[]},{quantity:1,name:"vanilla syrup",sku:"2502",children:[]},{quantity:1,name:"caramel syrup",sku:"1802",children:[]},{quantity:2,name:"sugar",sku:"6602",children:[]}]}]}}]},{comment:"### Multiple Items",tests:[{id:28,suites:"regression add multiple",comment:"Add a comma-separated list of products",steps:[{turns:[{speaker:"speaker",transcription:"i want a latte cappuccino espresso and an apple muffin"}],cart:{items:[{quantity:1,name:"grande latte",sku:"602",children:[]},{quantity:1,name:"grande cappuccino",sku:"402",children:[]},{quantity:1,name:"doppio espresso",sku:"1001",children:[]},{quantity:1,name:"apple bran muffin",sku:"10000",children:[]}]}}]},{id:29,suites:"regression add multiple complex ambiguous",comment:"Add a comma-separated list of products with attributes and options.",steps:[{turns:[{speaker:"speaker",transcription:"i'd like a tall decaf latte iced a grande cappuccino double espresso and a warmed poppyseed muffin sliced in half"}],cart:{items:[{quantity:1,name:"iced tall latte",sku:"603",children:[{quantity:1,name:"decaf",sku:"3000",children:[]}]},{quantity:1,name:"grande cappuccino",sku:"402",children:[]},{quantity:1,name:"doppio espresso",sku:"1001",children:[]},{quantity:1,name:"lemon poppyseed muffin",sku:"10200",children:[{quantity:1,name:"warmed",sku:"200",children:[]},{quantity:1,name:"cut in half",sku:"300",children:[]}]}]}}]},{id:33,suites:"regression add overloaded",comment:"Adding correct overloaded option, depending on context.",steps:[{turns:[{speaker:"speaker",transcription:"we'd like a latte with soy and a coffee with soy"}],cart:{items:[{quantity:1,name:"grande latte",sku:"602",children:[{quantity:1,name:"soy milk",sku:"3600",children:[]}]},{quantity:1,name:"grande dark roast coffee",sku:"1502",children:[{quantity:1,name:"soy milk creamer",sku:"4500",children:[]}]}]}}]}]}]}]},{comment:"## Removing Items and Options",tests:[{comment:"### Removing Items",tests:[{id:38,suites:"regression remove",comment:"### Removing Items\nRemove by complete generic name\n",steps:[{turns:[{speaker:"speaker",transcription:"i want a latte latte macchiato and a chai latte"}],cart:{items:[{quantity:1,name:"grande latte",sku:"602",children:[]},{quantity:1,name:"grande latte macchiato",sku:"702",children:[]},{quantity:1,name:"grande chai latte",sku:"902",children:[]}]}},{turns:[{speaker:"speaker",transcription:"remove the latte macchiato"}],cart:{items:[{quantity:1,name:"grande latte",sku:"602",children:[]},{quantity:1,name:"grande chai latte",sku:"902",children:[]}]}}]},{id:39,suites:"regression remove",comment:"Remove by generic name, partial match",steps:[{turns:[{speaker:"speaker",transcription:"i want a tall latte a short latte macchiato and a chai latte"}],cart:{items:[{quantity:1,name:"tall latte",sku:"601",children:[]},{quantity:1,name:"short latte macchiato",sku:"700",children:[]},{quantity:1,name:"grande chai latte",sku:"902",children:[]}]}},{turns:[{speaker:"speaker",transcription:"remove the chai"}],cart:{items:[{quantity:1,name:"tall latte",sku:"601",children:[]},{quantity:1,name:"short latte macchiato",sku:"700",children:[]}]}}]},{id:40,suites:"regression remove",comment:"Remove by leading attribute",steps:[{turns:[{speaker:"speaker",transcription:"i want a tall latte a short latte macchiato and a chai latte"}],cart:{items:[{quantity:1,name:"tall latte",sku:"601",children:[]},{quantity:1,name:"short latte macchiato",sku:"700",children:[]},{quantity:1,name:"grande chai latte",sku:"902",children:[]}]}},{turns:[{speaker:"speaker",transcription:"remove the short latte"}],cart:{items:[{quantity:1,name:"tall latte",sku:"601",children:[]},{quantity:1,name:"grande chai latte",sku:"902",children:[]}]}}]},{id:41,suites:"regression remove",comment:"Remove by leading attribute",steps:[{turns:[{speaker:"speaker",transcription:"i want a tall latte a short latte macchiato and an iced chai latte"}],cart:{items:[{quantity:1,name:"tall latte",sku:"601",children:[]},{quantity:1,name:"short latte macchiato",sku:"700",children:[]},{quantity:1,name:"iced grande chai latte",sku:"904",children:[]}]}},{turns:[{speaker:"speaker",transcription:"remove the iced latte"}],cart:{items:[{quantity:1,name:"tall latte",sku:"601",children:[]},{quantity:1,name:"short latte macchiato",sku:"700",children:[]}]}}]},{id:42,suites:"regression remove",comment:"Remove by trailing attribute",steps:[{turns:[{speaker:"speaker",transcription:"i want a tall latte a short latte macchiato and an iced chai latte"}],cart:{items:[{quantity:1,name:"tall latte",sku:"601",children:[]},{quantity:1,name:"short latte macchiato",sku:"700",children:[]},{quantity:1,name:"iced grande chai latte",sku:"904",children:[]}]}},{turns:[{speaker:"speaker",transcription:"remove the latte iced"}],cart:{items:[{quantity:1,name:"tall latte",sku:"601",children:[]},{quantity:1,name:"short latte macchiato",sku:"700",children:[]}]}}]},{id:43,suites:"regression remove",comment:"Remove by multiple attributes",steps:[{turns:[{speaker:"speaker",transcription:"i want an iced tall latte a short latte macchiato and an iced chai latte"}],cart:{items:[{quantity:1,name:"iced tall latte",sku:"603",children:[]},{quantity:1,name:"short latte macchiato",sku:"700",children:[]},{quantity:1,name:"iced grande chai latte",sku:"904",children:[]}]}},{turns:[{speaker:"speaker",transcription:"remove the tall latte iced"}],cart:{items:[{quantity:1,name:"short latte macchiato",sku:"700",children:[]},{quantity:1,name:"iced grande chai latte",sku:"904",children:[]}]}}]},{id:44,suites:"regression remove implicit",comment:"Remove implicit",steps:[{turns:[{speaker:"speaker",transcription:"i want an iced tall latte a short latte macchiato and an iced chai latte"}],cart:{items:[{quantity:1,name:"iced tall latte",sku:"603",children:[]},{quantity:1,name:"short latte macchiato",sku:"700",children:[]},{quantity:1,name:"iced grande chai latte",sku:"904",children:[]}]}},{turns:[{speaker:"speaker",transcription:"remove that"}],cart:{items:[{quantity:1,name:"iced tall latte",sku:"603",children:[]},{quantity:1,name:"short latte macchiato",sku:"700",children:[]}]}}]}]},{comment:"### Removing Options",tests:[{id:44.1,suites:"placeholder",comment:"This is a placeholder test used as a reminder to add in the full\nset of cases for removing options.\n",steps:[{turns:[{speaker:"speaker",transcription:"This is a placeholder test that is designed to fail."}],cart:{items:[{quantity:1,name:"iced tall latte",sku:"603",children:[]}]}}]}]}]},{comment:"## Modifying items",tests:[{id:45,suites:"regression modify bug",comment:"Add option x to product y.",steps:[{turns:[{speaker:"speaker",transcription:"i want a latte and an espresso"}],cart:{items:[{quantity:1,name:"grande latte",sku:"602",children:[]},{quantity:1,name:"doppio espresso",sku:"1001",children:[]}]}},{turns:[{speaker:"speaker",transcription:"add extra vanilla syrup to the latte"}],cart:{items:[{quantity:1,name:"grande latte",sku:"602",children:[{quantity:1,name:"extra vanilla syrup",sku:"2503",children:[]}]},{quantity:1,name:"doppio espresso",sku:"1001",children:[]}]}}]},{id:45.1,suites:"regression modify",comment:"Make that with option X.",steps:[{turns:[{speaker:"speaker",transcription:"i want a latte and an espresso"}],cart:{items:[{quantity:1,name:"grande latte",sku:"602",children:[]},{quantity:1,name:"doppio espresso",sku:"1001",children:[]}]}},{turns:[{speaker:"speaker",transcription:"make that with extra vanilla syrup"}],cart:{items:[{quantity:1,name:"grande latte",sku:"602",children:[]},{quantity:1,name:"doppio espresso",sku:"1001",children:[{quantity:1,name:"extra vanilla syrup",sku:"2503",children:[]}]}]}}]},{id:45.2,suites:"regression modify",comment:"Make that a triple.",steps:[{turns:[{speaker:"speaker",transcription:"i want a latte and an espresso"}],cart:{items:[{quantity:1,name:"grande latte",sku:"602",children:[]},{quantity:1,name:"doppio espresso",sku:"1001",children:[]}]}},{turns:[{speaker:"speaker",transcription:"make that a triple"}],cart:{items:[{quantity:1,name:"grande latte",sku:"602",children:[]},{quantity:1,name:"triple espresso",sku:"1002",children:[]}]}}]},{id:46,suites:"regression modify",comment:"Add option x to product y.",steps:[{turns:[{speaker:"speaker",transcription:"i want a latte and an espresso"}],cart:{items:[{quantity:1,name:"grande latte",sku:"602",children:[]},{quantity:1,name:"doppio espresso",sku:"1001",children:[]}]}},{turns:[{speaker:"speaker",transcription:"add whipped cream to the espresso"}],cart:{items:[{quantity:1,name:"grande latte",sku:"602",children:[]},{quantity:1,name:"doppio espresso",sku:"1001",children:[{quantity:1,name:"whipped cream",sku:"5502",children:[]}]}]}}]},{id:47,suites:"regression modify",comment:"Add option x and option y to product z.",steps:[{turns:[{speaker:"speaker",transcription:"i want a latte"}],cart:{items:[{quantity:1,name:"grande latte",sku:"602",children:[]}]}},{turns:[{speaker:"speaker",transcription:"add vanilla syrup and honey to that"}],cart:{items:[{quantity:1,name:"grande latte",sku:"602",children:[{quantity:1,name:"vanilla syrup",sku:"2502",children:[]},{quantity:1,name:"honey",sku:"6402",children:[]}]}]}}]},{id:48,suites:"regression modify",comment:"Add a mutually exclusive option - make that option x.",steps:[{turns:[{speaker:"speaker",transcription:"i want a latte"}],cart:{items:[{quantity:1,name:"grande latte",sku:"602",children:[]}]}},{turns:[{speaker:"speaker",transcription:"make that latte decaf"}],cart:{items:[{quantity:1,name:"grande latte",sku:"602",children:[{quantity:1,name:"decaf",sku:"3000",children:[]}]}]}}]},{id:49,suites:"regression modify",comment:"Change a mutually exclusive option - make that product x option y.",steps:[{turns:[{speaker:"speaker",transcription:"i want a half caf latte"}],cart:{items:[{quantity:1,name:"grande latte",sku:"602",children:[{quantity:1,name:"half caf",sku:"2800",children:[]}]}]}},{turns:[{speaker:"speaker",transcription:"make that latte decaf"}],cart:{items:[{quantity:1,name:"grande latte",sku:"602",children:[{quantity:1,name:"decaf",sku:"3000",children:[]}]}]}}]},{id:49.1,suites:"regression modify",comment:"Change a mutually exclusive option, implicit - make that option y.",steps:[{turns:[{speaker:"speaker",transcription:"i want a half caf latte"}],cart:{items:[{quantity:1,name:"grande latte",sku:"602",children:[{quantity:1,name:"half caf",sku:"2800",children:[]}]}]}},{turns:[{speaker:"speaker",transcription:"make that decaf"}],cart:{items:[{quantity:1,name:"grande latte",sku:"602",children:[{quantity:1,name:"decaf",sku:"3000",children:[]}]}]}}]},{id:50,suites:"regression modify",comment:"Change an attribute - make that product x attribute y.",steps:[{turns:[{speaker:"speaker",transcription:"i want a latte"}],cart:{items:[{quantity:1,name:"grande latte",sku:"602",children:[]}]}},{turns:[{speaker:"speaker",transcription:"make that latte iced"}],cart:{items:[{quantity:1,name:"iced grande latte",sku:"604",children:[]}]}}]},{id:50.1,suites:"regression modify",comment:"Change an attribute, implicit - make that attribute y.",steps:[{turns:[{speaker:"speaker",transcription:"i want a latte"}],cart:{items:[{quantity:1,name:"grande latte",sku:"602",children:[]}]}},{turns:[{speaker:"speaker",transcription:"make that iced"}],cart:{items:[{quantity:1,name:"iced grande latte",sku:"604",children:[]}]}}]},{id:51,suites:"regression modify",comment:"Add a mutually exclusive option - make product x with y.",steps:[{turns:[{speaker:"speaker",transcription:"i want a latte"}],cart:{items:[{quantity:1,name:"grande latte",sku:"602",children:[]}]}},{turns:[{speaker:"speaker",transcription:"make that latte with soy"}],cart:{items:[{quantity:1,name:"grande latte",sku:"602",children:[{quantity:1,name:"soy milk",sku:"3600",children:[]}]}]}}]},{id:51.1,suites:"regression modify",comment:"Add a mutually exclusive option, implicit - make that with option y.",steps:[{turns:[{speaker:"speaker",transcription:"i want a latte"}],cart:{items:[{quantity:1,name:"grande latte",sku:"602",children:[]}]}},{turns:[{speaker:"speaker",transcription:"make that with soy"}],cart:{items:[{quantity:1,name:"grande latte",sku:"602",children:[{quantity:1,name:"soy milk",sku:"3600",children:[]}]}]}}]},{id:51.2,suites:"regression modify",comment:"Add a mutually exclusive option, implicit - change that to option y.",steps:[{turns:[{speaker:"speaker",transcription:"i want a latte"}],cart:{items:[{quantity:1,name:"grande latte",sku:"602",children:[]}]}},{turns:[{speaker:"speaker",transcription:"change that to soy"}],cart:{items:[{quantity:1,name:"grande latte",sku:"602",children:[{quantity:1,name:"soy milk",sku:"3600",children:[]}]}]}}]},{id:52,suites:"regression modify",comment:"Change a mutually exclusive option - change that product x to option y.",steps:[{turns:[{speaker:"speaker",transcription:"we'd like a cappuccino"}],cart:{items:[{quantity:1,name:"grande cappuccino",sku:"402",children:[]}]}},{turns:[{speaker:"speaker",transcription:"change that cappuccino to decaf"}],cart:{items:[{quantity:1,name:"grande cappuccino",sku:"402",children:[{quantity:1,name:"decaf",sku:"3000",children:[]}]}]}}]},{id:53,suites:"regression modify",comment:"Change quantity of an option - make that prduct x with n of option y.",steps:[{turns:[{speaker:"speaker",transcription:"we'd like a cappuccino with two pumps of vanilla"}],cart:{items:[{quantity:1,name:"grande cappuccino",sku:"402",children:[{quantity:2,name:"vanilla syrup",sku:"2502",children:[]}]}]}},{turns:[{speaker:"speaker",transcription:"make that cappuccino with three pumps of vanilla"}],cart:{items:[{quantity:1,name:"grande cappuccino",sku:"402",children:[{quantity:3,name:"vanilla syrup",sku:"2502",children:[]}]}]}}]},{id:54,suites:"regression modify",comment:"Change the quantity of an option that is not mutually exclusive - make that product x with n option y.",steps:[{turns:[{speaker:"speaker",transcription:"we'd like a cappuccino with a pack of sugar"}],cart:{items:[{quantity:1,name:"grande cappuccino",sku:"402",children:[{quantity:1,name:"sugar",sku:"6602",children:[]}]}]}},{turns:[{speaker:"speaker",transcription:"make that cappuccino with two packs of sugar"}],cart:{items:[{quantity:1,name:"grande cappuccino",sku:"402",children:[{quantity:2,name:"sugar",sku:"6602",children:[]}]}]}}]},{id:54.1,suites:"regression modify",comment:"Change the quantity of an option that is not mutually exclusive, implicit - make that product x with n option y.",steps:[{turns:[{speaker:"speaker",transcription:"we'd like a cappuccino with a pack of sugar"}],cart:{items:[{quantity:1,name:"grande cappuccino",sku:"402",children:[{quantity:1,name:"sugar",sku:"6602",children:[]}]}]}},{turns:[{speaker:"speaker",transcription:"make that with two packs of sugar"}],cart:{items:[{quantity:1,name:"grande cappuccino",sku:"402",children:[{quantity:2,name:"sugar",sku:"6602",children:[]}]}]}}]},{id:55,suites:"regression modify",comment:"Add an additional quantity of existing option - add n option y to product x.",steps:[{turns:[{speaker:"speaker",transcription:"i'd like a flat white with two equal"}],cart:{items:[{quantity:1,name:"grande flat white",sku:"502",children:[{quantity:2,name:"equal",sku:"6302",children:[]}]}]}},{turns:[{speaker:"speaker",transcription:"add three equal to the flat white"}],cart:{items:[{quantity:1,name:"grande flat white",sku:"502",children:[{quantity:5,name:"equal",sku:"6302",children:[]}]}]}}]},{id:55.1,suites:"regression modify",comment:"Add an additional quantity of existing option, implicit - add n option y to that.",steps:[{turns:[{speaker:"speaker",transcription:"i'd like a flat white with two equal"}],cart:{items:[{quantity:1,name:"grande flat white",sku:"502",children:[{quantity:2,name:"equal",sku:"6302",children:[]}]}]}},{turns:[{speaker:"speaker",transcription:"add three equal to that"}],cart:{items:[{quantity:1,name:"grande flat white",sku:"502",children:[{quantity:5,name:"equal",sku:"6302",children:[]}]}]}}]},{id:56,suites:"regression modify",comment:"Change an attribute - change that product x to attribute y.",steps:[{turns:[{speaker:"speaker",transcription:"we would like a latte"}],cart:{items:[{quantity:1,name:"grande latte",sku:"602",children:[]}]}},{turns:[{speaker:"speaker",transcription:"change that latte to a tall"}],cart:{items:[{quantity:1,name:"tall latte",sku:"601",children:[]}]}}]},{id:56.1,suites:"regression modify",comment:"Change an attribute, implict - make that attribute y.",steps:[{turns:[{speaker:"speaker",transcription:"we would like a latte"}],cart:{items:[{quantity:1,name:"grande latte",sku:"602",children:[]}]}},{turns:[{speaker:"speaker",transcription:"make that latte tall"}],cart:{items:[{quantity:1,name:"tall latte",sku:"601",children:[]}]}}]},{id:56.2,suites:"regression modify",comment:"Change an attribute, implicit - change that to attribute y.",steps:[{turns:[{speaker:"speaker",transcription:"we would like a latte"}],cart:{items:[{quantity:1,name:"grande latte",sku:"602",children:[]}]}},{turns:[{speaker:"speaker",transcription:"change that to a tall"}],cart:{items:[{quantity:1,name:"tall latte",sku:"601",children:[]}]}}]},{id:56.3,suites:"regression modify",comment:"Change two attributes, implicit - change that to attribute y and attribute z.",steps:[{turns:[{speaker:"speaker",transcription:"we would like a latte"}],cart:{items:[{quantity:1,name:"grande latte",sku:"602",children:[]}]}},{turns:[{speaker:"speaker",transcription:"change that to a tall and iced"}],cart:{items:[{quantity:1,name:"iced tall latte",sku:"603",children:[]}]}}]},{id:56.4,suites:"regression modify",comment:"Change an attribute and add an option.",steps:[{turns:[{speaker:"speaker",transcription:"i'd like a latte"}],cart:{items:[{quantity:1,name:"grande latte",sku:"602",children:[]}]}},{turns:[{speaker:"speaker",transcription:"make that latte iced and decaf"}],cart:{items:[{quantity:1,name:"iced grande latte",sku:"604",children:[{quantity:1,name:"decaf",sku:"3000",children:[]}]}]}}]},{id:57,suites:"regression modify",comment:"Explicit target change mutually exclusive option.",steps:[{turns:[{speaker:"speaker",transcription:"i'd like a cappuccino"}],cart:{items:[{quantity:1,name:"grande cappuccino",sku:"402",children:[]}]}},{turns:[{speaker:"speaker",transcription:"change that cappuccino to a decaf"}],cart:{items:[{quantity:1,name:"grande cappuccino",sku:"402",children:[{quantity:1,name:"decaf",sku:"3000",children:[]}]}]}}]},{id:57.1,suites:"regression modify implicit",comment:"explicit target change mutually exclusive option",steps:[{turns:[{speaker:"speaker",transcription:"i'd like a cappuccino"}],cart:{items:[{quantity:1,name:"grande cappuccino",sku:"402",children:[]}]}},{turns:[{speaker:"speaker",transcription:"make that cappuccino half decaf"}],cart:{items:[{quantity:1,name:"grande cappuccino",sku:"402",children:[{quantity:1,name:"half caf",sku:"2800",children:[]}]}]}}]},{id:57.2,suites:"regression modify implicit",comment:"implicit target change a mutually exclusive option - make that option y",steps:[{turns:[{speaker:"speaker",transcription:"i'd like a flat white"}],cart:{items:[{quantity:1,name:"grande flat white",sku:"502",children:[]}]}},{turns:[{speaker:"speaker",transcription:"make that half caf"}],cart:{items:[{quantity:1,name:"grande flat white",sku:"502",children:[{quantity:1,name:"half caf",sku:"2800",children:[]}]}]}}]},{id:57.3,suites:"regression modify implicit",comment:"implicit target change a mutually exclusive option - change that to option y",steps:[{turns:[{speaker:"speaker",transcription:"i'd like a flat white"}],cart:{items:[{quantity:1,name:"grande flat white",sku:"502",children:[]}]}},{turns:[{speaker:"speaker",transcription:"change that to a half caf"}],cart:{items:[{quantity:1,name:"grande flat white",sku:"502",children:[{quantity:1,name:"half caf",sku:"2800",children:[]}]}]}}]},{id:58,suites:"regression modify implicit",comment:"implicit target change an attribute - make that attribute Z",steps:[{turns:[{speaker:"speaker",transcription:"can i get a latte"}],cart:{items:[{quantity:1,name:"grande latte",sku:"602",children:[]}]}},{turns:[{speaker:"speaker",transcription:"make that a tall"}],cart:{items:[{quantity:1,name:"tall latte",sku:"601",children:[]}]}}]},{id:59,suites:"regression modify implicit",comment:"implicit target add option - add option y to that",steps:[{turns:[{speaker:"speaker",transcription:"get me an espresso"}],cart:{items:[{quantity:1,name:"doppio espresso",sku:"1001",children:[]}]}},{turns:[{speaker:"speaker",transcription:"add cream to that"}],cart:{items:[{quantity:1,name:"doppio espresso",sku:"1001",children:[{quantity:1,name:"half and half",sku:"4900",children:[]}]}]}}]},{id:60,suites:"regression modify implicit",comment:"implicit target add option - add option y",steps:[{turns:[{speaker:"speaker",transcription:"i want a latte"}],cart:{items:[{quantity:1,name:"grande latte",sku:"602",children:[]}]}},{turns:[{speaker:"speaker",transcription:"add peppermint syrup"}],cart:{items:[{quantity:1,name:"grande latte",sku:"602",children:[{quantity:1,name:"peppermint syrup",sku:"2202",children:[]}]}]}}]},{id:60.1,suites:"regression modify implicit",comment:"implicit target add option - can you make that with option y",steps:[{turns:[{speaker:"speaker",transcription:"i want a latte"}],cart:{items:[{quantity:1,name:"grande latte",sku:"602",children:[]}]}},{turns:[{speaker:"speaker",transcription:"can you make that with foam"}],cart:{items:[{quantity:1,name:"grande latte",sku:"602",children:[{quantity:1,name:"foam",sku:"5202",children:[]}]}]}}]},{id:60.2,suites:"regression modify implicit",comment:"implicit target add option - i want that with option y",steps:[{turns:[{speaker:"speaker",transcription:"i'd like a latte"}],cart:{items:[{quantity:1,name:"grande latte",sku:"602",children:[]}]}},{turns:[{speaker:"speaker",transcription:"i want that with a lid"}],cart:{items:[{quantity:1,name:"grande latte",sku:"602",children:[{quantity:1,name:"lid",sku:"5800",children:[]}]}]}}]},{id:61,suites:"regression modify replace implicit",comment:"change one product into another, implicit, preserving options and attributes - actually make that a product x",steps:[{turns:[{speaker:"speaker",transcription:"i'd like a decaf latte"}],cart:{items:[{quantity:1,name:"grande latte",sku:"602",children:[{quantity:1,name:"decaf",sku:"3000",children:[]}]}]}},{turns:[{speaker:"speaker",transcription:"actually make that a cappuccino"}],cart:{items:[{quantity:1,name:"grande cappuccino",sku:"402",children:[{quantity:1,name:"decaf",sku:"3000",children:[]}]}]}}]},{id:61.1,suites:"regression modify replace",comment:"change one product into another, preserving options and attributes - make that product x product y",steps:[{turns:[{speaker:"speaker",transcription:"i want a decaf latte"}],cart:{items:[{quantity:1,name:"grande latte",sku:"602",children:[{quantity:1,name:"decaf",sku:"3000",children:[]}]}]}},{turns:[{speaker:"speaker",transcription:"make that latte a cappuccino"}],cart:{items:[{quantity:1,name:"grande cappuccino",sku:"402",children:[{quantity:1,name:"decaf",sku:"3000",children:[]}]}]}}]},{id:62,suites:"regression modify replace",comment:"change one product into another with different attribute - change product x to product y",steps:[{turns:[{speaker:"speaker",transcription:"i'd like a decaf latte"}],cart:{items:[{quantity:1,name:"grande latte",sku:"602",children:[{quantity:1,name:"decaf",sku:"3000",children:[]}]}]}},{turns:[{speaker:"speaker",transcription:"change that latte to a half caf espresso"}],cart:{items:[{quantity:1,name:"doppio espresso",sku:"1001",children:[{quantity:1,name:"half caf",sku:"2800",children:[]}]}]}}]},{id:63,suites:"regression modify replace",comment:"replace one product with another - replace product x with product y",steps:[{turns:[{speaker:"speaker",transcription:"i want an espresso"}],cart:{items:[{quantity:1,name:"doppio espresso",sku:"1001",children:[]}]}},{turns:[{speaker:"speaker",transcription:"replace that espresso with a tall iced latte"}],cart:{items:[{quantity:1,name:"iced tall latte",sku:"603",children:[]}]}}]},{id:63.1,suites:"regression modify replace implicit",comment:"replace one product with another, implicit - change that to product x",steps:[{turns:[{speaker:"speaker",transcription:"i want an espresso"}],cart:{items:[{quantity:1,name:"doppio espresso",sku:"1001",children:[]}]}},{turns:[{speaker:"speaker",transcription:"change that to a tall iced latte"}],cart:{items:[{quantity:1,name:"iced tall latte",sku:"603",children:[]}]}}]},{id:63.2,suites:"regression modify replace implicit",comment:"replace one product with another, implicit - replace that with product x",steps:[{turns:[{speaker:"speaker",transcription:"i want an espresso"}],cart:{items:[{quantity:1,name:"doppio espresso",sku:"1001",children:[]}]}},{turns:[{speaker:"speaker",transcription:"replace that with a tall iced latte"}],cart:{items:[{quantity:1,name:"iced tall latte",sku:"603",children:[]}]}}]},{id:64,suites:"regression modify replace implicit",comment:"replace implicit item with another - change product x to a product y",steps:[{turns:[{speaker:"speaker",transcription:"get me an espresso"}],cart:{items:[{quantity:1,name:"doppio espresso",sku:"1001",children:[]}]}},{turns:[{speaker:"speaker",transcription:"change that to a tall iced latte"}],cart:{items:[{quantity:1,name:"iced tall latte",sku:"603",children:[]}]}}]},{id:65,suites:"regression multiple",comment:"add then remove in same utterance",steps:[{turns:[{speaker:"speaker",transcription:"get me a latte"}],cart:{items:[{quantity:1,name:"grande latte",sku:"602",children:[]}]}},{turns:[{speaker:"speaker",transcription:"remove the latte and add an espresso"}],cart:{items:[{quantity:1,name:"doppio espresso",sku:"1001",children:[]}]}}]},{id:66,suites:"regression multiple",comment:"remove then add in same utterance",steps:[{turns:[{speaker:"speaker",transcription:"get me a latte"}],cart:{items:[{quantity:1,name:"grande latte",sku:"602",children:[]}]}},{turns:[{speaker:"speaker",transcription:"get me an espresso and remove the latte"}],cart:{items:[{quantity:1,name:"doppio espresso",sku:"1001",children:[]}]}}]},{id:66.1,suites:"regression multiple",comment:"remove then add in same utterance",steps:[{turns:[{speaker:"speaker",transcription:"get me a latte"}],cart:{items:[{quantity:1,name:"grande latte",sku:"602",children:[]}]}},{turns:[{speaker:"speaker",transcription:"add an espresso and remove the latte"}],cart:{items:[{quantity:1,name:"doppio espresso",sku:"1001",children:[]}]}}]},{id:501,suites:"regression add",comment:"Two leading attributes",steps:[{turns:[{speaker:"speaker",transcription:"we'll also have a tall buttered rum cappuccino"}],cart:{items:[{quantity:1,name:"tall cappuccino",sku:"401",children:[{quantity:1,name:"buttered rum syrup",sku:"1702",children:[]}]}]}}]}]},{comment:"## Extras\nThese are extra regression cases associated with bugs discovered\nwhile testing.\n",tests:[{id:1e3,suites:"extras disfluencies",comment:"lots of stop words and disfluencies",steps:[{turns:[{speaker:"speaker",transcription:"i'd ah i'd like a latte and um i need a second and and also an espresso"}],cart:{items:[{quantity:1,name:"grande latte",sku:"602",children:[]},{quantity:1,name:"doppio espresso",sku:"1001",children:[]}]}}]},{id:1001,suites:"extras bug",comment:"should remove the sugar",steps:[{turns:[{speaker:"speaker",transcription:"i want a coffee with two sugar"}],cart:{items:[{quantity:1,name:"grande dark roast coffee",sku:"1502",children:[{quantity:2,name:"sugar",sku:"6602",children:[]}]}]}},{turns:[{speaker:"speaker",transcription:"make that no sugar"}],cart:{items:[{quantity:1,name:"grande dark roast coffee",sku:"1502",children:[{quantity:1,name:"no sugar",sku:"6600",children:[]}]}]}}]},{id:1006,suites:"extras bug",comment:"should remove the sugar",steps:[{turns:[{speaker:"speaker",transcription:"i want a coffee with two sugar"}],cart:{items:[{quantity:1,name:"grande dark roast coffee",sku:"1502",children:[{quantity:2,name:"sugar",sku:"6602",children:[]}]}]}},{turns:[{speaker:"speaker",transcription:"make that without sugar"}],cart:{items:[{quantity:1,name:"grande dark roast coffee",sku:"1502",children:[{quantity:1,name:"no sugar",sku:"6600",children:[]}]}]}}]},{id:1007,suites:"extras remove not-implemented",comment:"remove by product class",steps:[{turns:[{speaker:"speaker",transcription:"i want a coffee with two equal"}],cart:{items:[{quantity:1,name:"grande dark roast coffee",sku:"1502",children:[{quantity:2,name:"equal",sku:"6302",children:[]}]}]}},{turns:[{speaker:"speaker",transcription:"make that without sweetener"}],cart:{items:[{quantity:1,name:"grande dark roast coffee",sku:"1502",children:[]}]}}]},{id:1002,suites:"extras add ambiguous",comment:"chai latte can be a chai latte and a latte or just a latte",steps:[{turns:[{speaker:"speaker",transcription:"i want a tall latte a short latte macchiato and a venti chai latte iced"}],cart:{items:[{quantity:1,name:"tall latte",sku:"601",children:[]},{quantity:1,name:"short latte macchiato",sku:"700",children:[]},{quantity:1,name:"venti iced chai latte",sku:"905",children:[]}]}}]},{id:1003,suites:"extras add modify spec-issue",comment:'Should not add a second whipped cream - or should it?\nThis is the difference between "I want", which is like\n"make that" and "add".\n',steps:[{turns:[{speaker:"speaker",transcription:"i want a latte with whip"}],cart:{items:[{quantity:1,name:"grande latte",sku:"602",children:[{quantity:1,name:"whipped cream",sku:"5502",children:[]}]}]}},{turns:[{speaker:"speaker",transcription:"i want whip on that"}],cart:{items:[{quantity:1,name:"grande latte",sku:"602",children:[{quantity:1,name:"whipped cream",sku:"5502",children:[]},{quantity:1,name:"whipped cream",sku:"5502",children:[]}]}]}}]},{id:1004,suites:"regression remove implicit",comment:"should remove the whipped cream",steps:[{turns:[{speaker:"speaker",transcription:"i want a latte with whip"}],cart:{items:[{quantity:1,name:"grande latte",sku:"602",children:[{quantity:1,name:"whipped cream",sku:"5502",children:[]}]}]}},{turns:[{speaker:"speaker",transcription:"remove the whip"}],cart:{items:[{quantity:1,name:"grande latte",sku:"602",children:[]}]}}]},{id:1005,suites:"regression remove implicit",comment:"Should remove the vanilla - says not implemented.\nparseRemoveOptionFromImplicit() not implemented.\n",steps:[{turns:[{speaker:"speaker",transcription:"i want a vanilla latte"}],cart:{items:[{quantity:1,name:"grande latte",sku:"602",children:[{quantity:1,name:"vanilla syrup",sku:"2502",children:[]}]}]}},{turns:[{speaker:"speaker",transcription:"remove the vanilla"}],cart:{items:[{quantity:1,name:"grande latte",sku:"602",children:[]}]}}]},{id:1008,suites:"regression add bug",comment:"can we have a product x",steps:[{turns:[{speaker:"speaker",transcription:"can we have a latte"}],cart:{items:[{quantity:1,name:"grande latte",sku:"602",children:[]}]}}]},{id:1009,suites:"extras",comment:"make that not iced",steps:[{turns:[{speaker:"speaker",transcription:"give me an iced latte"}],cart:{items:[{quantity:1,name:"iced grande latte",sku:"604",children:[]}]}},{turns:[{speaker:"speaker",transcription:"make that not iced"}],cart:{items:[{quantity:1,name:"grande latte",sku:"602",children:[]}]}}]},{id:1010,suites:"extras ambiguous not-implemented",comment:"Change option on one of two items.\nThis is ambiguous. Shortest edit distance heuristic\nmight be appropriate here.\n",steps:[{turns:[{speaker:"speaker",transcription:"i'd like a latte and a flat white"}],cart:{items:[{quantity:1,name:"grande latte",sku:"602",children:[]},{quantity:1,name:"grande flat white",sku:"502",children:[]}]}},{turns:[{speaker:"speaker",transcription:"make that latte decaf"}],cart:{items:[{quantity:1,name:"grande latte",sku:"602",children:[{quantity:1,name:"decaf",sku:"3000",children:[]}]},{quantity:1,name:"grande flat white",sku:"502",children:[]}]}}]},{id:1011,suites:"regression remove implicit",comment:"Remove options.\nparseRemoveOptionFromImplicit() not implemented.\n",steps:[{turns:[{speaker:"speaker",transcription:"i want a peppermint latte"}],cart:{items:[{quantity:1,name:"grande latte",sku:"602",children:[{quantity:1,name:"peppermint syrup",sku:"2202",children:[]}]}]}},{turns:[{speaker:"speaker",transcription:"remove the peppermint"}],cart:{items:[{quantity:1,name:"grande latte",sku:"602",children:[]}]}}]},{id:1012,suites:"extras add bug regression",comment:"Should add a latte",steps:[{turns:[{speaker:"speaker",transcription:"add a latte"}],cart:{items:[{quantity:1,name:"grande latte",sku:"602",children:[]}]}}]},{id:1014,suites:"extras regression",comment:"multi-step order product then modify",steps:[{turns:[{speaker:"speaker",transcription:"i'd like a muffin"}],cart:{items:[{quantity:1,name:"apple bran muffin",sku:"10000",children:[]}]}},{turns:[{speaker:"speaker",transcription:"i'd like that warmed"}],cart:{items:[{quantity:1,name:"apple bran muffin",sku:"10000",children:[{quantity:1,name:"warmed",sku:"200",children:[]}]}]}}]},{id:1015,suites:"extras regression",comment:"room for cream should not add cream",steps:[{turns:[{speaker:"speaker",transcription:"i'd like a coffee with room for cream"}],cart:{items:[{quantity:1,name:"grande dark roast coffee",sku:"1502",children:[{quantity:1,name:"with room",sku:"5900",children:[]}]}]}}]},{id:1016,suites:"extras regression",comment:"room for cream should not add cream",steps:[{turns:[{speaker:"speaker",transcription:"i'd like a coffee"}],cart:{items:[{quantity:1,name:"grande dark roast coffee",sku:"1502",children:[]}]}},{turns:[{speaker:"speaker",transcription:"can you make that with room for cream"}],cart:{items:[{quantity:1,name:"grande dark roast coffee",sku:"1502",children:[{quantity:1,name:"with room",sku:"5900",children:[]}]}]}}]},{id:1017,suites:"extras regression",comment:"multi-step add option with product name afterwards",steps:[{turns:[{speaker:"speaker",transcription:"can i get a coffee"}],cart:{items:[{quantity:1,name:"grande dark roast coffee",sku:"1502",children:[]}]}},{turns:[{speaker:"speaker",transcription:"can i get room in that coffee"}],cart:{items:[{quantity:1,name:"grande dark roast coffee",sku:"1502",children:[{quantity:1,name:"with room",sku:"5900",children:[]}]}]}}]},{id:1018,suites:"extras add multiple bug",comment:"Multi-step should add room to coffee.\nInstead adds it to the espresso.\n",steps:[{turns:[{speaker:"speaker",transcription:"i want a coffee and an espresso"}],cart:{items:[{quantity:1,name:"grande dark roast coffee",sku:"1502",children:[]},{quantity:1,name:"doppio espresso",sku:"1001",children:[]}]}},{turns:[{speaker:"speaker",transcription:"can i get room in the coffee"}],cart:{items:[{quantity:1,name:"grande dark roast coffee",sku:"1502",children:[{quantity:1,name:"with room",sku:"5900",children:[]}]},{quantity:1,name:"doppio espresso",sku:"1001",children:[]}]}}]},{id:1019,suites:"extras regression",comment:"adds togo to the wrong item",steps:[{turns:[{speaker:"speaker",transcription:"add a latte"}],cart:{items:[{quantity:1,name:"grande latte",sku:"602",children:[]}]}},{turns:[{speaker:"speaker",transcription:"add an americano"}],cart:{items:[{quantity:1,name:"grande latte",sku:"602",children:[]},{quantity:1,name:"grande americano",sku:"1402",children:[]}]}},{turns:[{speaker:"speaker",transcription:"make that to go"}],cart:{items:[{quantity:1,name:"grande latte",sku:"602",children:[]},{quantity:1,name:"grande americano",sku:"1402",children:[{quantity:1,name:"to go",sku:"6000",children:[]}]}]}}]},{id:1020,suites:"extras",comment:"this one seems to work",steps:[{turns:[{speaker:"speaker",transcription:"add a latte"}],cart:{items:[{quantity:1,name:"grande latte",sku:"602",children:[]}]}},{turns:[{speaker:"speaker",transcription:"add an americano"}],cart:{items:[{quantity:1,name:"grande latte",sku:"602",children:[]},{quantity:1,name:"grande americano",sku:"1402",children:[]}]}},{turns:[{speaker:"speaker",transcription:"make that americano to go"}],cart:{items:[{quantity:1,name:"grande latte",sku:"602",children:[]},{quantity:1,name:"grande americano",sku:"1402",children:[{quantity:1,name:"to go",sku:"6000",children:[]}]}]}}]},{id:1021,suites:"extras bug exclusive",comment:"Should replace peppermint with extra peppermint",steps:[{turns:[{speaker:"speaker",transcription:"add a latte with peppermint"}],cart:{items:[{quantity:1,name:"grande latte",sku:"602",children:[{quantity:1,name:"peppermint syrup",sku:"2202",children:[]}]}]}},{turns:[{speaker:"speaker",transcription:"make that with extra peppermint"}],cart:{items:[{quantity:1,name:"grande latte",sku:"602",children:[{quantity:1,name:"extra peppermint syrup",sku:"2203",children:[]}]}]}}]},{id:1022,suites:"extras bug",comment:"Should add whole milk creamer to coffee.\nQuestion: what about the half and half?'\n",steps:[{turns:[{speaker:"speaker",transcription:"add a nonfat latte and a coffee with half and half"}],cart:{items:[{quantity:1,name:"grande latte",sku:"602",children:[{quantity:1,name:"nonfat milk",sku:"3400",children:[]}]},{quantity:1,name:"grande dark roast coffee",sku:"1502",children:[{quantity:1,name:"half and half",sku:"4900",children:[]}]}]}}]},{id:1023,suites:"extras regression",comment:"Should only add one lid.\nThis may pass for the wrong reason.\nSee 1003, which is the same case, but fails.\n",steps:[{turns:[{speaker:"speaker",transcription:"add a latte with a lid"}],cart:{items:[{quantity:1,name:"grande latte",sku:"602",children:[{quantity:1,name:"lid",sku:"5800",children:[]}]}]}},{turns:[{speaker:"speaker",transcription:"make that with a lid"}],cart:{items:[{quantity:1,name:"grande latte",sku:"602",children:[{quantity:1,name:"lid",sku:"5800",children:[]}]}]}}]},{id:1024,suites:"regression remove implicit",comment:"Should remove the splenda.\nparseRemoveOptionFromImplicit() not implemented.\n",steps:[{turns:[{speaker:"speaker",transcription:"add a latte with splenda"}],cart:{items:[{quantity:1,name:"grande latte",sku:"602",children:[{quantity:1,name:"splenda",sku:"6502",children:[]}]}]}},{turns:[{speaker:"speaker",transcription:"remove the splenda"}],cart:{items:[{quantity:1,name:"grande latte",sku:"602",children:[]}]}}]},{id:1025,suites:"extras regression",comment:"shoud put no foam on second drink",steps:[{turns:[{speaker:"speaker",transcription:"add a mocha and an iced grande latte with extra foam"}],cart:{items:[{quantity:1,name:"grande mocha",sku:"802",children:[]},{quantity:1,name:"iced grande latte",sku:"604",children:[{quantity:1,name:"extra foam",sku:"5203",children:[]}]}]}},{turns:[{speaker:"speaker",transcription:"make that with no foam"}],cart:{items:[{quantity:1,name:"grande mocha",sku:"802",children:[]},{quantity:1,name:"iced grande latte",sku:"604",children:[{quantity:1,name:"no foam",sku:"5200",children:[]}]}]}}]},{id:1026,suites:"extras bug",comment:"should only have on no foam",steps:[{turns:[{speaker:"speaker",transcription:"add a latte with no foam"}],cart:{items:[{quantity:1,name:"grande latte",sku:"602",children:[{quantity:1,name:"no foam",sku:"5200",children:[]}]}]}},{turns:[{speaker:"speaker",transcription:"make that with no foam"}],cart:{items:[{quantity:1,name:"grande latte",sku:"602",children:[{quantity:1,name:"no foam",sku:"5200",children:[]}]}]}}]},{id:1027,suites:"extras",comment:"Demonstrates an option with the same name as an attributes.\nThis one should add the 'ice' option because 'iced short' is\nnot a legal form.\n",steps:[{turns:[{speaker:"speaker",transcription:"i want a short iced latte"}],cart:{items:[{quantity:1,name:"short latte",sku:"600",children:[{quantity:1,name:"ice",sku:"5302",children:[]}]}]}}]},{id:1027.1,suites:"extras",comment:"Demonstrates an option with the same name as an attributes.\nThis one should use 'iced' attribute.\n",steps:[{turns:[{speaker:"speaker",transcription:"i want a tall iced latte"}],cart:{items:[{quantity:1,name:"iced tall latte",sku:"603",children:[]}]}}]},{id:1028,suites:"extras bug disfluencies not-implemented",comment:"Disfluency prevents order",steps:[{turns:[{speaker:"speaker",transcription:"Hi um i'd like a ah a latte with vanilla syrup"}],cart:{items:[{quantity:1,name:"grande latte",sku:"602",children:[{quantity:1,name:"vanilla syrup",sku:"2502",children:[]}]}]}}]},{id:1029,suites:"extras bug option-as-verb not-implemented",comment:"Should not remove the muffin\n",steps:[{turns:[{speaker:"speaker",transcription:"i'd like a muffin"}],cart:{items:[{quantity:1,name:"apple bran muffin",sku:"10000",children:[]}]}},{turns:[{speaker:"speaker",transcription:"and can you warm the muffin"}],cart:{items:[{quantity:1,name:"apple bran muffin",sku:"10000",children:[{quantity:1,name:"warmed",sku:"200",children:[]}]}]}}]},{id:1030,suites:"extras implicit option-as-verb not-implemented",comment:"option-as-verb should warm the muffin",steps:[{turns:[{speaker:"speaker",transcription:"i'd like a muffin"}],cart:{items:[{quantity:1,name:"apple bran muffin",sku:"10000",children:[]}]}},{turns:[{speaker:"speaker",transcription:"warm that"}],cart:{items:[{quantity:1,name:"apple bran muffin",sku:"10000",children:[{quantity:1,name:"warmed",sku:"200",children:[]}]}]}}]},{id:1031,suites:"extras option-as-verb not-implemented",comment:"option-as-verb should slice the muffin",steps:[{turns:[{speaker:"speaker",transcription:"add a muffin"}],cart:{items:[{quantity:1,name:"apple bran muffin",sku:"10000",children:[]}]}},{turns:[{speaker:"speaker",transcription:"slice the muffin"}],cart:{items:[{quantity:1,name:"apple bran muffin",sku:"10000",children:[{quantity:1,name:"cut in half",sku:"300",children:[]}]}]}}]},{id:1032,suites:"extras recipes regression",comment:"double shot",steps:[{turns:[{speaker:"speaker",transcription:"add a double shot latte"}],cart:{items:[{quantity:1,name:"grande latte",sku:"602",children:[{quantity:2,name:"espresso shot",sku:"6902",children:[]}]}]}}]},{id:1033,suites:"extras recipes regression",comment:"double latte vs double espress",steps:[{turns:[{speaker:"speaker",transcription:"add a double latte"}],cart:{items:[{quantity:1,name:"grande latte",sku:"602",children:[{quantity:2,name:"espresso shot",sku:"6902",children:[]}]}]}},{turns:[{speaker:"speaker",transcription:"add a double espresso"}],cart:{items:[{quantity:1,name:"grande latte",sku:"602",children:[{quantity:2,name:"espresso shot",sku:"6902",children:[]}]},{quantity:1,name:"doppio espresso",sku:"1001",children:[]}]}}]},{id:1034,suites:"extras recipes regression",comment:"coffee one and one",steps:[{turns:[{speaker:"speaker",transcription:"i'll have a coffee one and one"}],cart:{items:[{quantity:1,name:"grande dark roast coffee",sku:"1502",children:[{quantity:1,name:"half and half",sku:"4900",children:[]},{quantity:1,name:"sugar",sku:"6602",children:[]}]}]}}]},{id:1035,suites:"extras bug",comment:"should add two shots. fuzzerB4:887, 318",steps:[{turns:[{speaker:"speaker",transcription:"add a latte and two extra shot"}],cart:{items:[{quantity:1,name:"grande latte",sku:"602",children:[{quantity:2,name:"extra espresso shot",sku:"6903",children:[]}]}]}}]},{id:1036,suites:"extras bug",comment:"fuzzerB4:474",steps:[{turns:[{speaker:"speaker",transcription:"add latte with two added shot"}],cart:{items:[{quantity:1,name:"grande latte",sku:"602",children:[{quantity:2,name:"espresso shot",sku:"6902",children:[]}]}]}}]},{id:1037,suites:"extras bug",comment:"found in web app",steps:[{turns:[{speaker:"speaker",transcription:"add a muffin with butter"}],cart:{items:[{quantity:1,name:"apple bran muffin",sku:"10000",children:[{quantity:1,name:"butter",sku:"3",children:[]}]}]}},{turns:[{speaker:"speaker",transcription:"make that with extra butter"}],cart:{items:[{quantity:1,name:"apple bran muffin",sku:"10000",children:[{quantity:1,name:"extra butter",sku:"4",children:[]}]}]}}]}]}]}];e.exports=r.length<=1?r[0]:r},WFqU:function(e,t,r){(function(t){var r="object"==typeof t&&t&&t.Object===Object&&t;e.exports=r}).call(this,r("yLpj"))},WV1e:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("w9WE");t.ProductGenerator=class{constructor(e,t,r,n){if(this.pidToGenerator=new Map,e.length<1){throw TypeError("ProductGenerator: need at least one EntityGenerator")}this.entityGenerators=e,this.optionGenerators=t,this.optionCountRange=r;for(const i of t)this.pidToGenerator.set(i.pid,i);this.rules=n}randomProduct(e){const t=e.randomChoice(this.entityGenerators).randomEntity(e),r=[],i=e.randomInRange(this.optionCountRange[0],this.optionCountRange[1]+1),o=this.randomOptions(t.key,i,e);for(const n of o)e.randomBoolean()?r.push(n.randomAttributedOption(e)):r.push(n.randomQuantifiedOption(t.key,e));return new n.ProductX(t.quantity,t.attributes,r,t.key,t.text)}randomOptions(e,t,r){const n=this.randomChooseNCompatibleChildren(e,t,r),i=[];for(const o of n){const e=this.pidToGenerator.get(o);e&&i.push(e)}return i}randomChooseNCompatibleChildren(e,t,r){const n=[...this.rules.getValidChildren(e)],i=[],o=this.rules.getIncrementalMutualExclusionPredicate(e);for(;n.length>0&&i.length<t;){const e=r.randomNonNegative(n.length),t=n[e];n[e]=n[n.length-1],n.pop(),o(String(t))&&i.push(t)}return i}randomOption(e,t){const r=[...this.rules.getValidChildren(e)];if(r.length>0){const e=t.randomChoice(r);return this.pidToGenerator.get(e)}}}},WtKE:function(e,t,r){"use strict";var n,i=59;e.exports=function(e){var t,r="&"+e+";";if((n=n||document.createElement("i")).innerHTML=r,(t=n.textContent).charCodeAt(t.length-1)===i&&"semi"!==e)return!1;return t!==r&&t}},WuYN:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class n extends TypeError{constructor(e,t){super(e),this.name="YAML Validation Error",console.log("YAML validation error:");const r=t.toString(),i=r.indexOf("^");console.log(r.slice(0,i+2)),Object.setPrototypeOf(this,n.prototype)}}t.YAMLValidationError=n},WwTg:function(e){e.exports=JSON.parse('["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","iframe","legend","li","link","main","menu","menuitem","meta","nav","noframes","ol","optgroup","option","p","param","pre","section","source","title","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"]')},XD0j:function(e,t,r){"use strict";e.exports=function(e,t,r){var n=" ",i=e.schema[t],o=e.errSchemaPath+"/"+t,s=(e.opts.allErrors,e.util.toQuotedString(i));return!0===e.opts.$comment?n+=" console.log("+s+");":"function"==typeof e.opts.$comment&&(n+=" self._opts.$comment("+s+", "+e.util.toQuotedString(o)+", validate.root.schema);"),n}},XM5d:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r("/3IF"))},XP29:function(e,t,r){"use strict";var n=r("Y2Yi"),i=r("w+qe"),o=r("VtPO"),s=r("Z3Ei"),a=Object.prototype.toString,c=Object.prototype.hasOwnProperty,u=9,l=10,p=13,h=32,d=33,f=34,m=35,v=37,g=38,y=39,b=42,S=44,w=45,k=58,E=61,O=62,x=63,C=64,P=91,T=93,R=96,M=123,A=124,I=125,_={0:"\\0",7:"\\a",8:"\\b",9:"\\t",10:"\\n",11:"\\v",12:"\\f",13:"\\r",27:"\\e",34:'\\"',92:"\\\\",133:"\\N",160:"\\_",8232:"\\L",8233:"\\P"},N=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"];function D(e){var t,r,o;if(t=e.toString(16).toUpperCase(),e<=255)r="x",o=2;else if(e<=65535)r="u",o=4;else{if(!(e<=4294967295))throw new i("code point within a string may not be greater than 0xFFFFFFFF");r="U",o=8}return"\\"+r+n.repeat("0",o-t.length)+t}function F(e){this.schema=e.schema||o,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=n.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=function(e,t){var r,n,i,o,s,a,u;if(null===t)return{};for(r={},i=0,o=(n=Object.keys(t)).length;i<o;i+=1)s=n[i],a=String(t[s]),"!!"===s.slice(0,2)&&(s="tag:yaml.org,2002:"+s.slice(2)),(u=e.compiledTypeMap.fallback[s])&&c.call(u.styleAliases,a)&&(a=u.styleAliases[a]),r[s]=a;return r}(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function j(e,t){for(var r,i=n.repeat(" ",t),o=0,s=-1,a="",c=e.length;o<c;)-1===(s=e.indexOf("\n",o))?(r=e.slice(o),o=c):(r=e.slice(o,s+1),o=s+1),r.length&&"\n"!==r&&(a+=i),a+=r;return a}function B(e,t){return"\n"+n.repeat(" ",e.indent*t)}function z(e){return e===h||e===u}function q(e){return 32<=e&&e<=126||161<=e&&e<=55295&&8232!==e&&8233!==e||57344<=e&&e<=65533&&65279!==e||65536<=e&&e<=1114111}function L(e,t){return q(e)&&65279!==e&&e!==S&&e!==P&&e!==T&&e!==M&&e!==I&&e!==k&&(e!==m||t&&function(e){return q(e)&&!z(e)&&65279!==e&&e!==p&&e!==l}(t))}function W(e){return/^\n* /.test(e)}var U=1,$=2,K=3,H=4,G=5;function V(e,t,r,n,i){var o,s,a,c,u=!1,p=!1,h=-1!==n,_=-1,N=q(c=e.charCodeAt(0))&&65279!==c&&!z(c)&&c!==w&&c!==x&&c!==k&&c!==S&&c!==P&&c!==T&&c!==M&&c!==I&&c!==m&&c!==g&&c!==b&&c!==d&&c!==A&&c!==E&&c!==O&&c!==y&&c!==f&&c!==v&&c!==C&&c!==R&&!z(e.charCodeAt(e.length-1));if(t)for(o=0;o<e.length;o++){if(!q(s=e.charCodeAt(o)))return G;a=o>0?e.charCodeAt(o-1):null,N=N&&L(s,a)}else{for(o=0;o<e.length;o++){if((s=e.charCodeAt(o))===l)u=!0,h&&(p=p||o-_-1>n&&" "!==e[_+1],_=o);else if(!q(s))return G;a=o>0?e.charCodeAt(o-1):null,N=N&&L(s,a)}p=p||h&&o-_-1>n&&" "!==e[_+1]}return u||p?r>9&&W(e)?G:p?H:K:N&&!i(e)?U:$}function Y(e,t,r,n){e.dump=function(){if(0===t.length)return"''";if(!e.noCompatMode&&-1!==N.indexOf(t))return"'"+t+"'";var o=e.indent*Math.max(1,r),s=-1===e.lineWidth?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-o),a=n||e.flowLevel>-1&&r>=e.flowLevel;switch(V(t,a,e.indent,s,(function(t){return function(e,t){var r,n;for(r=0,n=e.implicitTypes.length;r<n;r+=1)if(e.implicitTypes[r].resolve(t))return!0;return!1}(e,t)}))){case U:return t;case $:return"'"+t.replace(/'/g,"''")+"'";case K:return"|"+Q(t,e.indent)+Z(j(t,o));case H:return">"+Q(t,e.indent)+Z(j(function(e,t){var r,n,i=/(\n+)([^\n]*)/g,o=function(){var r=e.indexOf("\n");return r=-1!==r?r:e.length,i.lastIndex=r,J(e.slice(0,r),t)}(),s="\n"===e[0]||" "===e[0];for(;n=i.exec(e);){var a=n[1],c=n[2];r=" "===c[0],o+=a+(s||r||""===c?"":"\n")+J(c,t),s=r}return o}(t,s),o));case G:return'"'+function(e){for(var t,r,n,i="",o=0;o<e.length;o++)(t=e.charCodeAt(o))>=55296&&t<=56319&&(r=e.charCodeAt(o+1))>=56320&&r<=57343?(i+=D(1024*(t-55296)+r-56320+65536),o++):(n=_[t],i+=!n&&q(t)?e[o]:n||D(t));return i}(t)+'"';default:throw new i("impossible error: invalid scalar style")}}()}function Q(e,t){var r=W(e)?String(t):"",n="\n"===e[e.length-1];return r+(n&&("\n"===e[e.length-2]||"\n"===e)?"+":n?"":"-")+"\n"}function Z(e){return"\n"===e[e.length-1]?e.slice(0,-1):e}function J(e,t){if(""===e||" "===e[0])return e;for(var r,n,i=/ [^ ]/g,o=0,s=0,a=0,c="";r=i.exec(e);)(a=r.index)-o>t&&(n=s>o?s:a,c+="\n"+e.slice(o,n),o=n+1),s=a;return c+="\n",e.length-o>t&&s>o?c+=e.slice(o,s)+"\n"+e.slice(s+1):c+=e.slice(o),c.slice(1)}function X(e,t,r){var n,o,s,u,l,p;for(s=0,u=(o=r?e.explicitTypes:e.implicitTypes).length;s<u;s+=1)if(((l=o[s]).instanceOf||l.predicate)&&(!l.instanceOf||"object"===typeof t&&t instanceof l.instanceOf)&&(!l.predicate||l.predicate(t))){if(e.tag=r?l.tag:"?",l.represent){if(p=e.styleMap[l.tag]||l.defaultStyle,"[object Function]"===a.call(l.represent))n=l.represent(t,p);else{if(!c.call(l.represent,p))throw new i("!<"+l.tag+'> tag resolver accepts not "'+p+'" style');n=l.represent[p](t,p)}e.dump=n}return!0}return!1}function ee(e,t,r,n,o,s){e.tag=null,e.dump=r,X(e,r,!1)||X(e,r,!0);var c=a.call(e.dump);n&&(n=e.flowLevel<0||e.flowLevel>t);var u,p,h="[object Object]"===c||"[object Array]"===c;if(h&&(p=-1!==(u=e.duplicates.indexOf(r))),(null!==e.tag&&"?"!==e.tag||p||2!==e.indent&&t>0)&&(o=!1),p&&e.usedDuplicates[u])e.dump="*ref_"+u;else{if(h&&p&&!e.usedDuplicates[u]&&(e.usedDuplicates[u]=!0),"[object Object]"===c)n&&0!==Object.keys(e.dump).length?(!function(e,t,r,n){var o,s,a,c,u,p,h="",d=e.tag,f=Object.keys(r);if(!0===e.sortKeys)f.sort();else if("function"===typeof e.sortKeys)f.sort(e.sortKeys);else if(e.sortKeys)throw new i("sortKeys must be a boolean or a function");for(o=0,s=f.length;o<s;o+=1)p="",n&&0===o||(p+=B(e,t)),c=r[a=f[o]],ee(e,t+1,a,!0,!0,!0)&&((u=null!==e.tag&&"?"!==e.tag||e.dump&&e.dump.length>1024)&&(e.dump&&l===e.dump.charCodeAt(0)?p+="?":p+="? "),p+=e.dump,u&&(p+=B(e,t)),ee(e,t+1,c,!0,u)&&(e.dump&&l===e.dump.charCodeAt(0)?p+=":":p+=": ",h+=p+=e.dump));e.tag=d,e.dump=h||"{}"}(e,t,e.dump,o),p&&(e.dump="&ref_"+u+e.dump)):(!function(e,t,r){var n,i,o,s,a,c="",u=e.tag,l=Object.keys(r);for(n=0,i=l.length;n<i;n+=1)a="",0!==n&&(a+=", "),e.condenseFlow&&(a+='"'),s=r[o=l[n]],ee(e,t,o,!1,!1)&&(e.dump.length>1024&&(a+="? "),a+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),ee(e,t,s,!1,!1)&&(c+=a+=e.dump));e.tag=u,e.dump="{"+c+"}"}(e,t,e.dump),p&&(e.dump="&ref_"+u+" "+e.dump));else if("[object Array]"===c){var d=e.noArrayIndent&&t>0?t-1:t;n&&0!==e.dump.length?(!function(e,t,r,n){var i,o,s="",a=e.tag;for(i=0,o=r.length;i<o;i+=1)ee(e,t+1,r[i],!0,!0)&&(n&&0===i||(s+=B(e,t)),e.dump&&l===e.dump.charCodeAt(0)?s+="-":s+="- ",s+=e.dump);e.tag=a,e.dump=s||"[]"}(e,d,e.dump,o),p&&(e.dump="&ref_"+u+e.dump)):(!function(e,t,r){var n,i,o="",s=e.tag;for(n=0,i=r.length;n<i;n+=1)ee(e,t,r[n],!1,!1)&&(0!==n&&(o+=","+(e.condenseFlow?"":" ")),o+=e.dump);e.tag=s,e.dump="["+o+"]"}(e,d,e.dump),p&&(e.dump="&ref_"+u+" "+e.dump))}else{if("[object String]"!==c){if(e.skipInvalid)return!1;throw new i("unacceptable kind of an object to dump "+c)}"?"!==e.tag&&Y(e,e.dump,t,s)}null!==e.tag&&"?"!==e.tag&&(e.dump="!<"+e.tag+"> "+e.dump)}return!0}function te(e,t){var r,n,i=[],o=[];for(function e(t,r,n){var i,o,s;if(null!==t&&"object"===typeof t)if(-1!==(o=r.indexOf(t)))-1===n.indexOf(o)&&n.push(o);else if(r.push(t),Array.isArray(t))for(o=0,s=t.length;o<s;o+=1)e(t[o],r,n);else for(i=Object.keys(t),o=0,s=i.length;o<s;o+=1)e(t[i[o]],r,n)}(e,i,o),r=0,n=o.length;r<n;r+=1)t.duplicates.push(i[o[r]]);t.usedDuplicates=new Array(n)}function re(e,t){var r=new F(t=t||{});return r.noRefs||te(e,r),ee(r,0,e,!0,!0)?r.dump+"\n":""}e.exports.dump=re,e.exports.safeDump=function(e,t){return re(e,n.extend({schema:s},t))}},XPXQ:function(e,t,r){"use strict";e.exports=function(e,t,r){var n=" ",i=e.level,o=e.dataLevel,s=e.schema[t],a=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,l="data"+(o||""),p="valid"+i,h="errs__"+i,d=e.util.copy(e);d.level++;var f="valid"+d.level,m="i"+i,v=d.dataLevel=e.dataLevel+1,g="data"+v,y=e.baseId,b=e.opts.strictKeywords?"object"==typeof s&&Object.keys(s).length>0:e.util.schemaHasRules(s,e.RULES.all);if(n+="var "+h+" = errors;var "+p+";",b){var S=e.compositeRule;e.compositeRule=d.compositeRule=!0,d.schema=s,d.schemaPath=a,d.errSchemaPath=c,n+=" var "+f+" = false; for (var "+m+" = 0; "+m+" < "+l+".length; "+m+"++) { ",d.errorPath=e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers,!0);var w=l+"["+m+"]";d.dataPathArr[v]=m;var k=e.validate(d);d.baseId=y,e.util.varOccurences(k,g)<2?n+=" "+e.util.varReplace(k,g,w)+" ":n+=" var "+g+" = "+w+"; "+k+" ",n+=" if ("+f+") break; }  ",e.compositeRule=d.compositeRule=S,n+="  if (!"+f+") {"}else n+=" if ("+l+".length == 0) {";var E=E||[];E.push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'contains' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: {} ",!1!==e.opts.messages&&(n+=" , message: 'should contain a valid item' "),e.opts.verbose&&(n+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ";var O=n;return n=E.pop(),!e.compositeRule&&u?e.async?n+=" throw new ValidationError(["+O+"]); ":n+=" validate.errors = ["+O+"]; return false; ":n+=" var err = "+O+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } else { ",b&&(n+="  errors = "+h+"; if (vErrors !== null) { if ("+h+") vErrors.length = "+h+"; else vErrors = null; } "),e.opts.allErrors&&(n+=" } "),n=e.util.cleanUpCode(n)}},"Xi+Q":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if("string"!==typeof e)throw Error("talisman/phonetics/metaphone: the given word is not a string.");for(var t=(0,o.default)(e).toLowerCase().replace(/[^a-z]/g,""),r=0,n=s.length;r<n;r++)t=t.replace(s[r][0],s[r][1]);return t.toUpperCase()};var n,i=r("TKrE"),o=(n=i)&&n.__esModule?n:{default:n};var s=[[/([bcdfhjklmnpqrstvwxyz])\1+/g,"$1"],[/^ae/g,"E"],[/^[gkp]n/g,"N"],[/^wr/g,"R"],[/^x/g,"S"],[/^wh/g,"W"],[/mb$/g,"M"],[/(?!^)sch/g,"SK"],[/th/g,"0"],[/t?ch|sh/g,"X"],[/c(?=ia)/g,"X"],[/[st](?=i[ao])/g,"X"],[/s?c(?=[iey])/g,"S"],[/[cq]/g,"K"],[/dg(?=[iey])/g,"J"],[/d/g,"T"],[/g(?=h[^aeiou])/g,""],[/gn(ed)?/g,"N"],[/([^g]|^)g(?=[iey])/g,"$1J"],[/g+/g,"K"],[/ph/g,"F"],[/([aeiou])h(?=\b|[^aeiou])/g,"$1"],[/[wy](?![aeiou])/g,""],[/z/g,"S"],[/v/g,"F"],[/(?!^)[aeiou]+/g,""]];e.exports=t.default},"Xys+":function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r("3/+R")),n(r("8Gqj")),n(r("Gtft")),n(r("B4fJ"))},Y2Yi:function(e,t,r){"use strict";function n(e){return"undefined"===typeof e||null===e}e.exports.isNothing=n,e.exports.isObject=function(e){return"object"===typeof e&&null!==e},e.exports.toArray=function(e){return Array.isArray(e)?e:n(e)?[]:[e]},e.exports.repeat=function(e,t){var r,n="";for(r=0;r<t;r+=1)n+=e;return n},e.exports.isNegativeZero=function(e){return 0===e&&Number.NEGATIVE_INFINITY===1/e},e.exports.extend=function(e,t){var r,n,i,o;if(t)for(r=0,n=(o=Object.keys(t)).length;r<n;r+=1)e[i=o[r]]=t[i];return e}},Y3YA:function(e,t,r){"use strict";e.exports={$ref:r("bvhh"),allOf:r("6gcW"),anyOf:r("YPXT"),$comment:r("XD0j"),const:r("AwJw"),contains:r("XPXQ"),dependencies:r("uSCx"),enum:r("6MIY"),format:r("AK1u"),if:r("3ZNU"),items:r("eY4P"),maximum:r("v43d"),minimum:r("v43d"),maxItems:r("2jsQ"),minItems:r("2jsQ"),maxLength:r("mQYA"),minLength:r("mQYA"),maxProperties:r("d+r/"),minProperties:r("d+r/"),multipleOf:r("qTHO"),not:r("APWh"),oneOf:r("TbEC"),pattern:r("cUtX"),properties:r("vVvC"),propertyNames:r("bWPq"),required:r("t+aO"),uniqueItems:r("0w4r"),validate:r("1QhW")}},YPXT:function(e,t,r){"use strict";e.exports=function(e,t,r){var n=" ",i=e.level,o=e.dataLevel,s=e.schema[t],a=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,l="data"+(o||""),p="valid"+i,h="errs__"+i,d=e.util.copy(e),f="";d.level++;var m="valid"+d.level;if(s.every((function(t){return e.opts.strictKeywords?"object"==typeof t&&Object.keys(t).length>0:e.util.schemaHasRules(t,e.RULES.all)}))){var v=d.baseId;n+=" var "+h+" = errors; var "+p+" = false;  ";var g=e.compositeRule;e.compositeRule=d.compositeRule=!0;var y=s;if(y)for(var b,S=-1,w=y.length-1;S<w;)b=y[S+=1],d.schema=b,d.schemaPath=a+"["+S+"]",d.errSchemaPath=c+"/"+S,n+="  "+e.validate(d)+" ",d.baseId=v,n+=" "+p+" = "+p+" || "+m+"; if (!"+p+") { ",f+="}";e.compositeRule=d.compositeRule=g,n+=" "+f+" if (!"+p+") {   var err =   ",!1!==e.createErrors?(n+=" { keyword: 'anyOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: {} ",!1!==e.opts.messages&&(n+=" , message: 'should match some schema in anyOf' "),e.opts.verbose&&(n+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&u&&(e.async?n+=" throw new ValidationError(vErrors); ":n+=" validate.errors = vErrors; return false; "),n+=" } else {  errors = "+h+"; if (vErrors !== null) { if ("+h+") vErrors.length = "+h+"; else vErrors = null; } ",e.opts.allErrors&&(n+=" } "),n=e.util.cleanUpCode(n)}else u&&(n+=" if (true) { ");return n}},YSVl:function(e,t,r){var n=r("EhIR"),i=r("uDiL"),o=r("pJ6O"),s=r("yuCN"),a=r("euyF"),c=r("ie1u"),u=r("pJ3+");u.alea=n,u.xor128=i,u.xorwow=o,u.xorshift7=s,u.xor4096=a,u.tychei=c,e.exports=u},YonC:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));const n=()=>(()=>{let e=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const r=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?r:3&r|8).toString(16)})})().replace(new RegExp("-","g"),"").toUpperCase()},YuTi:function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},YyFA:function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r("2Ezu")),n(r("tAAn")),n(r("aWC4"))},"Z+tb":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("SPYI");t.TensorEntityBuilder=class{constructor(e){this.pid=void 0,this.dimensionIdToAttribute=new Map,this.info=e}hasPID(){return void 0!==this.pid}setPID(e){if(void 0===this.pid)return this.pid=e,!0;{const t=`attempting to overwrite entity ${this.pid} with ${e}`;throw TypeError(t)}}addAttribute(e){const t=this.info.getAttributeCoordinates(e);return!this.dimensionIdToAttribute.has(t.dimension.did)&&(this.dimensionIdToAttribute.set(t.dimension.did,e),!0)}setAttribute(e){const t=this.info.getAttributeCoordinates(e);this.dimensionIdToAttribute.set(t.dimension.did,e)}getKey(e){if(void 0===this.pid)throw TypeError("no pid set");return this.info.getKey(this.pid,this.dimensionIdToAttribute,e)}*getUnusedAttributes(){if(void 0===this.pid)for(const[e,t]of this.dimensionIdToAttribute.entries())yield t;else{const e=this.info.getTensorForEntity(this.pid);for(const[t,r]of this.dimensionIdToAttribute.entries())n.AttributeInfo.hasDimension(e,t)||(yield r)}}}},Z0cm:function(e,t){var r=Array.isArray;e.exports=r},Z3Ei:function(e,t,r){"use strict";var n=r("3lC6");e.exports=new n({include:[r("RSjF")],implicit:[r("4M5b"),r("spQ0")],explicit:[r("jO2K"),r("8+mo"),r("DfW2"),r("pzZA")]})},Z87L:function(e){e.exports=JSON.parse('{"0":"\ufffd","128":"\u20ac","130":"\u201a","131":"\u0192","132":"\u201e","133":"\u2026","134":"\u2020","135":"\u2021","136":"\u02c6","137":"\u2030","138":"\u0160","139":"\u2039","140":"\u0152","142":"\u017d","145":"\u2018","146":"\u2019","147":"\u201c","148":"\u201d","149":"\u2022","150":"\u2013","151":"\u2014","152":"\u02dc","153":"\u2122","154":"\u0161","155":"\u203a","156":"\u0153","158":"\u017e","159":"\u0178"}')},ZBqM:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mutualExclusionTensorFactory=(e,t)=>{const r={};for(const n of e.rules)r[n.partialKey]=e=>{const r=Number(e.split(":")[0]),i=t.get(r);if(i){const e=i.cid,t=n.exclusionZones[e];if(t&&t.indexOf(r)>-1)return e}return-1};return r}},ZFoM:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r("mFeN"))},ZJXm:function(e,t,r){"use strict";var n=r("TjP8").openCloseTag;e.exports=function(e,t,r){var c,u,l,p,h,d,f,m=this.options.blocks,v=t.length,g=0,y=[[/^<(script|pre|style)(?=(\s|>|$))/i,/<\/(script|pre|style)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Za-z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+m.join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(n.source+"\\s*$"),/^$/,!1]];for(;g<v&&((p=t.charAt(g))===i||p===o);)g++;if(t.charAt(g)!==a)return;c=-1===(c=t.indexOf(s,g+1))?v:c,u=t.slice(g,c),l=-1,h=y.length;for(;++l<h;)if(y[l][0].test(u)){d=y[l];break}if(!d)return;if(r)return d[2];if(g=c,!d[1].test(u))for(;g<v;){if(c=-1===(c=t.indexOf(s,g+1))?v:c,u=t.slice(g+1,c),d[1].test(u)){u&&(g=c);break}g=c}return f=t.slice(0,g),e(f)({type:"html",value:f})};var i="\t",o=" ",s="\n",a="<"},ZONP:function(e,t,r){"use strict";e.exports=function(e){var t="string"===typeof e?e.charCodeAt(0):e;return t>=48&&t<=57}},ZR4k:function(e,t,r){"use strict";var n=r("HUeH");e.exports=n},ZWk2:function(e,t,r){"use strict";var n=r("m2n9"),i=r("Z87L"),o=r("ZONP"),s=r("fjrl"),a=r("J5yW"),c=r("WtKE");e.exports=function(e,t){var r,o,s={};t||(t={});for(o in h)r=t[o],s[o]=null===r||void 0===r?h[o]:r;(s.position.indent||s.position.start)&&(s.indent=s.position.indent||[],s.position=s.position.start);return function(e,t){var r,o,s,h,z,q,L,W,U,$,K,H,G,V,Y,Q,Z,J,X,ee=t.additional,te=t.nonTerminated,re=t.text,ne=t.reference,ie=t.warning,oe=t.textContext,se=t.referenceContext,ae=t.warningContext,ce=t.position,ue=t.indent||[],le=e.length,pe=0,he=-1,de=ce.column||1,fe=ce.line||1,me="",ve=[];"string"===typeof ee&&(ee=ee.charCodeAt(0));Q=ye(),W=ie?function(e,t){var r=ye();r.column+=t,r.offset+=t,ie.call(ae,j[e],r,e)}:p,pe--,le++;for(;++pe<le;)if(z===f&&(de=ue[he]||1),(z=e.charCodeAt(pe))===g){if((L=e.charCodeAt(pe+1))===d||L===f||L===m||L===v||L===g||L===b||L!==L||ee&&L===ee){me+=l(z),de++;continue}for(H=G=pe+1,X=G,L===w?(X=++H,(L=e.charCodeAt(X))===k||L===E?(V=C,X=++H):V=P):V=x,r="",K="",h="",Y=R[V],X--;++X<le&&(L=e.charCodeAt(X),Y(L));)h+=l(L),V===x&&u.call(n,h)&&(r=h,K=n[h]);(s=e.charCodeAt(X)===y)&&(X++,(o=V===x&&c(h))&&(r=h,K=o)),J=1+X-G,(s||te)&&(h?V===x?(s&&!K?W(N,1):(r!==h&&(X=H+r.length,J=1+X-H,s=!1),s||(U=r?M:I,t.attribute?(L=e.charCodeAt(X))===S?(W(U,J),K=null):a(L)?K=null:W(U,J):W(U,J))),q=K):(s||W(A,J),q=parseInt(h,T[V]),(ge=q)>=55296&&ge<=57343||ge>1114111?(W(F,J),q=l(O)):q in i?(W(D,J),q=i[q]):($="",B(q)&&W(D,J),q>65535&&($+=l((q-=65536)>>>10|55296),q=56320|1023&q),q=$+l(q))):V!==x&&W(_,J)),q?(be(),Q=ye(),pe=X-1,de+=X-G+1,ve.push(q),(Z=ye()).offset++,ne&&ne.call(se,q,{start:Q,end:Z},e.slice(G-1,X)),Q=Z):(h=e.slice(G-1,X),me+=h,de+=h.length,pe=X-1)}else 10===z&&(fe++,he++,de=0),z===z?(me+=l(z),de++):be();var ge;return ve.join("");function ye(){return{line:fe,column:de,offset:pe+(ce.offset||0)}}function be(){me&&(ve.push(me),re&&re.call(oe,me,{start:Q,end:ye()}),me="")}}(e,s)};var u={}.hasOwnProperty,l=String.fromCharCode,p=Function.prototype,h={warning:null,reference:null,text:null,warningContext:null,referenceContext:null,textContext:null,position:{},additional:null,attribute:!1,nonTerminated:!0},d=9,f=10,m=12,v=32,g=38,y=59,b=60,S=61,w=35,k=88,E=120,O=65533,x="named",C="hexadecimal",P="decimal",T={};T[C]=16,T[P]=10;var R={};R[x]=a,R[P]=o,R[C]=s;var M=1,A=2,I=3,_=4,N=5,D=6,F=7,j={};function B(e){return e>=1&&e<=8||11===e||e>=13&&e<=31||e>=127&&e<=159||e>=64976&&e<=65007||65535===(65535&e)||65534===(65535&e)}j[M]="Named character references must be terminated by a semicolon",j[A]="Numeric character references must be terminated by a semicolon",j[I]="Named character references cannot be empty",j[_]="Numeric character references cannot be empty",j[N]="Named character references must be known",j[D]="Numeric character references cannot be disallowed",j[F]="Numeric character references cannot be outside the permissible Unicode range"},Zasy:function(e,t,r){"use strict";function n(e){if("string"===typeof e)return function(e){return function(t){return Boolean(t&&t.type===e)}}(e);if(null===e||void 0===e)return s;if("object"===typeof e)return("length"in e?o:i)(e);if("function"===typeof e)return e;throw new Error("Expected function, string, or object as test")}function i(e){return function(t){var r;for(r in e)if(t[r]!==e[r])return!1;return!0}}function o(e){var t=function(e){for(var t=[],r=e.length,i=-1;++i<r;)t[i]=n(e[i]);return t}(e),r=t.length;return function(){var e=-1;for(;++e<r;)if(t[e].apply(this,arguments))return!0;return!1}}function s(){return!0}e.exports=n},ZkSf:function(e,t,r){"use strict";e.exports=a;var n=r("nc5S"),i=n.CONTINUE,o=n.SKIP,s=n.EXIT;function a(e,t,r,i){"function"===typeof t&&"function"!==typeof r&&(i=r,r=t,t=null),n(e,t,(function(e,t){var n=t[t.length-1],i=n?n.children.indexOf(e):null;return r(e,i,n)}),i)}a.CONTINUE=i,a.SKIP=o,a.EXIT=s},Zpkj:function(e,t,r){"use strict";var n=r("RsFJ"),i=r("RjOF"),o=r("my8H");e.exports=function(e,t){var r,u,l,p,h=e.split(a),d=h.length+1,f=1/0,m=[];h.unshift(i(s,t)+"!");for(;d--;)if(u=o(h[d]),m[d]=u.stops,0!==n(h[d]).length){if(!u.indent){f=1/0;break}u.indent>0&&u.indent<f&&(f=u.indent)}if(f!==1/0)for(d=h.length;d--;){for(l=m[d],r=f;r&&!(r in l);)r--;p=0!==n(h[d]).length&&f&&r!==f?c:"",h[d]=p+h[d].slice(r in l?l[r]+1:0)}return h.shift(),h.join(a)};var s=" ",a="\n",c="\t"},ZsDt:function(e,t,r){"use strict";var n=["multipleOf","maximum","exclusiveMaximum","minimum","exclusiveMinimum","maxLength","minLength","pattern","additionalItems","maxItems","minItems","uniqueItems","maxProperties","minProperties","required","additionalProperties","enum","format","const"];e.exports=function(e,t){for(var r=0;r<t.length;r++){e=JSON.parse(JSON.stringify(e));var i,o=t[r].split("/"),s=e;for(i=1;i<o.length;i++)s=s[o[i]];for(i=0;i<n.length;i++){var a=n[i],c=s[a];c&&(s[a]={anyOf:[c,{$ref:"https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/data.json#"}]})}}return e}},ZsRi:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("94Iq"),i=r("nNxe");function o(e,r){return{type:t.OPTION_RECIPE,rid:e,name:r}}t.PRODUCT_RECIPE=Symbol.for("PRODUCT_RECIPE"),t.OPTION_RECIPE=Symbol.for("OPTION_RECIPE"),t.generateRecipes=function*(e){const r=e.cookbook;for(const o of r.productRecipes()){const e=(s=o.rid,a=o.name,{type:t.PRODUCT_RECIPE,rid:s,name:a});for(const t of o.aliases){const r=i.matcherFromExpression(t),o=i.patternFromExpression(t);for(const t of n.aliasesFromPattern(o))yield{token:e,text:t,matcher:r}}}var s,a;for(const t of r.optionRecipes()){const e=o(t.rid,t.name);for(const r of t.aliases){const t=i.matcherFromExpression(r),o=i.patternFromExpression(r);for(const r of n.aliasesFromPattern(o))yield{token:e,text:r,matcher:t}}}}},"a+xf":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.PassFailRates=class{constructor(){this.suiteToPassFail=new Map,this.overall={passed:0,failed:0}}record(e,t){for(const r of e.split(/\s+/))if(r){let e=this.suiteToPassFail.get(r);e||(e={passed:0,failed:0},this.suiteToPassFail.set(r,e)),t?e.passed++:e.failed++}t?this.overall.passed++:this.overall.failed++}format(){const e=[],t=[...this.suiteToPassFail.keys()].sort();for(const o of t){const{passed:t,failed:r}=this.suiteToPassFail.get(o);e.push(`${o}: ${t}/${t+r}`)}e.push("");const{passed:r,failed:n}=this.overall,i=(r/(r+n)).toFixed(3);return e.push(`Total failed cases: ${n}`),e.push(`Overall pass rate: ${r}/${r+n} (${i})`),e}}},aCXt:function(e,t,r){"use strict";var n=r("/qNp");function i(){}e.exports=s,i.prototype=Error.prototype,s.prototype=new i;var o=s.prototype;function s(e,t,r){var i,o,s;"string"===typeof t&&(r=t,t=null),i=function(e){var t,r=[null,null];"string"===typeof e&&(-1===(t=e.indexOf(":"))?r[1]=e:(r[0]=e.slice(0,t),r[1]=e.slice(t+1)));return r}(r),o=n(t)||"1:1",s={start:{line:null,column:null},end:{line:null,column:null}},t&&t.position&&(t=t.position),t&&(t.start?(s=t,t=t.start):s.start=t),e.stack&&(this.stack=e.stack,e=e.message),this.message=e,this.name=o,this.reason=e,this.line=t?t.line:null,this.column=t?t.column:null,this.location=s,this.source=i[0],this.ruleId=i[1]}o.file="",o.name="",o.reason="",o.message="",o.stack="",o.fatal=null,o.column=null,o.line=null},aTp6:function(e,t,r){"use strict";e.exports=function(e,t){var r=e.indexOf("\n",t);for(;r>t&&" "===e.charAt(r-1);)r--;return r}},aULz:function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r("2iv5")),n(r("nlTJ"))},aUsF:function(e,t,r){"use strict";e.exports=function e(t,r){if(t===r)return!0;if(t&&r&&"object"==typeof t&&"object"==typeof r){if(t.constructor!==r.constructor)return!1;var n,i,o;if(Array.isArray(t)){if((n=t.length)!=r.length)return!1;for(i=n;0!==i--;)if(!e(t[i],r[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if((n=(o=Object.keys(t)).length)!==Object.keys(r).length)return!1;for(i=n;0!==i--;)if(!Object.prototype.hasOwnProperty.call(r,o[i]))return!1;for(i=n;0!==i--;){var s=o[i];if(!e(t[s],r[s]))return!1}return!0}return t!==t&&r!==r}},aWC4:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("eDuk"),i=r("NOtv"),o=r("ZR4k"),s=r("GhNO"),a=r("2Ezu"),c=r("tAAn"),u=i("pf:catalogFromYamlString"),l=(new n).compile({$schema:"http://json-schema.org/draft-07/schema#",definitions:{GenericEntity:{properties:{aliases:{items:{type:"string"},type:"array"},cid:{type:"number"},defaultKey:{type:"string"},tensor:{type:"number"},name:{type:"string"},pid:{type:"number"}},required:["aliases","cid","defaultKey","tensor","name","pid"],type:"object"},SpecificEntity:{properties:{key:{type:"string"},name:{type:"string"},sku:{type:"number"}},required:["key","name","sku"],type:"object"}},properties:{genericItems:{items:{$ref:"#/definitions/GenericEntity"},type:"array"},specificItems:{items:{$ref:"#/definitions/SpecificEntity"},type:"array"}},required:["genericItems","specificItems"],type:"object"});t.catalogFromYamlString=function(e,t){const r=o.safeLoad(e);if(!l(r)){const e="catalogFromYamlString: yaml data does not conform to schema.";throw u(e),u(l.errors),new s.YAMLValidationError(e,[])}const n=r.genericItems.map(e=>c.genericEntityFactory(e,t)),i=r.specificItems.map(e=>c.specificEntityFactory(e,t));return a.Catalog.fromEntities(n.values(),i.values())}},afWh:function(e,t,r){"use strict";e.exports=function(e,t){return e.indexOf("<",t)}},aglY:function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r("oOnu")),n(r("vQy6")),n(r("HAeW")),n(r("nNxe")),n(r("+nmg")),n(r("lssG")),n(r("4tCg")),n(r("ZFoM")),n(r("QzWj")),n(r("zAoy"))},ahYF:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return i})),r.d(t,"c",(function(){return o}));class n extends Error{constructor(e){super(e),this.name="ArgumentNull",this.message=e}}class i extends Error{constructor(e){super(e),this.name="InvalidOperation",this.message=e}}class o extends Error{constructor(e,t){super(t),this.name=e+"ObjectDisposed",this.message=t}}},"an+f":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("NOtv");t.Logger=class{constructor(e,t=!1){this.logger=void 0,n("tf-interactive").enabled||t||(this.logger=n(e))}log(e){this.logger?this.logger(e):console.log(e)}}},au7Y:function(e,t,r){"use strict";var n=this&&this.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r};function i(e,t){const r=[];for(const n of e.tests)"id"in n?t(n)&&r.push(n):r.push(i(n,t));return Object.assign(Object.assign({},e),{tests:r})}function o(e,t){const r=[];for(const n of e.tests)"id"in n?r.push(t(n)):r.push(o(n,t));return e.comment?Object.assign(Object.assign({},e),{comment:e.comment,tests:r}):Object.assign(Object.assign({},e),{tests:r})}Object.defineProperty(t,"__esModule",{value:!0}),t.convertSuite=function(e,t,r,n){return o(i(e,t),e=>{const t=e.steps.map(e=>{const t=r(e),i=t.turns.map(n);return Object.assign(Object.assign({},t),{turns:i})});return Object.assign(Object.assign({},e),{steps:t})})},t.filterSuite=i,t.mapSuite=o,t.mapSuiteAsync=async function e(t,r){const n=[];for(const i of t.tests)"id"in i?n.push(await r(i)):n.push(await e(i,r));return t.comment?{comment:t.comment,tests:n}:{tests:n}},t.enumerateTestCases=function*e(t){for(const r of t.tests)"id"in r?yield r:yield*e(r)},t.allCases=function(e){return!0},t.removeCart=function(e){const{cart:t}=e;return n(e,["cart"])},t.keepCart=function(e){return e},t.removeTranscription=function(e){const{transcription:t}=e;return n(e,["transcription"])},t.keepTranscription=function(e){return e},t.removeAudio=function(e){const{audio:t}=e;return n(e,["audio"])},t.keepAudio=function(e){return e},t.suitePredicateFilter=function(e){return t=>e(t.suites.split(/\s+/))}},bCCX:function(e,t,r){"use strict";(function(e,n){var i,o=r("SLVX");i="undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof e?e:n;var s=Object(o.a)(i);t.a=s}).call(this,r("yLpj"),r("3UD+")(e))},bWPq:function(e,t,r){"use strict";e.exports=function(e,t,r){var n=" ",i=e.level,o=e.dataLevel,s=e.schema[t],a=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,l="data"+(o||""),p="errs__"+i,h=e.util.copy(e);h.level++;var d="valid"+h.level;if(n+="var "+p+" = errors;",e.opts.strictKeywords?"object"==typeof s&&Object.keys(s).length>0:e.util.schemaHasRules(s,e.RULES.all)){h.schema=s,h.schemaPath=a,h.errSchemaPath=c;var f="key"+i,m="idx"+i,v="i"+i,g="' + "+f+" + '",y="data"+(h.dataLevel=e.dataLevel+1),b="dataProperties"+i,S=e.opts.ownProperties,w=e.baseId;S&&(n+=" var "+b+" = undefined; "),n+=S?" "+b+" = "+b+" || Object.keys("+l+"); for (var "+m+"=0; "+m+"<"+b+".length; "+m+"++) { var "+f+" = "+b+"["+m+"]; ":" for (var "+f+" in "+l+") { ",n+=" var startErrs"+i+" = errors; ";var k=f,E=e.compositeRule;e.compositeRule=h.compositeRule=!0;var O=e.validate(h);h.baseId=w,e.util.varOccurences(O,y)<2?n+=" "+e.util.varReplace(O,y,k)+" ":n+=" var "+y+" = "+k+"; "+O+" ",e.compositeRule=h.compositeRule=E,n+=" if (!"+d+") { for (var "+v+"=startErrs"+i+"; "+v+"<errors; "+v+"++) { vErrors["+v+"].propertyName = "+f+"; }   var err =   ",!1!==e.createErrors?(n+=" { keyword: 'propertyNames' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { propertyName: '"+g+"' } ",!1!==e.opts.messages&&(n+=" , message: 'property name \\'"+g+"\\' is invalid' "),e.opts.verbose&&(n+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&u&&(e.async?n+=" throw new ValidationError(vErrors); ":n+=" validate.errors = vErrors; return false; "),u&&(n+=" break; "),n+=" } }"}return u&&(n+="  if ("+p+" == errors) {"),n=e.util.cleanUpCode(n)}},bY2E:function(e,t,r){"use strict";var n=r("RsFJ"),i=r("obXZ"),o=r("IPAr"),s=r("CRs9");e.exports=u,u.locator=s;var a="*",c="_";function u(e,t,r){var s,u,l,p,h,d,f,m=0,v=t.charAt(m);if((v===a||v===c)&&(u=this.options.pedantic,h=v,l=v,d=t.length,m++,p="",v="",!u||!o(t.charAt(m))))for(;m<d;){if(f=v,(v=t.charAt(m))===l&&(!u||!o(f))){if((v=t.charAt(++m))!==l){if(!n(p)||f===l)return;if(!u&&l===c&&i(v)){p+=l;continue}return!!r||((s=e.now()).column++,s.offset++,e(h+p+l)({type:"emphasis",children:this.tokenizeInline(p,s)}))}p+=l}u||"\\"!==v||(p+=v,v=t.charAt(++m)),p+=v,m++}}},bnbC:function(e){e.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","$id":"http://json-schema.org/draft-07/schema#","title":"Core schema meta-schema","definitions":{"schemaArray":{"type":"array","minItems":1,"items":{"$ref":"#"}},"nonNegativeInteger":{"type":"integer","minimum":0},"nonNegativeIntegerDefault0":{"allOf":[{"$ref":"#/definitions/nonNegativeInteger"},{"default":0}]},"simpleTypes":{"enum":["array","boolean","integer","null","number","object","string"]},"stringArray":{"type":"array","items":{"type":"string"},"uniqueItems":true,"default":[]}},"type":["object","boolean"],"properties":{"$id":{"type":"string","format":"uri-reference"},"$schema":{"type":"string","format":"uri"},"$ref":{"type":"string","format":"uri-reference"},"$comment":{"type":"string"},"title":{"type":"string"},"description":{"type":"string"},"default":true,"readOnly":{"type":"boolean","default":false},"examples":{"type":"array","items":true},"multipleOf":{"type":"number","exclusiveMinimum":0},"maximum":{"type":"number"},"exclusiveMaximum":{"type":"number"},"minimum":{"type":"number"},"exclusiveMinimum":{"type":"number"},"maxLength":{"$ref":"#/definitions/nonNegativeInteger"},"minLength":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"pattern":{"type":"string","format":"regex"},"additionalItems":{"$ref":"#"},"items":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/schemaArray"}],"default":true},"maxItems":{"$ref":"#/definitions/nonNegativeInteger"},"minItems":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"uniqueItems":{"type":"boolean","default":false},"contains":{"$ref":"#"},"maxProperties":{"$ref":"#/definitions/nonNegativeInteger"},"minProperties":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"required":{"$ref":"#/definitions/stringArray"},"additionalProperties":{"$ref":"#"},"definitions":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"properties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"patternProperties":{"type":"object","additionalProperties":{"$ref":"#"},"propertyNames":{"format":"regex"},"default":{}},"dependencies":{"type":"object","additionalProperties":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/stringArray"}]}},"propertyNames":{"$ref":"#"},"const":true,"enum":{"type":"array","items":true,"minItems":1,"uniqueItems":true},"type":{"anyOf":[{"$ref":"#/definitions/simpleTypes"},{"type":"array","items":{"$ref":"#/definitions/simpleTypes"},"minItems":1,"uniqueItems":true}]},"format":{"type":"string"},"contentMediaType":{"type":"string"},"contentEncoding":{"type":"string"},"if":{"$ref":"#"},"then":{"$ref":"#"},"else":{"$ref":"#"},"allOf":{"$ref":"#/definitions/schemaArray"},"anyOf":{"$ref":"#/definitions/schemaArray"},"oneOf":{"$ref":"#/definitions/schemaArray"},"not":{"$ref":"#"}},"default":true}')},btwx:function(e,t,r){"use strict";function n(e,t,r){return`${e}: ${t}/${r} (${(t/r*100).toFixed(1)}%)`}Object.defineProperty(t,"__esModule",{value:!0}),t.aggregateMeasures=function(e,t){let r=0,n=0,i=0,o=0,s=0;for(const a of e){++r;for(const e of a.steps){const t=e.measures;++n,t.perfect&&++i,t.complete&&++o,t.repairs&&(s+=t.repairs.cost)}}return{notes:t,totalTests:r,totalSteps:n,perfectSteps:i,completeSteps:o,totalRepairs:s}},t.formatAggregateMeasures=function(e,t){e.push(`Repair algorithm: ${t.notes}`),e.push(`Total test cases: ${t.totalTests}`),e.push(`Total steps: ${t.totalSteps}`),e.push(n("Perfect carts",t.perfectSteps,t.totalSteps)),e.push(n("Complete carts",t.completeSteps,t.totalSteps)),e.push(n("Repaired carts",t.totalSteps-t.completeSteps,t.totalSteps)),e.push(`Total repairs: ${t.totalRepairs}`),e.push(`Repairs/Step: ${(t.totalRepairs/t.totalSteps).toFixed(2)}`)}},bvhh:function(e,t,r){"use strict";e.exports=function(e,t,r){var n,i,o=" ",s=e.level,a=e.dataLevel,c=e.schema[t],u=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,p="data"+(a||""),h="valid"+s;if("#"==c||"#/"==c)e.isRoot?(n=e.async,i="validate"):(n=!0===e.root.schema.$async,i="root.refVal[0]");else{var d=e.resolveRef(e.baseId,c,e.isRoot);if(void 0===d){var f=e.MissingRefError.message(e.baseId,c);if("fail"==e.opts.missingRefs){e.logger.error(f),(y=y||[]).push(o),o="",!1!==e.createErrors?(o+=" { keyword: '$ref' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { ref: '"+e.util.escapeQuotes(c)+"' } ",!1!==e.opts.messages&&(o+=" , message: 'can\\'t resolve reference "+e.util.escapeQuotes(c)+"' "),e.opts.verbose&&(o+=" , schema: "+e.util.toQuotedString(c)+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+p+" "),o+=" } "):o+=" {} ";var m=o;o=y.pop(),!e.compositeRule&&l?e.async?o+=" throw new ValidationError(["+m+"]); ":o+=" validate.errors = ["+m+"]; return false; ":o+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",l&&(o+=" if (false) { ")}else{if("ignore"!=e.opts.missingRefs)throw new e.MissingRefError(e.baseId,c,f);e.logger.warn(f),l&&(o+=" if (true) { ")}}else if(d.inline){var v=e.util.copy(e);v.level++;var g="valid"+v.level;v.schema=d.schema,v.schemaPath="",v.errSchemaPath=c,o+=" "+e.validate(v).replace(/validate\.schema/g,d.code)+" ",l&&(o+=" if ("+g+") { ")}else n=!0===d.$async||e.async&&!1!==d.$async,i=d.code}if(i){var y;(y=y||[]).push(o),o="",e.opts.passContext?o+=" "+i+".call(this, ":o+=" "+i+"( ",o+=" "+p+", (dataPath || '')",'""'!=e.errorPath&&(o+=" + "+e.errorPath);var b=o+=" , "+(a?"data"+(a-1||""):"parentData")+" , "+(a?e.dataPathArr[a]:"parentDataProperty")+", rootData)  ";if(o=y.pop(),n){if(!e.async)throw new Error("async schema referenced by sync schema");l&&(o+=" var "+h+"; "),o+=" try { await "+b+"; ",l&&(o+=" "+h+" = true; "),o+=" } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; ",l&&(o+=" "+h+" = false; "),o+=" } ",l&&(o+=" if ("+h+") { ")}else o+=" if (!"+b+") { if (vErrors === null) vErrors = "+i+".errors; else vErrors = vErrors.concat("+i+".errors); errors = vErrors.length; } ",l&&(o+=" else { ")}return o}},bwfL:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("FG9h"),i=r("nNxe"),o=r("w9WE");t.AttributeGenerator=class{constructor(e,t){this.attributes=new Map;for(const r of e.dimensions()){const e=t.get(r.name)||o.EITHER;for(const t of r.attributes){const r=[];for(const s of t.aliases){const a=i.patternFromExpression(s);for(const i of n.generateAliases(a)){const n=t.hidden?"":i;r.push(new o.AttributeX(t.aid,n,e))}}this.attributes.set(t.aid,r)}}}get(e,t){const r=[];for(const n of e){const e=this.attributes.get(n);e&&e.length>0&&r.push(t.randomChoice(e))}return r}}},c61r:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("GhNO");t.logicalCartFromCart=function(e,t){return{items:e.items.map(e=>(function e(t,r){const n=r.getSpecific(t.key);return{quantity:t.quantity,name:n.name,sku:n.sku.toString(),children:t.children.map(t=>e(t,r))}})(e,t))}},t.cartFromlogicalCart=function(e,t){return{items:e.items.map(e=>(function e(t,r){const n=r.getSpecificFromSKU(t.sku);return{uid:i.next(),quantity:t.quantity,key:n.key,children:t.children.map(t=>e(t,r))}})(e,t))}};const i=new n.IdGenerator},cBNe:function(e,t,r){"use strict";var n=r("ZkSf");function i(e){delete e.position}function o(e){e.position=void 0}e.exports=function(e,t){return n(e,t?i:o),e}},cNwj:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r("NNgZ"))},cUtX:function(e,t,r){"use strict";e.exports=function(e,t,r){var n,i=" ",o=e.level,s=e.dataLevel,a=e.schema[t],c=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,p="data"+(s||""),h=e.opts.$data&&a&&a.$data;h?(i+=" var schema"+o+" = "+e.util.getData(a.$data,s,e.dataPathArr)+"; ",n="schema"+o):n=a,i+="if ( ",h&&(i+=" ("+n+" !== undefined && typeof "+n+" != 'string') || "),i+=" !"+(h?"(new RegExp("+n+"))":e.usePattern(a))+".test("+p+") ) {   ";var d=d||[];d.push(i),i="",!1!==e.createErrors?(i+=" { keyword: 'pattern' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { pattern:  ",i+=h?""+n:""+e.util.toQuotedString(a),i+="  } ",!1!==e.opts.messages&&(i+=" , message: 'should match pattern \"",i+=h?"' + "+n+" + '":""+e.util.escapeQuotes(a),i+="\"' "),e.opts.verbose&&(i+=" , schema:  ",i+=h?"validate.schema"+c:""+e.util.toQuotedString(a),i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+p+" "),i+=" } "):i+=" {} ";var f=i;return i=d.pop(),!e.compositeRule&&l?e.async?i+=" throw new ValidationError(["+f+"]); ":i+=" validate.errors = ["+f+"]; return false; ":i+=" var err = "+f+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",l&&(i+=" else { "),i}},cVWj:function(e,t,r){"use strict";var n=r("ZkSf"),i="virtualHtml",o=/^<(area|base|br|col|embed|hr|img|input|keygen|link|meta|param|source|track|wbr)\s*\/?>$/i,s=/^<(\/?)([a-z]+)\s*>$/;e.exports=function(e){var t,r;return n(e,"html",(function(e,n,a){r!==a&&(t=[],r=a);var c=function(e){var t=e.value.match(o);return!!t&&t[1]}(e);if(c)return a.children.splice(n,1,{type:i,tag:c,position:e.position}),!0;var u=function(e,t){var r=e.value.match(s);return!!r&&{tag:r[2],opening:!r[1],node:e}}(e);if(!u)return!0;var l=function(e,t){var r=e.length;for(;r--;)if(e[r].tag===t)return e.splice(r,1)[0];return!1}(t,u.tag);return l?a.children.splice(n,0,function(e,t,r){var n=r.children.indexOf(e.node),o=r.children.indexOf(t.node),s=r.children.splice(n,o-n+1).slice(1,-1);return{type:i,children:s,tag:e.tag,position:{start:e.node.position.start,end:t.node.position.end,indent:[]}}}(u,l,a)):u.opening||t.push(u),!0}),!0),e}},citZ:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});const n=r("94Iq"),i=r("FG9h"),o=r("nNxe"),s=r("9pGh"),a=r("U+nO"),c=r("9hxa"),u=r("EluT"),l=r("RO8d");function p(e,t,r){const n=e.lexer.createGraph(r),s=i.filterGraph(n,.35);let a=null;for(const c of i.maximalTokenizations(s.edgeLists)){e.debugMode&&(console.log(" "),console.log(c.map(o.tokenToString).join("")));const r=d(e,c);e.debugMode&&console.log(r.map(o.tokenToString).join(""));const n=h(e,t,r,s);n.missed=c.length-n.score,a?m(n,a)&&(e.debugMode&&console.log("Found better interpretation"),a=n):(e.debugMode&&console.log("Kept first interpretation"),a=n)}return a&&(t=a.action(t)),t}function h(e,t,r,n){const i=new l.TokenSequence(r);let a=0,p=0,h=!1;for(;!i.atEOS();)if(i.startsWith([o.PROLOGUE,o.ADD_TO_ORDER])||i.startsWith([o.ADD_TO_ORDER])||h&&i.startsWith([o.WEAK_ADD])){const r=s.processAdd(e,t,n,i);a+=r.score,p+=r.tokenCount2,t=r.action(t),h=!0}else if(i.startsWith([o.PROLOGUE,o.REMOVE_ITEM])||i.startsWith([o.REMOVE_ITEM])){const r=u.processRemove(e,t,i,n);a+=r.score,p+=r.tokenCount2,t=r.action(t),h=!0}else if(i.startsWith([o.PROLOGUE,o.MODIFY_ITEM])||i.startsWith([o.MODIFY_ITEM])){const r=c.processModify(e,t,i,n);a+=r.score,p+=r.tokenCount2,t=r.action(t),h=!0}else i.take(1),h=!1;return{score:a,tokenCount2:p,action:e=>t}}function d(e,t){let r=new Array;const n=new Array,o=new l.TokenSequence(t);for(;;)if(o.atEOS()||!e.productTokens.has(o.peek(0).type)){if(r.length>0&&(f(r,n),r=[]),o.atEOS())break;n.push(o.peek(0)),o.take(1)}else{o.peek(0).type===i.UNKNOWNTOKEN&&r.length>0&&r[r.length-1].type===i.UNKNOWNTOKEN?(f(r,n),r=[],n.push(o.peek(0))):r.push(o.peek(0)),o.take(1)}return n}function f(e,t){let r=0,i=0;for(const a of e)a.type===o.ENTITY?++r:a.type!==n.OPTION&&a.type!==o.OPTION_RECIPE&&a.type!==o.ATTRIBUTE||++i;const s=o.createSpan(e);if(0===r&&i>0){const r=Object.assign({type:a.PRODUCT_PARTS_0,tokens:e},s);t.push(r)}else if(1===r){const r=Object.assign({type:a.PRODUCT_PARTS_1,tokens:e},s);t.push(r)}else if(r>1){const r=Object.assign({type:a.PRODUCT_PARTS_N,tokens:e},s);t.push(r)}else for(const n of e)t.push(n)}function m(e,t){const r=e.missed,n=t.missed;return r===n?e.tokenCount2<t.tokenCount2:r<n}t.processRoot=function(e,t,r){return t=p(e,t,r)},t.processRootOld=function(t,r,n){const i=e.hrtime.bigint();r=p(t,r,n);const o=e.hrtime.bigint(),s=Number(o-i);return t.debugMode&&console.log(`Time: ${s/1e6}`),s/1e6>65&&(console.log("<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<"),console.log(`Time: ${s/1e6}ms`),console.log(`  "${n}"`)),r}}).call(this,r("8oxB"))},cjZW:function(e,t,r){"use strict";e.exports=function(e,t,r){var n,i,o=" ",s=e.level,a=e.dataLevel,c=e.schema[t],u=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,p=!e.opts.allErrors,h="data"+(a||""),d="valid"+s,f="errs__"+s,m=e.opts.$data&&c&&c.$data;m?(o+=" var schema"+s+" = "+e.util.getData(c.$data,a,e.dataPathArr)+"; ",i="schema"+s):i=c;var v,g,y,b,S,w="definition"+s,k=this.definition,E="";if(m&&k.$data){S="keywordValidate"+s;var O=k.validateSchema;o+=" var "+w+" = RULES.custom['"+t+"'].definition; var "+S+" = "+w+".validate;"}else{if(!(b=e.useCustomRule(this,c,e.schema,e)))return;i="validate.schema"+u,S=b.code,v=k.compile,g=k.inline,y=k.macro}var x=S+".errors",C="i"+s,P="ruleErr"+s,T=k.async;if(T&&!e.async)throw new Error("async keyword in sync schema");if(g||y||(o+=x+" = null;"),o+="var "+f+" = errors;var "+d+";",m&&k.$data&&(E+="}",o+=" if ("+i+" === undefined) { "+d+" = true; } else { ",O&&(E+="}",o+=" "+d+" = "+w+".validateSchema("+i+"); if ("+d+") { ")),g)k.statements?o+=" "+b.validate+" ":o+=" "+d+" = "+b.validate+"; ";else if(y){var R=e.util.copy(e);E="";R.level++;var M="valid"+R.level;R.schema=b.validate,R.schemaPath="";var A=e.compositeRule;e.compositeRule=R.compositeRule=!0;var I=e.validate(R).replace(/validate\.schema/g,S);e.compositeRule=R.compositeRule=A,o+=" "+I}else{(F=F||[]).push(o),o="",o+="  "+S+".call( ",e.opts.passContext?o+="this":o+="self",v||!1===k.schema?o+=" , "+h+" ":o+=" , "+i+" , "+h+" , validate.schema"+e.schemaPath+" ",o+=" , (dataPath || '')",'""'!=e.errorPath&&(o+=" + "+e.errorPath);var _=a?"data"+(a-1||""):"parentData",N=a?e.dataPathArr[a]:"parentDataProperty",D=o+=" , "+_+" , "+N+" , rootData )  ";o=F.pop(),!1===k.errors?(o+=" "+d+" = ",T&&(o+="await "),o+=D+"; "):o+=T?" var "+(x="customErrors"+s)+" = null; try { "+d+" = await "+D+"; } catch (e) { "+d+" = false; if (e instanceof ValidationError) "+x+" = e.errors; else throw e; } ":" "+x+" = null; "+d+" = "+D+"; "}if(k.modifying&&(o+=" if ("+_+") "+h+" = "+_+"["+N+"];"),o+=""+E,k.valid)p&&(o+=" if (true) { ");else{var F;o+=" if ( ",void 0===k.valid?(o+=" !",o+=y?""+M:""+d):o+=" "+!k.valid+" ",o+=") { ",n=this.keyword,(F=F||[]).push(o),o="",(F=F||[]).push(o),o="",!1!==e.createErrors?(o+=" { keyword: '"+(n||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { keyword: '"+this.keyword+"' } ",!1!==e.opts.messages&&(o+=" , message: 'should pass \""+this.keyword+"\" keyword validation' "),e.opts.verbose&&(o+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),o+=" } "):o+=" {} ";var j=o;o=F.pop(),!e.compositeRule&&p?e.async?o+=" throw new ValidationError(["+j+"]); ":o+=" validate.errors = ["+j+"]; return false; ":o+=" var err = "+j+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";var B=o;o=F.pop(),g?k.errors?"full"!=k.errors&&(o+="  for (var "+C+"="+f+"; "+C+"<errors; "+C+"++) { var "+P+" = vErrors["+C+"]; if ("+P+".dataPath === undefined) "+P+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+P+".schemaPath === undefined) { "+P+'.schemaPath = "'+l+'"; } ',e.opts.verbose&&(o+=" "+P+".schema = "+i+"; "+P+".data = "+h+"; "),o+=" } "):!1===k.errors?o+=" "+B+" ":(o+=" if ("+f+" == errors) { "+B+" } else {  for (var "+C+"="+f+"; "+C+"<errors; "+C+"++) { var "+P+" = vErrors["+C+"]; if ("+P+".dataPath === undefined) "+P+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+P+".schemaPath === undefined) { "+P+'.schemaPath = "'+l+'"; } ',e.opts.verbose&&(o+=" "+P+".schema = "+i+"; "+P+".data = "+h+"; "),o+=" } } "):y?(o+="   var err =   ",!1!==e.createErrors?(o+=" { keyword: '"+(n||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { keyword: '"+this.keyword+"' } ",!1!==e.opts.messages&&(o+=" , message: 'should pass \""+this.keyword+"\" keyword validation' "),e.opts.verbose&&(o+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),o+=" } "):o+=" {} ",o+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&p&&(e.async?o+=" throw new ValidationError(vErrors); ":o+=" validate.errors = vErrors; return false; ")):!1===k.errors?o+=" "+B+" ":(o+=" if (Array.isArray("+x+")) { if (vErrors === null) vErrors = "+x+"; else vErrors = vErrors.concat("+x+"); errors = vErrors.length;  for (var "+C+"="+f+"; "+C+"<errors; "+C+"++) { var "+P+" = vErrors["+C+"]; if ("+P+".dataPath === undefined) "+P+".dataPath = (dataPath || '') + "+e.errorPath+";  "+P+'.schemaPath = "'+l+'";  ',e.opts.verbose&&(o+=" "+P+".schema = "+i+"; "+P+".data = "+h+"; "),o+=" } } else { "+B+" } "),o+=" } ",p&&(o+=" else { ")}return o}},cy9h:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("GhNO");class i{constructor(e,t,r,n){this.nameToEntry=new Map,this.idToEntry=new Map,this.collection=e;for(const i of t){o(this.nameToEntry,i.name);const e=r(i);this.nameToEntry.set(i.name,e),this.idToEntry.set(n(e),e)}}get(e){return this.nameToEntry.get(e)}getById(e){const t=this.idToEntry.get(e);if(!t){const t=`cannot find id=${e} in "${this.collection}"`;throw new n.InvalidParameterError(t)}return t}*values(){yield*this.nameToEntry.values()}}function o(e,t){if(!t.match(/^[A-Za-z][A-Za-z0-9\-_]*$/)){const e="Names must match /^[A-Za-z][A-Za-z0-9-_]*$/";throw new n.ValidationError(e)}if(e.has(t)){const e=`validateName(): Duplicate name "${t}"`;throw new n.ValidationError(e)}}t.Index=i,t.processDimensions=function(e){let t=0,r=0;return new i("dimensions",e,e=>{const n=new i(`${e.name} attributes`,e.attributes,e=>Object.assign(Object.assign({},e),{aid:t++}),e=>e.aid);return{dimension:Object.assign(Object.assign({},e),{did:r++,attributes:[...n.values()]}),index:n}},e=>e.dimension.did)},t.processTensors=function(e,t){let r=0;return new i("tensors",[{name:"none",dimensions:[]},...t],t=>{const i=new Set;for(const r of t.dimensions){const o=e.get(r);if(void 0===o){const e=`Cannot find dimension "${r}" in tensor "${t.name}"`;throw new n.InvalidParameterError(e)}const s=o.dimension;if(i.has(s)){const e=`Duplicate dimension "${s.name}" in tensor "${t.name}"`;throw new n.InvalidParameterError(e)}i.add(s)}return Object.assign(Object.assign({},t),{tid:r++,dimensions:[...i.values()].map(e=>e.did)})},e=>e.tid)}},"d+r/":function(e,t,r){"use strict";e.exports=function(e,t,r){var n,i=" ",o=e.level,s=e.dataLevel,a=e.schema[t],c=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,p="data"+(s||""),h=e.opts.$data&&a&&a.$data;h?(i+=" var schema"+o+" = "+e.util.getData(a.$data,s,e.dataPathArr)+"; ",n="schema"+o):n=a,i+="if ( ",h&&(i+=" ("+n+" !== undefined && typeof "+n+" != 'number') || "),i+=" Object.keys("+p+").length "+("maxProperties"==t?">":"<")+" "+n+") { ";var d=t,f=f||[];f.push(i),i="",!1!==e.createErrors?(i+=" { keyword: '"+(d||"_limitProperties")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { limit: "+n+" } ",!1!==e.opts.messages&&(i+=" , message: 'should NOT have ",i+="maxProperties"==t?"more":"fewer",i+=" than ",i+=h?"' + "+n+" + '":""+a,i+=" properties' "),e.opts.verbose&&(i+=" , schema:  ",i+=h?"validate.schema"+c:""+a,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+p+" "),i+=" } "):i+=" {} ";var m=i;return i=f.pop(),!e.compositeRule&&l?e.async?i+=" throw new ValidationError(["+m+"]); ":i+=" validate.errors = ["+m+"]; return false; ":i+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",l&&(i+=" else { "),i}},"d17/":function(e,t,r){"use strict";e.exports=function(e){for(var t,r=0,n=e.length,i=0;i<n;)r++,(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<n&&56320==(64512&(t=e.charCodeAt(i)))&&i++;return r}},"d4+G":function(e,t){const r=[{imports:["bakery.yaml","coffee.yaml"]}];e.exports=r.length<=1?r[0]:r},dLq5:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("YSVl"),i=r("FG9h"),o=r("nNxe");t.aliasesFromOneItem=function*(e){for(const t of e.aliases){const e=o.patternFromExpression(t);for(const t of i.generateAliases(e))yield t}},t.permutation=function(e,t){const r=[];let n=e,i=t;for(let o=e.length;o>0;--o){const e=i%o;i=Math.floor(i/o),r.push(n[e]),n=[...n.slice(0,e),...n.slice(e+1)]}return r},t.factorial=function e(t){return 0===t||1===t?1:t*e(t-1)};t.Random=class{constructor(e){this.random=n(e)}randomInRange(e,t){if(t<e){throw TypeError("end must be less than start")}return e+Math.floor(this.random()*(t-e))}randomNonNegative(e){if(e<0){throw TypeError("max cannot be less than 0")}return Math.floor(this.random()*e)}randomChoice(e){if(e.length<1){throw TypeError("Random.randomChoice: item array is empty")}return e[this.randomNonNegative(e.length)]}randomChooseN(e,t){const r=[...e],n=[],i=Math.min(t,e.length);for(let o=0;o<i;++o){const t=this.randomNonNegative(r.length);n.push(r[t]),r[t]=r[e.length-1],r.pop()}return n}randomBoolean(){return this.random()<.5}}},dhqo:function(e,t,r){e.exports=function(){var e=[],t=[],r={},n={},i={};function o(e){return"string"===typeof e?new RegExp("^"+e+"$","i"):e}function s(e,t){return e===t?t:e===e.toUpperCase()?t.toUpperCase():e[0]===e[0].toUpperCase()?t.charAt(0).toUpperCase()+t.substr(1).toLowerCase():t.toLowerCase()}function a(e,t){return e.replace(/\$(\d{1,2})/g,(function(e,r){return t[r]||""}))}function c(e,t){return e.replace(t[0],(function(r,n){var i=a(t[1],arguments);return s(""===r?e[n-1]:r,i)}))}function u(e,t,n){if(!e.length||r.hasOwnProperty(e))return t;for(var i=n.length;i--;){var o=n[i];if(o[0].test(t))return c(t,o)}return t}function l(e,t,r){return function(n){var i=n.toLowerCase();return t.hasOwnProperty(i)?s(n,i):e.hasOwnProperty(i)?s(n,e[i]):u(i,n,r)}}function p(e,t,r,n){return function(n){var i=n.toLowerCase();return!!t.hasOwnProperty(i)||!e.hasOwnProperty(i)&&u(i,i,r)===i}}function h(e,t,r){return(r?t+" ":"")+(1===t?h.singular(e):h.plural(e))}return h.plural=l(i,n,e),h.isPlural=p(i,n,e),h.singular=l(n,i,t),h.isSingular=p(n,i,t),h.addPluralRule=function(t,r){e.push([o(t),r])},h.addSingularRule=function(e,r){t.push([o(e),r])},h.addUncountableRule=function(e){"string"!==typeof e?(h.addPluralRule(e,"$0"),h.addSingularRule(e,"$0")):r[e.toLowerCase()]=!0},h.addIrregularRule=function(e,t){t=t.toLowerCase(),e=e.toLowerCase(),i[e]=t,n[t]=e},[["I","we"],["me","us"],["he","they"],["she","they"],["them","them"],["myself","ourselves"],["yourself","yourselves"],["itself","themselves"],["herself","themselves"],["himself","themselves"],["themself","themselves"],["is","are"],["was","were"],["has","have"],["this","these"],["that","those"],["echo","echoes"],["dingo","dingoes"],["volcano","volcanoes"],["tornado","tornadoes"],["torpedo","torpedoes"],["genus","genera"],["viscus","viscera"],["stigma","stigmata"],["stoma","stomata"],["dogma","dogmata"],["lemma","lemmata"],["schema","schemata"],["anathema","anathemata"],["ox","oxen"],["axe","axes"],["die","dice"],["yes","yeses"],["foot","feet"],["eave","eaves"],["goose","geese"],["tooth","teeth"],["quiz","quizzes"],["human","humans"],["proof","proofs"],["carve","carves"],["valve","valves"],["looey","looies"],["thief","thieves"],["groove","grooves"],["pickaxe","pickaxes"],["whiskey","whiskies"]].forEach((function(e){return h.addIrregularRule(e[0],e[1])})),[[/s?$/i,"s"],[/[^\u0000-\u007F]$/i,"$0"],[/([^aeiou]ese)$/i,"$1"],[/(ax|test)is$/i,"$1es"],[/(alias|[^aou]us|tlas|gas|ris)$/i,"$1es"],[/(e[mn]u)s?$/i,"$1s"],[/([^l]ias|[aeiou]las|[emjzr]as|[iu]am)$/i,"$1"],[/(alumn|syllab|octop|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1i"],[/(alumn|alg|vertebr)(?:a|ae)$/i,"$1ae"],[/(seraph|cherub)(?:im)?$/i,"$1im"],[/(her|at|gr)o$/i,"$1oes"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|automat|quor)(?:a|um)$/i,"$1a"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)(?:a|on)$/i,"$1a"],[/sis$/i,"ses"],[/(?:(kni|wi|li)fe|(ar|l|ea|eo|oa|hoo)f)$/i,"$1$2ves"],[/([^aeiouy]|qu)y$/i,"$1ies"],[/([^ch][ieo][ln])ey$/i,"$1ies"],[/(x|ch|ss|sh|zz)$/i,"$1es"],[/(matr|cod|mur|sil|vert|ind|append)(?:ix|ex)$/i,"$1ices"],[/(m|l)(?:ice|ouse)$/i,"$1ice"],[/(pe)(?:rson|ople)$/i,"$1ople"],[/(child)(?:ren)?$/i,"$1ren"],[/eaux$/i,"$0"],[/m[ae]n$/i,"men"],["thou","you"]].forEach((function(e){return h.addPluralRule(e[0],e[1])})),[[/s$/i,""],[/(ss)$/i,"$1"],[/(wi|kni|(?:after|half|high|low|mid|non|night|[^\w]|^)li)ves$/i,"$1fe"],[/(ar|(?:wo|[ae])l|[eo][ao])ves$/i,"$1f"],[/ies$/i,"y"],[/\b([pl]|zomb|(?:neck|cross)?t|coll|faer|food|gen|goon|group|lass|talk|goal|cut)ies$/i,"$1ie"],[/\b(mon|smil)ies$/i,"$1ey"],[/(m|l)ice$/i,"$1ouse"],[/(seraph|cherub)im$/i,"$1"],[/(x|ch|ss|sh|zz|tto|go|cho|alias|[^aou]us|tlas|gas|(?:her|at|gr)o|ris)(?:es)?$/i,"$1"],[/(analy|ba|diagno|parenthe|progno|synop|the|empha|cri)(?:sis|ses)$/i,"$1sis"],[/(movie|twelve|abuse|e[mn]u)s$/i,"$1"],[/(test)(?:is|es)$/i,"$1is"],[/(alumn|syllab|octop|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1us"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|quor)a$/i,"$1um"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)a$/i,"$1on"],[/(alumn|alg|vertebr)ae$/i,"$1a"],[/(cod|mur|sil|vert|ind)ices$/i,"$1ex"],[/(matr|append)ices$/i,"$1ix"],[/(pe)(rson|ople)$/i,"$1rson"],[/(child)ren$/i,"$1"],[/(eau)x?$/i,"$1"],[/men$/i,"man"]].forEach((function(e){return h.addSingularRule(e[0],e[1])})),["adulthood","advice","agenda","aid","alcohol","ammo","anime","athletics","audio","bison","blood","bream","buffalo","butter","carp","cash","chassis","chess","clothing","cod","commerce","cooperation","corps","debris","diabetes","digestion","elk","energy","equipment","excretion","expertise","flounder","fun","gallows","garbage","graffiti","headquarters","health","herpes","highjinks","homework","housework","information","jeans","justice","kudos","labour","literature","machinery","mackerel","mail","media","mews","moose","music","manga","news","pike","plankton","pliers","pollution","premises","rain","research","rice","salmon","scissors","series","sewage","shambles","shrimp","species","staff","swine","tennis","traffic","transporation","trout","tuna","wealth","welfare","whiting","wildebeest","wildlife","you",/[^aeiou]ese$/i,/deer$/i,/fish$/i,/measles$/i,/o[iu]s$/i,/pox$/i,/sheep$/i].forEach(h.addUncountableRule),h}()},dt0z:function(e,t,r){var n=r("zoYe");e.exports=function(e){return null==e?"":n(e)}},"dvm+":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("ibpa");function i(e,t,r,n,i){const o=new Set;for(const a of r){const e=t.get(a)||[];for(const t of e)o.add(t)}const s=new Set;for(const a of n){const e=t.get(a)||[];for(const t of e)s.add(t)}for(const a of o)for(const t of s)e.addChild(a,t),e.addQuantityInfo(a,t,i)}function o(e,t,r,n){const i=new Set;for(const s of r){const e=t.get(s)||[];for(const t of e)i.add(t)}const o=[];for(const s of n){const e=t.get(s)||[],r=new Set;for(const t of e)r.add(t);o.push(r)}for(const s of i)for(const t of o)e.addExclusionSet(s,t)}t.processRules=function(e,t,r){const n=new s(t);for(const s of r)"children"in s?i(n,e,s.parents,s.children,s.info):o(n,e,s.parents,s.exclusive);return n};class s{constructor(e){this.emptySet=new Set,this.validChildren=new Map,this.exclusion=new Map,this.quantityInfo=new Map,this.pidsToUnits=new Map,this.pidsToUnits=e}addChild(e,t){const r=this.validChildren.get(e);r?r.add(t):this.validChildren.set(e,new Set([t]))}addExclusionSet(e,t){const r=this.exclusion.get(e);r?r.push(t):this.exclusion.set(e,[t])}addQuantityInfo(e,t,r){if(r){const n=this.quantityInfo.get(e);n?n.set(t,r):this.quantityInfo.set(e,new Map([[t,r]]))}}isValidChild(e,t){const r=n.AttributeInfo.pidFromKey(e),i=n.AttributeInfo.pidFromKey(t),o=this.validChildren.get(r);return!!o&&o.has(i)}getValidChildren(e){const t=n.AttributeInfo.pidFromKey(e),r=this.validChildren.get(t);return r||this.emptySet}getPairwiseMutualExclusionPredicate(e,t){const r=n.AttributeInfo.pidFromKey(e),i=this.exclusion.get(r);if(void 0===i)return e=>!0;const o=n.AttributeInfo.pidFromKey(t);return e=>{const t=n.AttributeInfo.pidFromKey(e);if(o===t)return!1;for(const r of i)if(r.has(o)&&r.has(t))return!1;return!0}}getIncrementalMutualExclusionPredicate(e){const t=n.AttributeInfo.pidFromKey(e),r=new Set,i=this.exclusion.get(t),o=new Set;return e=>{if(!i)return!0;const t=n.AttributeInfo.pidFromKey(e);if(r.has(t))return!1;const s=[];for(const r of i)if(o.has(r)){if(r.has(t))return!1}else r.has(t)&&s.push(r);r.add(t);for(const r of s)o.add(r);return!0}}getDefaultQuantity(e,t){throw new Error("Method not implemented.")}isValidQuantity(e,t,r){throw new Error("Method not implemented.")}getQuantityInfo(e,t){const r=n.AttributeInfo.pidFromKey(e),i=this.quantityInfo.get(r);if(i){const e=n.AttributeInfo.pidFromKey(t);return i.get(e)}}getExclusionGroups(e){return this.exclusion.get(e)||[]}getUnits(e){const t=this.pidsToUnits.get(e);return t||""}}},e9oO:function(e,t,r){"use strict";(function(e,n){r.d(t,"a",(function(){return g}));var i=r("JlOb"),o=r("ruVm"),s=r("PpvX"),a=r("BdsA"),c=r("vyC1"),u=r("BMJ/"),l=r("lqU6"),p=r("MGH9"),h=r("ahYF"),d=r("rmMg"),f=r(3),m=r(1),v=r(2);class g{constructor(t,r,y,b,S){if(this.open=()=>{if(this.privConnectionState===i.a.Disconnected)return o.b.fromError(`Cannot open a connection that is in ${this.privConnectionState} state`);if(this.privConnectionEstablishDeferral)return this.privConnectionEstablishDeferral.promise();this.privConnectionEstablishDeferral=new o.a,this.privCertificateValidatedDeferral=new o.a,this.privConnectionState=i.a.Connecting;try{const t="undefined"!==typeof e&&"0"!==e.env.NODE_TLS_REJECT_UNAUTHORIZED&&"0"!==e.env.SPEECH_CONDUCT_OCSP_CHECK&&!this.privUri.startsWith("ws:");if("undefined"===typeof WebSocket||g.forceNpmWebSocket)if(void 0!==this.proxyInfo&&void 0!==this.proxyInfo.HostName&&this.proxyInfo.Port>0){const e={host:this.proxyInfo.HostName,port:this.proxyInfo.Port};void 0!==this.proxyInfo.UserName&&(e.headers={"Proxy-Authentication":"Basic "+new n(this.proxyInfo.UserName+":"+(void 0===this.proxyInfo.Password)?"":this.proxyInfo.Password).toString("base64")},t&&(e.headers.requestOCSP="true"));const r={agent:new f(e),headers:this.privHeaders};this.privWebsocketClient=new m(this.privUri,r),t?this.privWebsocketClient.addListener("upgrade",e=>{const t=e.socket,n=t.getPeerCertificate(!0);t.cork(),v.check({cert:n.raw,httpOptions:r,issuer:n.issuerCertificate.raw},(e,r)=>{e?(this.privCertificateValidatedDeferral.reject(e.message),t.destroy(e)):(this.privCertificateValidatedDeferral.resolve(!0),t.uncork())})}):this.privCertificateValidatedDeferral.resolve(!0)}else{const e={headers:this.privHeaders};this.privCertificateValidatedDeferral.resolve(!0),t&&(e.agent=new v.Agent({})),this.privWebsocketClient=new m(this.privUri,e)}else this.privCertificateValidatedDeferral.resolve(!0),this.privWebsocketClient=new WebSocket(this.privUri);this.privWebsocketClient.binaryType="arraybuffer",this.privReceivingMessageQueue=new s.a,this.privDisconnectDeferral=new o.a,this.privSendMessageQueue=new s.a,this.processSendQueue()}catch(t){return this.privConnectionEstablishDeferral.resolve(new a.a(500,t)),this.privConnectionEstablishDeferral.promise()}return this.onEvent(new c.g(this.privConnectionId,this.privUri)),this.privWebsocketClient.onopen=e=>{this.privCertificateValidatedDeferral.promise().on(()=>{this.privConnectionState=i.a.Connected,this.onEvent(new c.d(this.privConnectionId)),this.privConnectionEstablishDeferral.resolve(new a.a(200,""))},e=>{this.privConnectionEstablishDeferral.reject(e)})},this.privWebsocketClient.onerror=e=>{this.onEvent(new c.b(this.privConnectionId,e.message,e.type)),this.privLastErrorReceived=e.message},this.privWebsocketClient.onclose=e=>{this.privConnectionState===i.a.Connecting?(this.privConnectionState=i.a.Disconnected,this.privConnectionEstablishDeferral.resolve(new a.a(e.code,e.reason+" "+this.privLastErrorReceived))):this.onEvent(new c.a(this.privConnectionId,e.code,e.reason)),this.onClose(e.code,e.reason)},this.privWebsocketClient.onmessage=e=>{const t=(new Date).toISOString();if(this.privConnectionState===i.a.Connected){const r=new o.a;if(this.privReceivingMessageQueue.enqueueFromPromise(r.promise()),e.data instanceof ArrayBuffer){const n=new u.a(l.b.Binary,e.data);this.privMessageFormatter.toConnectionMessage(n).on(e=>{this.onEvent(new c.e(this.privConnectionId,t,e)),r.resolve(e)},e=>{r.reject(`Invalid binary message format. Error: ${e}`)})}else{const n=new u.a(l.b.Text,e.data);this.privMessageFormatter.toConnectionMessage(n).on(e=>{this.onEvent(new c.e(this.privConnectionId,t,e)),r.resolve(e)},e=>{r.reject(`Invalid text message format. Error: ${e}`)})}}},this.privConnectionEstablishDeferral.promise()},this.send=e=>{if(this.privConnectionState!==i.a.Connected)return o.b.fromError(`Cannot send on connection that is in ${this.privConnectionState} state`);const t=new o.a,r=new o.a;return this.privSendMessageQueue.enqueueFromPromise(r.promise()),this.privMessageFormatter.fromConnectionMessage(e).on(n=>{r.resolve({Message:e,RawWebsocketMessage:n,sendStatusDeferral:t})},e=>{r.reject(`Error formatting the message. ${e}`)}),t.promise()},this.read=()=>this.privConnectionState!==i.a.Connected?o.b.fromError(`Cannot read on connection that is in ${this.privConnectionState} state`):this.privReceivingMessageQueue.dequeue(),this.close=e=>{if(!this.privWebsocketClient){const e=new o.a;return e.resolve(!0),e.promise()}return this.privConnectionState!==i.a.Disconnected&&this.privWebsocketClient.close(1e3,e||"Normal closure by client"),this.privDisconnectDeferral.promise()},this.sendRawMessage=e=>{try{return e?(this.onEvent(new c.f(this.privConnectionId,(new Date).toISOString(),e.Message)),this.isWebsocketOpen?(this.privWebsocketClient.send(e.RawWebsocketMessage.payload),o.b.fromResult(!0)):o.b.fromError("websocket send error: Websocket not ready")):o.b.fromResult(!0)}catch(t){return o.b.fromError(`websocket send error: ${t}`)}},this.onClose=(e,t)=>{const r=`Connection closed. ${e}: ${t}`;this.privConnectionState=i.a.Disconnected,this.privDisconnectDeferral.resolve(!0),this.privReceivingMessageQueue.dispose(t),this.privReceivingMessageQueue.drainAndDispose(e=>{},r),this.privSendMessageQueue.drainAndDispose(e=>{e.sendStatusDeferral.reject(r)},r)},this.processSendQueue=()=>{this.privSendMessageQueue.dequeue().on(e=>{e&&this.sendRawMessage(e).on(t=>{e.sendStatusDeferral.resolve(t),this.processSendQueue()},t=>{e.sendStatusDeferral.reject(t),this.processSendQueue()})},e=>{})},this.onEvent=e=>{this.privConnectionEvents.onEvent(e),p.a.instance.onEvent(e)},!t)throw new h.a("uri");if(!y)throw new h.a("messageFormatter");this.proxyInfo=b,this.privConnectionEvents=new d.a,this.privConnectionId=r,this.privMessageFormatter=y,this.privConnectionState=i.a.None,this.privUri=t,this.privHeaders=S,this.privLastErrorReceived=""}get state(){return this.privConnectionState}get events(){return this.privConnectionEvents}get isWebsocketOpen(){return this.privWebsocketClient&&this.privWebsocketClient.readyState===this.privWebsocketClient.OPEN}}g.forceNpmWebSocket=!1}).call(this,r("8oxB"),r("tjlA").Buffer)},eByF:function(e,t,r){var n=parseInt(Number.MAX_SAFE_INTEGER/2)||(1<<26)*(1<<26);function i(){this.C=null,this.row_covered=[],this.col_covered=[],this.n=0,this.Z0_r=0,this.Z0_c=0,this.marked=null,this.path=null}function o(e,t){return(new i).compute(e,t)}i.prototype.pad_matrix=function(e,t){t=t||0;var r,n=0,i=e.length;for(r=0;r<i;++r)e[r].length>n&&(n=e[r].length);i=n>i?n:i;var o=[];for(r=0;r<i;++r){for(var s=(e[r]||[]).slice();i>s.length;)s.push(t);o.push(s)}return o},i.prototype.compute=function(e,t){(t=t||{}).padValue=t.padValue||0,this.C=this.pad_matrix(e,t.padValue),this.n=this.C.length,this.original_length=e.length,this.original_width=e[0].length;for(var r=[];r.length<this.n;)r.push(!1);this.row_covered=r.slice(),this.col_covered=r.slice(),this.Z0_r=0,this.Z0_c=0,this.path=this.__make_matrix(2*this.n,0),this.marked=this.__make_matrix(this.n,0);for(var n=1,i={1:this.__step1,2:this.__step2,3:this.__step3,4:this.__step4,5:this.__step5,6:this.__step6};;){var o=i[n];if(!o)break;n=o.apply(this)}for(var s=[],a=0;a<this.original_length;++a)for(var c=0;c<this.original_width;++c)1==this.marked[a][c]&&s.push([a,c]);return s},i.prototype.__make_matrix=function(e,t){for(var r=[],n=0;n<e;++n){r[n]=[];for(var i=0;i<e;++i)r[n][i]=t}return r},i.prototype.__step1=function(){for(var e=0;e<this.n;++e)for(var t=Math.min.apply(Math,this.C[e]),r=0;r<this.n;++r)this.C[e][r]-=t;return 2},i.prototype.__step2=function(){for(var e=0;e<this.n;++e)for(var t=0;t<this.n;++t)if(0===this.C[e][t]&&!this.col_covered[t]&&!this.row_covered[e]){this.marked[e][t]=1,this.col_covered[t]=!0,this.row_covered[e]=!0;break}return this.__clear_covers(),3},i.prototype.__step3=function(){for(var e=0,t=0;t<this.n;++t)for(var r=0;r<this.n;++r)1==this.marked[t][r]&&0==this.col_covered[r]&&(this.col_covered[r]=!0,++e);return e>=this.n?7:4},i.prototype.__step4=function(){for(var e=-1,t=-1,r=-1;;){var n=this.__find_a_zero();if(e=n[0],t=n[1],e<0)return 6;if(this.marked[e][t]=2,!((r=this.__find_star_in_row(e))>=0))return this.Z0_r=e,this.Z0_c=t,5;t=r,this.row_covered[e]=!0,this.col_covered[t]=!1}},i.prototype.__step5=function(){var e=0;this.path[e][0]=this.Z0_r,this.path[e][1]=this.Z0_c;for(var t=!1;!t;){var r=this.__find_star_in_col(this.path[e][1]);if(r>=0?(e++,this.path[e][0]=r,this.path[e][1]=this.path[e-1][1]):t=!0,!t){var n=this.__find_prime_in_row(this.path[e][0]);e++,this.path[e][0]=this.path[e-1][0],this.path[e][1]=n}}return this.__convert_path(this.path,e),this.__clear_covers(),this.__erase_primes(),3},i.prototype.__step6=function(){for(var e=this.__find_smallest(),t=0;t<this.n;++t)for(var r=0;r<this.n;++r)this.row_covered[t]&&(this.C[t][r]+=e),this.col_covered[r]||(this.C[t][r]-=e);return 4},i.prototype.__find_smallest=function(){for(var e=n,t=0;t<this.n;++t)for(var r=0;r<this.n;++r)this.row_covered[t]||this.col_covered[r]||e>this.C[t][r]&&(e=this.C[t][r]);return e},i.prototype.__find_a_zero=function(){for(var e=0;e<this.n;++e)for(var t=0;t<this.n;++t)if(0===this.C[e][t]&&!this.row_covered[e]&&!this.col_covered[t])return[e,t];return[-1,-1]},i.prototype.__find_star_in_row=function(e){for(var t=0;t<this.n;++t)if(1==this.marked[e][t])return t;return-1},i.prototype.__find_star_in_col=function(e){for(var t=0;t<this.n;++t)if(1==this.marked[t][e])return t;return-1},i.prototype.__find_prime_in_row=function(e){for(var t=0;t<this.n;++t)if(2==this.marked[e][t])return t;return-1},i.prototype.__convert_path=function(e,t){for(var r=0;r<=t;++r)this.marked[e[r][0]][e[r][1]]=1==this.marked[e[r][0]][e[r][1]]?0:1},i.prototype.__clear_covers=function(){for(var e=0;e<this.n;++e)this.row_covered[e]=!1,this.col_covered[e]=!1},i.prototype.__erase_primes=function(){for(var e=0;e<this.n;++e)for(var t=0;t<this.n;++t)2==this.marked[e][t]&&(this.marked[e][t]=0)},o.version="1.2.2",o.format_matrix=function(e){var t,r,n=[];for(t=0;t<e.length;++t)for(r=0;r<e[t].length;++r){var i=String(e[t][r]).length;(!n[r]||i>=n[r])&&(n[r]=i)}var o="";for(t=0;t<e.length;++t){for(r=0;r<e[t].length;++r){for(var s=String(e[t][r]);s.length<n[r];)s=" "+s;o+=s,r!=e[t].length-1&&(o+=" ")}t!=e[t].length-1&&(o+="\n")}return o},o.make_cost_matrix=function(e,t){var r,n;if(!t){var i=-1/0;for(r=0;r<e.length;++r)for(n=0;n<e[r].length;++n)e[r][n]>i&&(i=e[r][n]);t=function(e){return i-e}}var o=[];for(r=0;r<e.length;++r){var s=e[r];for(o[r]=[],n=0;n<s.length;++n)o[r][n]=t(e[r][n])}return o},o.Munkres=i,e.exports&&(e.exports=o)},eDuk:function(e,t,r){"use strict";var n=r("jQLo"),i=r("qXHa"),o=r("6pwk"),s=r("ugD5"),a=r("9x6x"),c=r("n+SQ"),u=r("wXyd"),l=r("ZsDt"),p=r("+9rK");e.exports=g,g.prototype.validate=function(e,t){var r;if("string"==typeof e){if(!(r=this.getSchema(e)))throw new Error('no schema with key or ref "'+e+'"')}else{var n=this._addSchema(e);r=n.validate||this._compile(n)}var i=r(t);!0!==r.$async&&(this.errors=r.errors);return i},g.prototype.compile=function(e,t){var r=this._addSchema(e,void 0,t);return r.validate||this._compile(r)},g.prototype.addSchema=function(e,t,r,n){if(Array.isArray(e)){for(var o=0;o<e.length;o++)this.addSchema(e[o],void 0,r,n);return this}var s=this._getId(e);if(void 0!==s&&"string"!=typeof s)throw new Error("schema id must be string");return E(this,t=i.normalizeId(t||s)),this._schemas[t]=this._addSchema(e,r,n,!0),this},g.prototype.addMetaSchema=function(e,t,r){return this.addSchema(e,t,r,!0),this},g.prototype.validateSchema=function(e,t){var r=e.$schema;if(void 0!==r&&"string"!=typeof r)throw new Error("$schema must be a string");if(!(r=r||this._opts.defaultMeta||function(e){var t=e._opts.meta;return e._opts.defaultMeta="object"==typeof t?e._getId(t)||t:e.getSchema(f)?f:void 0,e._opts.defaultMeta}(this)))return this.logger.warn("meta-schema not available"),this.errors=null,!0;var n=this.validate(r,e);if(!n&&t){var i="schema is invalid: "+this.errorsText();if("log"!=this._opts.validateSchema)throw new Error(i);this.logger.error(i)}return n},g.prototype.getSchema=function(e){var t=y(this,e);switch(typeof t){case"object":return t.validate||this._compile(t);case"string":return this.getSchema(t);case"undefined":return function(e,t){var r=i.schema.call(e,{schema:{}},t);if(r){var o=r.schema,a=r.root,c=r.baseId,u=n.call(e,o,a,void 0,c);return e._fragments[t]=new s({ref:t,fragment:!0,schema:o,root:a,baseId:c,validate:u}),u}}(this,e)}},g.prototype.removeSchema=function(e){if(e instanceof RegExp)return b(this,this._schemas,e),b(this,this._refs,e),this;switch(typeof e){case"undefined":return b(this,this._schemas),b(this,this._refs),this._cache.clear(),this;case"string":var t=y(this,e);return t&&this._cache.del(t.cacheKey),delete this._schemas[e],delete this._refs[e],this;case"object":var r=this._opts.serialize,n=r?r(e):e;this._cache.del(n);var o=this._getId(e);o&&(o=i.normalizeId(o),delete this._schemas[o],delete this._refs[o])}return this},g.prototype.addFormat=function(e,t){"string"==typeof t&&(t=new RegExp(t));return this._formats[e]=t,this},g.prototype.errorsText=function(e,t){if(!(e=e||this.errors))return"No errors";for(var r=void 0===(t=t||{}).separator?", ":t.separator,n=void 0===t.dataVar?"data":t.dataVar,i="",o=0;o<e.length;o++){var s=e[o];s&&(i+=n+s.dataPath+" "+s.message+r)}return i.slice(0,-r.length)},g.prototype._addSchema=function(e,t,r,n){if("object"!=typeof e&&"boolean"!=typeof e)throw new Error("schema should be object or boolean");var o=this._opts.serialize,a=o?o(e):e,c=this._cache.get(a);if(c)return c;n=n||!1!==this._opts.addUsedSchema;var u=i.normalizeId(this._getId(e));u&&n&&E(this,u);var l,p=!1!==this._opts.validateSchema&&!t;p&&!(l=u&&u==i.normalizeId(e.$schema))&&this.validateSchema(e,!0);var h=i.ids.call(this,e),d=new s({id:u,schema:e,localRefs:h,cacheKey:a,meta:r});"#"!=u[0]&&n&&(this._refs[u]=d);this._cache.put(a,d),p&&l&&this.validateSchema(e,!0);return d},g.prototype._compile=function(e,t){if(e.compiling)return e.validate=o,o.schema=e.schema,o.errors=null,o.root=t||o,!0===e.schema.$async&&(o.$async=!0),o;var r,i;e.compiling=!0,e.meta&&(r=this._opts,this._opts=this._metaOpts);try{i=n.call(this,e.schema,t,e.localRefs)}catch(s){throw delete e.validate,s}finally{e.compiling=!1,e.meta&&(this._opts=r)}return e.validate=i,e.refs=i.refs,e.refVal=i.refVal,e.root=i.root,i;function o(){var t=e.validate,r=t.apply(this,arguments);return o.errors=t.errors,r}},g.prototype.compileAsync=r("sagP");var h=r("//Jx");g.prototype.addKeyword=h.add,g.prototype.getKeyword=h.get,g.prototype.removeKeyword=h.remove,g.prototype.validateKeyword=h.validate;var d=r("iZoB");g.ValidationError=d.Validation,g.MissingRefError=d.MissingRef,g.$dataMetaSchema=l;var f="http://json-schema.org/draft-07/schema",m=["removeAdditional","useDefaults","coerceTypes","strictDefaults"],v=["/properties"];function g(e){if(!(this instanceof g))return new g(e);e=this._opts=p.copy(e)||{},function(e){var t=e._opts.logger;if(!1===t)e.logger={log:O,warn:O,error:O};else{if(void 0===t&&(t=console),!("object"==typeof t&&t.log&&t.warn&&t.error))throw new Error("logger must implement log, warn and error methods");e.logger=t}}(this),this._schemas={},this._refs={},this._fragments={},this._formats=c(e.format),this._cache=e.cache||new o,this._loadingSchemas={},this._compilations=[],this.RULES=u(),this._getId=function(e){switch(e.schemaId){case"auto":return k;case"id":return S;default:return w}}(e),e.loopRequired=e.loopRequired||1/0,"property"==e.errorDataPath&&(e._errorDataPathProperty=!0),void 0===e.serialize&&(e.serialize=a),this._metaOpts=function(e){for(var t=p.copy(e._opts),r=0;r<m.length;r++)delete t[m[r]];return t}(this),e.formats&&function(e){for(var t in e._opts.formats){var r=e._opts.formats[t];e.addFormat(t,r)}}(this),e.keywords&&function(e){for(var t in e._opts.keywords){var r=e._opts.keywords[t];e.addKeyword(t,r)}}(this),function(e){var t;e._opts.$data&&(t=r("RsDv"),e.addMetaSchema(t,t.$id,!0));if(!1===e._opts.meta)return;var n=r("bnbC");e._opts.$data&&(n=l(n,v));e.addMetaSchema(n,f,!0),e._refs["http://json-schema.org/schema"]=f}(this),"object"==typeof e.meta&&this.addMetaSchema(e.meta),e.nullable&&this.addKeyword("nullable",{metaSchema:{type:"boolean"}}),function(e){var t=e._opts.schemas;if(!t)return;if(Array.isArray(t))e.addSchema(t);else for(var r in t)e.addSchema(t[r],r)}(this)}function y(e,t){return t=i.normalizeId(t),e._schemas[t]||e._refs[t]||e._fragments[t]}function b(e,t,r){for(var n in t){var i=t[n];i.meta||r&&!r.test(n)||(e._cache.del(i.cacheKey),delete t[n])}}function S(e){return e.$id&&this.logger.warn("schema $id ignored",e.$id),e.id}function w(e){return e.id&&this.logger.warn("schema id ignored",e.id),e.$id}function k(e){if(e.$id&&e.id&&e.$id!=e.id)throw new Error("schema $id is different from id");return e.$id||e.id}function E(e,t){if(e._schemas[t]||e._refs[t])throw new Error('schema with key or id "'+t+'" already exists')}function O(){}},eUgh:function(e,t){e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}},eXaU:function(e,t,r){"use strict";var n=r("bnbC");e.exports={$id:"https://github.com/epoberezkin/ajv/blob/master/lib/definition_schema.js",definitions:{simpleTypes:n.definitions.simpleTypes},type:"object",dependencies:{schema:["validate"],$data:["validate"],statements:["inline"],valid:{not:{required:["macro"]}}},properties:{type:n.properties.type,schema:{type:"boolean"},statements:{type:"boolean"},dependencies:{type:"array",items:{type:"string"}},metaSchema:{type:"object"},modifying:{type:"boolean"},valid:{type:"boolean"},$data:{type:"boolean"},async:{type:"boolean"},errors:{anyOf:[{type:"boolean"},{const:"full"}]}}}},eY4P:function(e,t,r){"use strict";e.exports=function(e,t,r){var n=" ",i=e.level,o=e.dataLevel,s=e.schema[t],a=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,l="data"+(o||""),p="valid"+i,h="errs__"+i,d=e.util.copy(e),f="";d.level++;var m="valid"+d.level,v="i"+i,g=d.dataLevel=e.dataLevel+1,y="data"+g,b=e.baseId;if(n+="var "+h+" = errors;var "+p+";",Array.isArray(s)){var S=e.schema.additionalItems;if(!1===S){n+=" "+p+" = "+l+".length <= "+s.length+"; ";var w=c;c=e.errSchemaPath+"/additionalItems",n+="  if (!"+p+") {   ";var k=k||[];k.push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'additionalItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { limit: "+s.length+" } ",!1!==e.opts.messages&&(n+=" , message: 'should NOT have more than "+s.length+" items' "),e.opts.verbose&&(n+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ";var E=n;n=k.pop(),!e.compositeRule&&u?e.async?n+=" throw new ValidationError(["+E+"]); ":n+=" validate.errors = ["+E+"]; return false; ":n+=" var err = "+E+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } ",c=w,u&&(f+="}",n+=" else { ")}var O=s;if(O)for(var x,C=-1,P=O.length-1;C<P;)if(x=O[C+=1],e.opts.strictKeywords?"object"==typeof x&&Object.keys(x).length>0:e.util.schemaHasRules(x,e.RULES.all)){n+=" "+m+" = true; if ("+l+".length > "+C+") { ";var T=l+"["+C+"]";d.schema=x,d.schemaPath=a+"["+C+"]",d.errSchemaPath=c+"/"+C,d.errorPath=e.util.getPathExpr(e.errorPath,C,e.opts.jsonPointers,!0),d.dataPathArr[g]=C;var R=e.validate(d);d.baseId=b,e.util.varOccurences(R,y)<2?n+=" "+e.util.varReplace(R,y,T)+" ":n+=" var "+y+" = "+T+"; "+R+" ",n+=" }  ",u&&(n+=" if ("+m+") { ",f+="}")}if("object"==typeof S&&(e.opts.strictKeywords?"object"==typeof S&&Object.keys(S).length>0:e.util.schemaHasRules(S,e.RULES.all))){d.schema=S,d.schemaPath=e.schemaPath+".additionalItems",d.errSchemaPath=e.errSchemaPath+"/additionalItems",n+=" "+m+" = true; if ("+l+".length > "+s.length+") {  for (var "+v+" = "+s.length+"; "+v+" < "+l+".length; "+v+"++) { ",d.errorPath=e.util.getPathExpr(e.errorPath,v,e.opts.jsonPointers,!0);T=l+"["+v+"]";d.dataPathArr[g]=v;R=e.validate(d);d.baseId=b,e.util.varOccurences(R,y)<2?n+=" "+e.util.varReplace(R,y,T)+" ":n+=" var "+y+" = "+T+"; "+R+" ",u&&(n+=" if (!"+m+") break; "),n+=" } }  ",u&&(n+=" if ("+m+") { ",f+="}")}}else if(e.opts.strictKeywords?"object"==typeof s&&Object.keys(s).length>0:e.util.schemaHasRules(s,e.RULES.all)){d.schema=s,d.schemaPath=a,d.errSchemaPath=c,n+="  for (var "+v+" = 0; "+v+" < "+l+".length; "+v+"++) { ",d.errorPath=e.util.getPathExpr(e.errorPath,v,e.opts.jsonPointers,!0);T=l+"["+v+"]";d.dataPathArr[g]=v;R=e.validate(d);d.baseId=b,e.util.varOccurences(R,y)<2?n+=" "+e.util.varReplace(R,y,T)+" ":n+=" var "+y+" = "+T+"; "+R+" ",u&&(n+=" if (!"+m+") break; "),n+=" }"}return u&&(n+=" "+f+" if ("+h+" == errors) {"),n=e.util.cleanUpCode(n)}},"ec/5":function(e,t,r){"use strict";var n=r("IPAr"),i=r("kaWx");e.exports=f,f.notInList=!0,f.notInBlock=!0;var o="\\",s="\n",a="\t",c=" ",u="[",l="]",p="^",h=":",d=/^( {4}|\t)?/gm;function f(e,t,r){var f,m,v,g,y,b,S,w,k,E,O,x,C=this.offset;if(this.options.footnotes){for(f=0,m=t.length,v="",g=e.now(),y=g.line;f<m&&(k=t.charAt(f),n(k));)v+=k,f++;if(t.charAt(f)===u&&t.charAt(f+1)===p){for(f=(v+=u+p).length,S="";f<m&&(k=t.charAt(f))!==l;)k===o&&(S+=k,f++,k=t.charAt(f)),S+=k,f++;if(S&&t.charAt(f)===l&&t.charAt(f+1)===h){if(r)return!0;for(E=i(S),f=(v+=S+l+h).length;f<m&&((k=t.charAt(f))===a||k===c);)v+=k,f++;for(g.column+=v.length,g.offset+=v.length,S="",b="",w="";f<m;){if((k=t.charAt(f))===s){for(w=k,f++;f<m&&(k=t.charAt(f))===s;)w+=k,f++;for(S+=w,w="";f<m&&(k=t.charAt(f))===c;)w+=k,f++;if(0===w.length)break;S+=w}S&&(b+=S,S=""),b+=k,f++}return v+=b,b=b.replace(d,(function(e){return C[y]=(C[y]||0)+e.length,y++,""})),O=e(v),x=this.enterBlock(),b=this.tokenizeBlock(b,g),x(),O({type:"footnoteDefinition",identifier:E,children:b})}}}}},euyF:function(e,t,r){(function(e){var n;!function(e,i,o){function s(e){var t=this;t.next=function(){var e,r,n=t.w,i=t.X,o=t.i;return t.w=n=n+1640531527|0,r=i[o+34&127],e=i[o=o+1&127],r^=r<<13,e^=e<<17,r^=r>>>15,e^=e>>>12,r=i[o]=r^e,t.i=o,r+(n^n>>>16)|0},function(e,t){var r,n,i,o,s,a=[],c=128;for(t===(0|t)?(n=t,t=null):(t+="\0",n=0,c=Math.max(c,t.length)),i=0,o=-32;o<c;++o)t&&(n^=t.charCodeAt((o+32)%t.length)),0===o&&(s=n),n^=n<<10,n^=n>>>15,n^=n<<4,n^=n>>>13,o>=0&&(s=s+1640531527|0,i=0==(r=a[127&o]^=n+s)?i+1:0);for(i>=128&&(a[127&(t&&t.length||0)]=-1),i=127,o=512;o>0;--o)n=a[i+34&127],r=a[i=i+1&127],n^=n<<13,r^=r<<17,n^=n>>>15,r^=r>>>12,a[i]=n^r;e.w=s,e.X=a,e.i=i}(t,e)}function a(e,t){return t.i=e.i,t.w=e.w,t.X=e.X.slice(),t}function c(e,t){null==e&&(e=+new Date);var r=new s(e),n=t&&t.state,i=function(){return(r.next()>>>0)/4294967296};return i.double=function(){do{var e=((r.next()>>>11)+(r.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},i.int32=r.next,i.quick=i,n&&(n.X&&a(n,r),i.state=function(){return a(r,{})}),i}i&&i.exports?i.exports=c:r("B9Yq")&&r("PDX0")?void 0===(n=function(){return c}.call(t,r,t,i))||(i.exports=n):this.xor4096=c}(0,e,r("B9Yq"))}).call(this,r("YuTi")(e))},fJqP:function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r("+ZBB")),n(r("F/K6")),n(r("58UJ"))},fUUT:function(e,t,r){"use strict";var n=r("5t69"),i=r("U6jy"),o=r("fduw");function s(e){var t=n(o);t.prototype.options=i(t.prototype.options,this.data("settings"),e),this.Parser=t}e.exports=s,s.Parser=o},"fd+I":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.anySuiteSchema={$schema:"http://json-schema.org/draft-07/schema#",anyOf:[{$ref:"#/definitions/LogicalTestSuite<TURN>"},{$ref:"#/definitions/LogicalValidationSuite<TURN>"},{allOf:[{$ref:"#/definitions/GenericSuite<ScoredStep<TURN>>"},{$ref:"#/definitions/AggregatedMeasuresField"}]}],definitions:{AggregatedMeasures:{properties:{completeSteps:{type:"number"},notes:{type:"string"},perfectSteps:{type:"number"},totalRepairs:{type:"number"},totalSteps:{type:"number"},totalTests:{type:"number"}},required:["completeSteps","notes","perfectSteps","totalRepairs","totalSteps","totalTests"],type:"object"},AggregatedMeasuresField:{properties:{measures:{$ref:"#/definitions/AggregatedMeasures"}},required:["measures"],type:"object"},Expected:{properties:{cart:{$ref:"#/definitions/LogicalCart"}},required:["cart"],type:"object"},"GenericCase<ScoredStep<TURN>>":{properties:{comment:{type:"string"},id:{type:"number"},steps:{items:{allOf:[{$ref:"#/definitions/Step<TURN>_1"},{$ref:"#/definitions/Expected"},{$ref:"#/definitions/MeasuresField"}]},type:"array"},suites:{type:"string"}},required:["comment","id","steps","suites"],type:"object"},"GenericCase<Step<TURN>>":{properties:{comment:{type:"string"},id:{type:"number"},steps:{items:{$ref:"#/definitions/Step<TURN>"},type:"array"},suites:{type:"string"}},required:["comment","id","steps","suites"],type:"object"},"GenericCase<ValidationStep<TURN>>":{properties:{comment:{type:"string"},id:{type:"number"},steps:{items:{allOf:[{$ref:"#/definitions/Step<TURN>_1"},{$ref:"#/definitions/Expected"}]},type:"array"},suites:{type:"string"}},required:["comment","id","steps","suites"],type:"object"},"GenericSuite<ScoredStep<TURN>>":{properties:{comment:{type:"string"},tests:{items:{anyOf:[{$ref:"#/definitions/GenericSuite<ScoredStep<TURN>>_1"},{$ref:"#/definitions/GenericCase<ScoredStep<TURN>>"}]},type:"array"}},required:["tests"],type:"object"},"GenericSuite<ScoredStep<TURN>>_1":{properties:{comment:{type:"string"},tests:{items:{anyOf:[{$ref:"#/definitions/GenericSuite<ScoredStep<TURN>>_1"},{$ref:"#/definitions/GenericCase<ScoredStep<TURN>>"}]},type:"array"}},required:["tests"],type:"object"},"GenericSuite<Step<TURN>>":{properties:{comment:{type:"string"},tests:{items:{anyOf:[{$ref:"#/definitions/GenericSuite<Step<TURN>>"},{$ref:"#/definitions/GenericCase<Step<TURN>>"}]},type:"array"}},required:["tests"],type:"object"},"GenericSuite<ValidationStep<TURN>>":{properties:{comment:{type:"string"},tests:{items:{anyOf:[{$ref:"#/definitions/GenericSuite<ValidationStep<TURN>>"},{$ref:"#/definitions/GenericCase<ValidationStep<TURN>>"}]},type:"array"}},required:["tests"],type:"object"},LogicalCart:{properties:{items:{items:{$ref:"#/definitions/LogicalItem"},type:"array"}},required:["items"],type:"object"},LogicalItem:{properties:{children:{items:{$ref:"#/definitions/LogicalItem"},type:"array"},name:{type:"string"},quantity:{type:"number"},sku:{type:"string"}},required:["children","name","quantity","sku"],type:"object"},"LogicalTestSuite<TURN>":{properties:{comment:{type:"string"},tests:{items:{anyOf:[{$ref:"#/definitions/GenericSuite<Step<TURN>>"},{$ref:"#/definitions/GenericCase<Step<TURN>>"}]},type:"array"}},required:["tests"],type:"object"},"LogicalValidationSuite<TURN>":{properties:{comment:{type:"string"},tests:{items:{anyOf:[{$ref:"#/definitions/GenericSuite<ValidationStep<TURN>>"},{$ref:"#/definitions/GenericCase<ValidationStep<TURN>>"}]},type:"array"}},required:["tests"],type:"object"},Measures:{properties:{complete:{type:"boolean"},perfect:{type:"boolean"},repairs:{properties:{cost:{type:"number"},steps:{items:{type:"string"},type:"array"}},required:["cost","steps"],type:"object"}},required:["complete","perfect"],type:"object"},MeasuresField:{properties:{measures:{$ref:"#/definitions/Measures"}},required:["measures"],type:"object"},"Step<TURN>":{properties:{turns:{items:{$ref:"#/definitions/TURN"},type:"array"}},required:["turns"],type:"object"},"Step<TURN>_1":{properties:{turns:{items:{$ref:"#/definitions/TURN"},type:"array"}},required:["turns"],type:"object"},TURN:{properties:{audio:{type:"string"},speaker:{type:"string"},transcription:{type:"string"}},required:["speaker"],type:"object"}}}},fduw:function(e,t,r){"use strict";var n=r("U6jy"),i=r("4MqD"),o=r("7nPM"),s=r("EQPF"),a=r("Olrm"),c=r("A6mZ");function u(e,t){this.file=t,this.offset={},this.options=n(this.options),this.setOptions({}),this.inList=!1,this.inBlock=!1,this.inLink=!1,this.atStart=!0,this.toOffset=o(t).toOffset,this.unescape=s(this,"escape"),this.decode=a(this)}e.exports=u;var l=u.prototype;function p(e){var t,r=[];for(t in e)r.push(t);return r}l.setOptions=r("nLKB"),l.parse=r("zK1H"),l.options=r("0lR2"),l.exitStart=i("atStart",!0),l.enterList=i("inList",!1),l.enterLink=i("inLink",!1),l.enterBlock=i("inBlock",!1),l.interruptParagraph=[["thematicBreak"],["atxHeading"],["fencedCode"],["blockquote"],["html"],["setextHeading",{commonmark:!1}],["definition",{commonmark:!1}],["footnote",{commonmark:!1}]],l.interruptList=[["atxHeading",{pedantic:!1}],["fencedCode",{pedantic:!1}],["thematicBreak",{pedantic:!1}],["definition",{commonmark:!1}],["footnote",{commonmark:!1}]],l.interruptBlockquote=[["indentedCode",{commonmark:!0}],["fencedCode",{commonmark:!0}],["atxHeading",{commonmark:!0}],["setextHeading",{commonmark:!0}],["thematicBreak",{commonmark:!0}],["html",{commonmark:!0}],["list",{commonmark:!0}],["definition",{commonmark:!1}],["footnote",{commonmark:!1}]],l.blockTokenizers={newline:r("Eidx"),indentedCode:r("K2KW"),fencedCode:r("Gqj6"),blockquote:r("PIlL"),atxHeading:r("MHMH"),thematicBreak:r("pyet"),list:r("tGWH"),setextHeading:r("NS2H"),html:r("ZJXm"),footnote:r("ec/5"),definition:r("HRR4"),table:r("ujgL"),paragraph:r("RSXs")},l.inlineTokenizers={escape:r("tgay"),autoLink:r("2yk8"),url:r("UBI6"),html:r("VRSw"),link:r("jWrk"),reference:r("wCsn"),strong:r("KX5q"),emphasis:r("bY2E"),deletion:r("UIh7"),code:r("JlFY"),break:r("497W"),text:r("SbiQ")},l.blockMethods=p(l.blockTokenizers),l.inlineMethods=p(l.inlineTokenizers),l.tokenizeBlock=c("block"),l.tokenizeInline=c("inline"),l.tokenizeFactory=c},fexD:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("94Iq"),i=r("FG9h"),o=r("nNxe");t.Parser=class{constructor(e,t,r,s,a,c,u){this.intentTokens=new Set([o.ADD_TO_ORDER,o.REMOVE_ITEM,o.WEAK_ADD]),this.productTokens=new Set([o.ATTRIBUTE,o.CONJUNCTION,o.ENTITY,n.OPTION,o.OPTION_RECIPE,i.NUMBERTOKEN,o.QUANTITY,o.UNIT,i.UNKNOWNTOKEN]),this.cartOps=e,this.catalog=t,this.cookbook=r,this.attributes=s,this.lexer=a,this.rules=c,this.debugMode=u}}},ffxj:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("T3zA"),i=r("5T8o"),o=r("c61r"),s=r("qiT1"),a=r("8E1v");t.createMenuBasedRepairFunction=function(e,t){const r=new s.MenuBasedRepairs(e,t,n.bipartiteMatchingDiff);return(e,n)=>{const s=o.cartFromlogicalCart(i.cartSort(e),t),a=o.cartFromlogicalCart(i.cartSort(n),t);return r.repairCart(s,a)}},t.createSimpleRepairFunction=function(){const e=new a.SimpleRepairs(n.bipartiteMatchingDiff);return(t,r)=>e.repairCart(i.cartSort(t),i.cartSort(r))},t.createNaNRepairFunction=function(){return(e,t)=>({cost:NaN,edits:[]})}},fgBx:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("94Iq"),i=r("FG9h"),o=r("ZsRi"),s=r("Kird"),a=r("PP+l"),c=r("Ec2+"),u=r("4oak");function l(e,t,r,n,o=i.GenericEquality){return i.exactPrefix(e,t,!1,r,n,o)}function p(e,t,r,n,o=i.GenericEquality){return i.exactPrefix(e,t,!0,r,n,o)}function h(e){const t=e.indexOf(":");if(-1!==t){const r=e.slice(0,t).trim();if("exact"===r)return l;if("prefix"===r)return p;if("relaxed"===r)return i.levenshtein;throw TypeError(`matcherFromAlias: Unknown matcher "${r}"`)}return i.levenshtein}function d(e){const t=e.indexOf(":");return-1!==t?e.slice(t+1):e}function*f(e,t){for(const r of e)for(const e of r.aliases){const n=h(e),o=d(e),s=t(r);for(const e of i.generateAliases(o))yield{token:s,text:e,matcher:n}}}t.WORD=Symbol("WORD"),t.tokenToString=function(e){const r=e;let l;switch(r.type){case s.ATTRIBUTE:l=`[ATTRIBUTE:${r.name.replace(/\s/g,"_").toUpperCase()},${r.id}]`;break;case a.ENTITY:l=`[ENTITY:${r.name.replace(/\s/g,"_").toUpperCase()},${r.pid}]`;break;case o.PRODUCT_RECIPE:l=`[PRODUCT_RECIPE:${r.name.replace(/\s/g,"_").toUpperCase()},${r.rid}]`;break;case i.NUMBERTOKEN:l=`[NUMBER:${r.value}]`;break;case c.QUANTITY:l=`[QUANTITY:${r.value}]`;break;case n.OPTION:l=`[OPTION:${r.name.replace(/\s/g,"_").toUpperCase()},${r.id}]`;break;case o.OPTION_RECIPE:l=`[OPTION_RECIPE:${r.name.replace(/\s/g,"_").toUpperCase()},${r.rid}]`;break;case u.UNIT:l="[UNIT]";break;case t.WORD:l=`[WORD:${r.text}]`;break;default:{const t=e.type.toString();l=`[${t.slice(7,t.length-1)}]`}}return l},t.matcherFromExpression=h,t.patternFromExpression=d,t.aliasesFromItems=f,t.aliasesFromYamlString=function*(e,t){const r=i.itemMapFromYamlString(e);yield*f(r.values(),t)},t.tokensFromStopwords=function*(e){for(const t of e){const e=t.trim();yield{token:{type:i.UNKNOWNTOKEN},text:e,matcher:l}}}},fjrl:function(e,t,r){"use strict";e.exports=function(e){var t="string"===typeof e?e.charCodeAt(0):e;return t>=97&&t<=102||t>=65&&t<=70||t>=48&&t<=57}},gbKz:function(e,t,r){(function(r){!function(){"use strict";"object"==typeof self&&self.self===self&&self||"object"==typeof r&&r.global;var n=9007199254740991;function i(e){return!("number"!=typeof e||e!=e||e===1/0||e===-1/0)}function o(e){return"number"==typeof e&&Math.abs(e)<=n}var s=/(hundred|thousand|(m|b|tr|quadr)illion)$/,a=/teen$/,c=/y$/,u=/(zero|one|two|three|four|five|six|seven|eight|nine|ten|eleven|twelve)$/,l={zero:"zeroth",one:"first",two:"second",three:"third",four:"fourth",five:"fifth",six:"sixth",seven:"seventh",eight:"eighth",nine:"ninth",ten:"tenth",eleven:"eleventh",twelve:"twelfth"};function p(e){return s.test(e)||a.test(e)?e+"th":c.test(e)?e.replace(c,"ieth"):u.test(e)?e.replace(u,h):e}function h(e,t){return l[t]}var d=10,f=100,m=1e3,v=1e6,g=1e9,y=1e12,b=1e15,S=9007199254740992,w=["zero","one","two","three","four","five","six","seven","eight","nine","ten","eleven","twelve","thirteen","fourteen","fifteen","sixteen","seventeen","eighteen","nineteen"],k=["zero","ten","twenty","thirty","forty","fifty","sixty","seventy","eighty","ninety"];function E(e,t){var r,n=parseInt(e,10);if(!i(n))throw new TypeError("Not a finite number: "+e+" ("+typeof e+")");if(!o(n))throw new RangeError("Input is not a safe number, it\u2019s either too large or too small.");return r=function e(t){var r,n,i=arguments[1];return 0===t?i?i.join(" ").replace(/,$/,""):"zero":(i||(i=[]),t<0&&(i.push("minus"),t=Math.abs(t)),t<20?(r=0,n=w[t]):t<f?(r=t%d,n=k[Math.floor(t/d)],r&&(n+="-"+w[r],r=0)):t<m?(r=t%f,n=e(Math.floor(t/f))+" hundred"):t<v?(r=t%m,n=e(Math.floor(t/m))+" thousand,"):t<g?(r=t%v,n=e(Math.floor(t/v))+" million,"):t<y?(r=t%g,n=e(Math.floor(t/g))+" billion,"):t<b?(r=t%y,n=e(Math.floor(t/y))+" trillion,"):t<=S&&(r=t%b,n=e(Math.floor(t/b))+" quadrillion,"),i.push(n),e(r,i))}(n),t?p(r):r}var O={toOrdinal:function(e){var t=parseInt(e,10);if(!i(t))throw new TypeError("Not a finite number: "+e+" ("+typeof e+")");if(!o(t))throw new RangeError("Input is not a safe number, it\u2019s either too large or too small.");var r=String(t),n=Math.abs(t%100),s=11<=n&&n<=13,a=r.charAt(r.length-1);return r+(s?"th":"1"===a?"st":"2"===a?"nd":"3"===a?"rd":"th")},toWords:E,toWordsOrdinal:function(e){return p(E(e))}};e.exports&&(t=e.exports=O),t.numberToWords=O}()}).call(this,r("yLpj"))},h9ck:function(e,t,r){"use strict";t.HtmlParser="undefined"===typeof Symbol?"__RMD_HTML_PARSER__":Symbol("__RMD_HTML_PARSER__")},hoC6:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("jHbr"),i=r("GhNO"),o=r("5N48");t.ObjectLoader=class{constructor(e){this.context=["/"],this.nameToObject=new Map(e)}load(e,t){const r=n.posix.resolve(this.context[this.context.length-1],e);t&&this.context.push(n.posix.dirname(r)),console.log(`readFile(${r})`);const i=this.nameToObject.get(r);if(!i){throw new TypeError(`ObjectLoader: cannot find ${r}`)}return new Promise((e,t)=>{e(i)})}pop(){this.context.pop()}},t.loadCatalogSpec=async function(e,t){const r=[],n=[],s=[],a=[],c=[];return await async function t(r){console.log(`Processing ${r}`);const n=await e.load(r,!0),s=i.validate(o.partialCatalogSpecType,n);if(u(s),void 0!==s.imports)for(const e of s.imports)await t(e);e.pop()}(t),{dimensions:r,tensors:n,catalog:s,rules:a,recipes:c,skus:[]};function u(e){e.dimensions&&r.push(...e.dimensions),e.tensors&&n.push(...e.tensors),e.catalog&&s.push(...e.catalog),e.rules&&a.push(...e.rules),e.recipes&&c.push(...e.recipes)}}},hpbh:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("oOnu");const i=["Can I get you anything else?","Is that everything?","What else would you like?","What else?","Anything else?","Is that all?","What else can I get you?"];let o=0;t.responses=function(e,t,r){const s=[],a=e.filter(e=>e.type===n.CONFUSED).length,c=e.filter(e=>e.type===n.OK).length;switch(0===c&&a>0?s.push("I didn't understand that."):c>0&&(0===a?s.push("Got it."):a>c||a>2?s.push("Not sure I got all that."):s.push("Ok.")),function(e){e.slice().reverse();let t={type:n.COMPLETE};for(const r of e)if(r.type===n.DONE||r.type===n.WAIT||r.type===n.WELCOME){t=r;break}return t}(e).type){case n.DONE:const e=(t.lines[t.lines.length-1].price/100).toFixed(2);s.push(`Thank you. Your total is $${e}. Please pull forward.`);break;case n.WAIT:s.push("Take your time.");break;case n.WELCOME:s.push("Welcome to Mike's American Grill. What can I get started for you?");break;case n.COMPLETE:s.push(i[o++%i.length])}return s}},hpib:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=[["one",1],["two",2],["three",3],["four",4],["five",5],["six",6],["seven",7],["eight",8],["nine",9]],i=[["eleven",11],["twelve",12],["thirteen",13],["fourteen",14],["fifteen",15],["sixteen",16],["seventeen",17],["eighteen",18],["nineteen",19]],o=["ten",10],s=[["twenty",20],["thirty",30],["forty",40],["fifty",50],["sixty",60],["seventy",70],["eighty",80],["ninety",90]],a=[["thousand",3],["million",6],["billion",9],["trillion",12]];function c(e,t,r){e.push({value:t,length:r})}function u(e,t){if(!t)return e;if(e.magnitude<t.magnitude)throw TypeError("Periods `b` must have smaller magnitude.");return{value:e.value+t.value,magnitude:t.magnitude,length:e.length+t.length}}t.EnglishNumberParser=class{constructor(e){this.stemAndHashInternal=e=>{this.terms.push(e);const t=this.stemAndHash(e);return this.hashedTerms.add(t),t},this.stemAndHash=e,this.terms=[],this.hashedTerms=new Set,this.A=this.stemAndHashInternal("a"),this.AND=this.stemAndHashInternal("and"),this.M2=this.stemAndHashInternal("hundred"),this.Z=this.stemAndHashInternal("zero"),this.QD=this.createMap(n),this.QU=this.createMap([...n,o,...i]),this.QUX10=this.createMap([...n,...i]),this.QT=this.createMap(s),this.magnitudes=this.createMagnitudeMap(a)}createMap(e){const t=new Map;for(const[r,n]of e){const e=this.stemAndHashInternal(r);t.set(e,{value:n,magnitude:0,length:1})}return t}createMagnitudeMap(e){const t=new Map;for(const[r,n]of e){const e=this.stemAndHashInternal(r),i=Math.pow(10,n);t.set(e,{value:i,magnitude:n,length:1})}return t}addTermsToSet(e){for(const t of this.terms)e.add(t)}ownHashedTerms(){return this.hashedTerms}parse(e,t){if(e.nextIs(this.Z))return e.get(),void c(t,0,1);let r={value:0,magnitude:1/0,length:0};for(;!e.atEOF();){const n=this.parsePeriod(e,r,t);if(!n||n.magnitude>=r.magnitude)break;r=u(r,n),c(t,r.value,r.length)}}parsePeriod(e,t,r){const n=this.parseMQ(e,t,r);if(n&&!e.atEOF()){const i=this.magnitudes.get(e.peek());i&&(c(r,t.value+n.value,t.length+n.length),e.get(),n.value*=i.value,n.magnitude=i.magnitude,n.length+=i.length)}return n}parseMQ(e,t,r){let n;return e.nextIs(this.A)?(e.skip(this.A),n={value:1,magnitude:0,length:1},e.nextIs(this.M2)&&(n=this.parseM2ANDTV(e,t,r,n))):(n=this.parseTV(e,t,r),n&&function(e){return 0===e.magnitude&&e.value%10!==0}(n)&&e.nextIs(this.M2)&&(c(r,t.value+n.value,t.length+n.length),n=this.parseM2ANDTV(e,t,r,n))),n}parseM2ANDTV(e,t,r,n){e.skip(this.M2);let i={value:100*n.value,length:n.length+1,magnitude:n.magnitude};const o=u(t,i);c(r,o.value,o.length);const s=r.length;return i=u(i,this.parseANDTV(e,o,r)),function(e,t){e.length===t&&e.pop()}(r,s),i}parseANDTV(e,t,r){let n;if(e.nextIs(this.AND)){e.skip(this.AND);const i=this.parseTV(e,t,r);i&&(n=i)}else n=this.parseTV(e,t,r);return n}parseTV(e,t,r){let n=this.parseQU(e);if(!n&&(n=this.parseQT(e),n)){const i=this.parseQD(e);i&&(c(r,t.value+n.value,t.length+n.length),n=u(n,i))}return n}parseQU(e){return this.parseToken(e,this.QU)}parseQUX10(e){return this.parseToken(e,this.QUX10)}parseQT(e){return this.parseToken(e,this.QT)}parseQD(e){return this.parseToken(e,this.QD)}parseToken(e,t){let r;if(!e.atEOF()){const n=e.peek();r=t.get(n),r&&(r=Object.assign({},r),e.get())}return r}}},hyoZ:function(e,t,r){"use strict";var n=r("w+qe"),i=["kind","resolve","construct","instanceOf","predicate","represent","defaultStyle","styleAliases"],o=["scalar","sequence","mapping"];e.exports=function(e,t){if(t=t||{},Object.keys(t).forEach((function(t){if(-1===i.indexOf(t))throw new n('Unknown option "'+t+'" is met in definition of "'+e+'" YAML type.')})),this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(e){return e},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.defaultStyle=t.defaultStyle||null,this.styleAliases=function(e){var t={};return null!==e&&Object.keys(e).forEach((function(r){e[r].forEach((function(e){t[String(e)]=r}))})),t}(t.styleAliases||null),-1===o.indexOf(this.kind))throw new n('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}},iKkf:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});const n=r("7RiN"),i=r("Po9p"),o=r("ZR4k"),s=r("8v/U"),a=r("33yf"),c=r("94Iq"),u=r("HAeW");async function l(t,r,n,s,a,u,l,p,h){const d=void 0===a?r.getDefaultName():a;console.log(`Using generator ${d}.`),console.log(`Generating ${u} test case${1===u?"":"s"}.`),l&&console.log(`Performing test verification with "${l}".`),h&&console.log(`Cases will be written to ${h}.`),console.log("");const f=c.createWorld2(s),m=r.get(d,f,t),v=[];let g=0;for(const e of m){if(g===u)break;++g,v.push(e)}const y={comment:e.argv.join(" "),tests:v};if(void 0!==h){console.log(`Writing ${y.tests.length} test cases to ${h}.`);const e=o.safeDump(y,{noRefs:!0});i.writeFileSync(h,e,"utf-8"),console.log("Test cases written successfully.")}else for(const e of c.enumerateTestCases(y)){console.log(`Test ${e.id}: ${e.comment}`);for(const[t,r]of e.steps.entries()){console.log(`  Step ${t}`);for(const e of r.turns)console.log(`    ${e.speaker}: ${e.transcription}`)}console.log(" ")}}t.fuzzerMain=async function(t,r){n.config();const i=s(e.argv),o=i.o?a.resolve(".",i.o):void 0,c=i.t,u=i.v,p=!0===i.f||!0===i.failed,h=Number(i.n)||10,d=!0===i.h||!0===i.help||!0===i["?"];let f=e.env.PRIX_FIXE_DATA;if(i.d&&(f=i.d),void 0===f)return void console.log("Use -d flag or PRIX_FIXE_DATA environment variable to specify data path");const m=i.s||"0",v=Number(m);if(isNaN(v)){throw new TypeError("Seed must be a number.")}d?function(t,r,n){const i=a.basename(e.argv[1]);console.log("Test case generator"),console.log(""),console.log(`Usage: node ${i} [-d datapath] [-n count] [-o outfile] [-v] [-h|help|?]`),console.log(""),console.log("-d datapath     Path to prix-fixe data files."),console.log("                    attributes.yaml"),console.log("                    options.yaml"),console.log("                    products.yaml"),console.log("                    rules.yaml"),console.log("                The -d flag overrides the value specified"),console.log("                in the PRIX_FIXE_DATA environment variable."),console.log("-n count        Number of test cases to generate."),console.log(`                (default is ${n})`),console.log("-o outfile      Write cases to YAML file."),console.log("                Without -o, cases will be printed to the console."),console.log("-s seed         Seed for random number generator."),console.log("-t [generator]  Use the named test case generator."),console.log(`                (default is '-t=${r.getDefaultName()}').`),console.log("-v [processor]  Run the generated cases with the specified processor."),console.log("                (default is '-v=so')."),console.log("-f|failed       When verifying, show only failing cases."),console.log("-h|help|?       Show this message."),console.log(" "),console.log("Available test case generators:");for(const e of r.generators.values())console.log(`  "-t=${e.name}": ${e.description}`);console.log(" "),console.log("Available processors:");for(const e of t.processors.values())console.log(`  "-v=${e.name}": ${e.description}`)}(r,t,10):l(v,t,r,f,c,h,u,p,o)},t.runFuzzer=l,t.runTests=async function(e,t,r,n){const i=new c.AggregatedResults;let o=0;for(const s of e){if(o===n)break;o++;const e=await s.run(r,t,c.CorrectionLevel.STT);i.recordResult(e)}return i},t.makeTests=function(e,t,r){const n=new c.AggregatedResults;let i=0;for(const o of e){if(i===r)break;i++;const e=new c.Result(o,o.steps,!0,void 0,0);n.recordResult(e)}return n};function p(e,t){return u.createShortOrderWorld(e,t,void 0,!1).processor}t.TestCaseGeneratorFactory=class{constructor(e){if(this.generators=new Map,e.length<1){throw TypeError("TestCaseGeneratorFactory: expect at least one generator.")}for(const t of e)this.generators.set(t.name,t)}get(e,t,r){if(this.generators.has(e))return this.generators.get(e).factory(t,r);throw TypeError(`Unknown test case generator "${e}".`)}getDefaultName(){return[...this.generators.values()][0].name}};t.ProcessorFactory=class{constructor(e){this.processors=new Map;const t={name:"so",description:"short-order processor",factory:p};for(const r of[t,...e])this.processors.set(r.name,r)}get(e,t,r){if(this.processors.has(e))return this.processors.get(e).factory(t,r);throw TypeError(`Unknown processor "${e}".`)}}}).call(this,r("8oxB"))},iZoB:function(e,t,r){"use strict";var n=r("qXHa");function i(e,t,r){this.message=r||i.message(e,t),this.missingRef=n.url(e,t),this.missingSchema=n.normalizeId(n.fullPath(this.missingRef))}function o(e){return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}e.exports={Validation:o((function(e){this.message="validation failed",this.errors=e,this.ajv=this.validation=!0})),MissingRef:o(i)},i.message=function(e,t){return"can't resolve reference "+t+" from id "+e}},ialn:function(e,t,r){"use strict";var n=e.exports=function(e,t,r){"function"==typeof t&&(r=t,t={}),function e(t,r,i,o,s,a,c,u,l,p){if(o&&"object"==typeof o&&!Array.isArray(o)){for(var h in r(o,s,a,c,u,l,p),o){var d=o[h];if(Array.isArray(d)){if(h in n.arrayKeywords)for(var f=0;f<d.length;f++)e(t,r,i,d[f],s+"/"+h+"/"+f,a,s,h,o,f)}else if(h in n.propsKeywords){if(d&&"object"==typeof d)for(var m in d)e(t,r,i,d[m],s+"/"+h+"/"+m.replace(/~/g,"~0").replace(/\//g,"~1"),a,s,h,o,m)}else(h in n.keywords||t.allKeys&&!(h in n.skipKeywords))&&e(t,r,i,d,s+"/"+h,a,s,h,o)}i(o,s,a,c,u,l,p)}}(t,"function"==typeof(r=t.cb||r)?r:r.pre||function(){},r.post||function(){},e,"",e)};n.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0},n.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},n.propsKeywords={definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},n.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0}},ibpa:function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r("SPYI")),n(r("M/Vc")),n(r("Z+tb")),n(r("m/lV"))},ie1u:function(e,t,r){(function(e){var n;!function(e,i,o){function s(e){var t=this,r="";t.next=function(){var e=t.b,r=t.c,n=t.d,i=t.a;return e=e<<25^e>>>7^r,r=r-n|0,n=n<<24^n>>>8^i,i=i-e|0,t.b=e=e<<20^e>>>12^r,t.c=r=r-n|0,t.d=n<<16^r>>>16^i,t.a=i-e|0},t.a=0,t.b=0,t.c=-1640531527,t.d=1367130551,e===Math.floor(e)?(t.a=e/4294967296|0,t.b=0|e):r+=e;for(var n=0;n<r.length+20;n++)t.b^=0|r.charCodeAt(n),t.next()}function a(e,t){return t.a=e.a,t.b=e.b,t.c=e.c,t.d=e.d,t}function c(e,t){var r=new s(e),n=t&&t.state,i=function(){return(r.next()>>>0)/4294967296};return i.double=function(){do{var e=((r.next()>>>11)+(r.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},i.int32=r.next,i.quick=i,n&&("object"==typeof n&&a(n,r),i.state=function(){return a(r,{})}),i}i&&i.exports?i.exports=c:r("B9Yq")&&r("PDX0")?void 0===(n=function(){return c}.call(t,r,t,i))||(i.exports=n):this.tychei=c}(0,e,r("B9Yq"))}).call(this,r("YuTi")(e))},ihjy:function(e,t,r){var n=r("Fxvz"),i=r("17x9");e.exports=function(e,t,r){var i=e[t];if(i){var o=[];if(Object.keys(i).forEach((function(e){-1===n.indexOf(e)&&o.push(e)})),o.length)throw new Error("Prop "+t+" passed to "+r+". Has invalid keys "+o.join(", "))}},e.exports.isRequired=function(t,r,n){if(!t[r])throw new Error("Prop "+r+" passed to "+n+" is required");return e.exports(t,r,n)},e.exports.supportingArrays=i.oneOfType([i.arrayOf(e.exports),e.exports])},ii1B:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class n extends Error{constructor(e){super(e)}}t.InvalidParameterError=n;class i extends Error{constructor(e){super(e)}}t.ValidationError=i},ijAY:function(e,t,r){"use strict";(function(e){const t=r("uxXc"),n=(e,r)=>(function(){const n=e.apply(t,arguments);return`\x1b[${n+r}m`}),i=(e,r)=>(function(){const n=e.apply(t,arguments);return`\x1b[${38+r};5;${n}m`}),o=(e,r)=>(function(){const n=e.apply(t,arguments);return`\x1b[${38+r};2;${n[0]};${n[1]};${n[2]}m`});Object.defineProperty(e,"exports",{enumerable:!0,get:function(){const e=new Map,r={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],gray:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};r.color.grey=r.color.gray;for(const t of Object.keys(r)){const n=r[t];for(const t of Object.keys(n)){const i=n[t];r[t]={open:`\x1b[${i[0]}m`,close:`\x1b[${i[1]}m`},n[t]=r[t],e.set(i[0],i[1])}Object.defineProperty(r,t,{value:n,enumerable:!1}),Object.defineProperty(r,"codes",{value:e,enumerable:!1})}const s=e=>e,a=(e,t,r)=>[e,t,r];r.color.close="\x1b[39m",r.bgColor.close="\x1b[49m",r.color.ansi={ansi:n(s,0)},r.color.ansi256={ansi256:i(s,0)},r.color.ansi16m={rgb:o(a,0)},r.bgColor.ansi={ansi:n(s,10)},r.bgColor.ansi256={ansi256:i(s,10)},r.bgColor.ansi16m={rgb:o(a,10)};for(let c of Object.keys(t)){if("object"!==typeof t[c])continue;const e=t[c];"ansi16"===c&&(c="ansi"),"ansi16"in e&&(r.color.ansi[c]=n(e.ansi16,0),r.bgColor.ansi[c]=n(e.ansi16,10)),"ansi256"in e&&(r.color.ansi256[c]=i(e.ansi256,0),r.bgColor.ansi256[c]=i(e.ansi256,10)),"rgb"in e&&(r.color.ansi16m[c]=o(e.rgb,0),r.bgColor.ansi16m[c]=o(e.rgb,10))}return r}})}).call(this,r("YuTi")(e))},"j+Kt":function(e,t,r){"use strict";r.r(t),r.d(t,"Type",(function(){return u})),r.d(t,"identity",(function(){return l})),r.d(t,"getFunctionName",(function(){return p})),r.d(t,"getContextEntry",(function(){return h})),r.d(t,"appendContext",(function(){return d})),r.d(t,"failures",(function(){return f})),r.d(t,"failure",(function(){return m})),r.d(t,"success",(function(){return v})),r.d(t,"NullType",(function(){return y})),r.d(t,"nullType",(function(){return b})),r.d(t,"UndefinedType",(function(){return S})),r.d(t,"VoidType",(function(){return k})),r.d(t,"voidType",(function(){return E})),r.d(t,"UnknownType",(function(){return O})),r.d(t,"unknown",(function(){return x})),r.d(t,"StringType",(function(){return C})),r.d(t,"string",(function(){return P})),r.d(t,"NumberType",(function(){return T})),r.d(t,"number",(function(){return R})),r.d(t,"BigIntType",(function(){return M})),r.d(t,"bigint",(function(){return A})),r.d(t,"BooleanType",(function(){return I})),r.d(t,"boolean",(function(){return _})),r.d(t,"AnyArrayType",(function(){return N})),r.d(t,"UnknownArray",(function(){return D})),r.d(t,"AnyDictionaryType",(function(){return F})),r.d(t,"UnknownRecord",(function(){return j})),r.d(t,"FunctionType",(function(){return B})),r.d(t,"Function",(function(){return z})),r.d(t,"RefinementType",(function(){return q})),r.d(t,"brand",(function(){return L})),r.d(t,"Int",(function(){return W})),r.d(t,"LiteralType",(function(){return U})),r.d(t,"literal",(function(){return $})),r.d(t,"KeyofType",(function(){return K})),r.d(t,"keyof",(function(){return G})),r.d(t,"RecursiveType",(function(){return V})),r.d(t,"recursion",(function(){return Y})),r.d(t,"ArrayType",(function(){return Q})),r.d(t,"array",(function(){return Z})),r.d(t,"InterfaceType",(function(){return J})),r.d(t,"type",(function(){return re})),r.d(t,"PartialType",(function(){return ne})),r.d(t,"partial",(function(){return oe})),r.d(t,"DictionaryType",(function(){return se})),r.d(t,"getDomainKeys",(function(){return ae})),r.d(t,"record",(function(){return ce})),r.d(t,"UnionType",(function(){return ue})),r.d(t,"union",(function(){return pe})),r.d(t,"IntersectionType",(function(){return he})),r.d(t,"intersection",(function(){return fe})),r.d(t,"TupleType",(function(){return me})),r.d(t,"tuple",(function(){return ve})),r.d(t,"ReadonlyType",(function(){return ge})),r.d(t,"readonly",(function(){return ye})),r.d(t,"ReadonlyArrayType",(function(){return be})),r.d(t,"readonlyArray",(function(){return Se})),r.d(t,"strict",(function(){return we})),r.d(t,"TaggedUnionType",(function(){return ke})),r.d(t,"taggedUnion",(function(){return Ee})),r.d(t,"ExactType",(function(){return Oe})),r.d(t,"exact",(function(){return Pe})),r.d(t,"null",(function(){return b})),r.d(t,"undefined",(function(){return w})),r.d(t,"Array",(function(){return D})),r.d(t,"interface",(function(){return re})),r.d(t,"void",(function(){return E})),r.d(t,"getValidationError",(function(){return Te})),r.d(t,"getDefaultContext",(function(){return Re})),r.d(t,"NeverType",(function(){return Me})),r.d(t,"never",(function(){return Ae})),r.d(t,"AnyType",(function(){return Ie})),r.d(t,"any",(function(){return _e})),r.d(t,"Dictionary",(function(){return Ne})),r.d(t,"ObjectType",(function(){return De})),r.d(t,"object",(function(){return Fe})),r.d(t,"refinement",(function(){return je})),r.d(t,"Integer",(function(){return Be})),r.d(t,"dictionary",(function(){return ze})),r.d(t,"StrictType",(function(){return qe})),r.d(t,"clean",(function(){return Le})),r.d(t,"alias",(function(){return We})),r.d(t,"emptyTags",(function(){return $e})),r.d(t,"getTags",(function(){return Ze})),r.d(t,"getIndex",(function(){return Je}));var n=function(e){return"Left"===e._tag},i=function(e){return{_tag:"Left",left:e}},o=function(e){return{_tag:"Right",right:e}};var s=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),a=function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},c=function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),i=0;for(t=0;t<r;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)n[i]=o[s];return n},u=function(){function e(e,t,r,n){this.name=e,this.is=t,this.validate=r,this.encode=n,this.decode=this.decode.bind(this)}return e.prototype.pipe=function(t,r){var i=this;return void 0===r&&(r="pipe("+this.name+", "+t.name+")"),new e(r,t.is,(function(e,r){var o=i.validate(e,r);return n(o)?o:t.validate(o.right,r)}),this.encode===l&&t.encode===l?l:function(e){return i.encode(t.encode(e))})},e.prototype.asDecoder=function(){return this},e.prototype.asEncoder=function(){return this},e.prototype.decode=function(e){return this.validate(e,[{key:"",type:this,actual:e}])},e}(),l=function(e){return e},p=function(e){return e.displayName||e.name||"<function"+e.length+">"},h=function(e,t){return{key:e,type:t}},d=function(e,t,r,n){for(var i=e.length,o=Array(i+1),s=0;s<i;s++)o[s]=e[s];return o[i]={key:t,type:r,actual:n},o},f=i,m=function(e,t,r){return f([{value:e,context:t,message:r}])},v=o,g=function(e,t){for(var r=t.length,n=0;n<r;n++)e.push(t[n])},y=function(e){function t(){var t=e.call(this,"null",(function(e){return null===e}),(function(e,r){return t.is(e)?v(e):m(e,r)}),l)||this;return t._tag="NullType",t}return s(t,e),t}(u),b=new y,S=function(e){function t(){var t=e.call(this,"undefined",(function(e){return void 0===e}),(function(e,r){return t.is(e)?v(e):m(e,r)}),l)||this;return t._tag="UndefinedType",t}return s(t,e),t}(u),w=new S,k=function(e){function t(){var t=e.call(this,"void",w.is,w.validate,l)||this;return t._tag="VoidType",t}return s(t,e),t}(u),E=new k,O=function(e){function t(){var t=e.call(this,"unknown",(function(e){return!0}),v,l)||this;return t._tag="UnknownType",t}return s(t,e),t}(u),x=new O,C=function(e){function t(){var t=e.call(this,"string",(function(e){return"string"===typeof e}),(function(e,r){return t.is(e)?v(e):m(e,r)}),l)||this;return t._tag="StringType",t}return s(t,e),t}(u),P=new C,T=function(e){function t(){var t=e.call(this,"number",(function(e){return"number"===typeof e}),(function(e,r){return t.is(e)?v(e):m(e,r)}),l)||this;return t._tag="NumberType",t}return s(t,e),t}(u),R=new T,M=function(e){function t(){var t=e.call(this,"bigint",(function(e){return"bigint"===typeof e}),(function(e,r){return t.is(e)?v(e):m(e,r)}),l)||this;return t._tag="BigIntType",t}return s(t,e),t}(u),A=new M,I=function(e){function t(){var t=e.call(this,"boolean",(function(e){return"boolean"===typeof e}),(function(e,r){return t.is(e)?v(e):m(e,r)}),l)||this;return t._tag="BooleanType",t}return s(t,e),t}(u),_=new I,N=function(e){function t(){var t=e.call(this,"UnknownArray",Array.isArray,(function(e,r){return t.is(e)?v(e):m(e,r)}),l)||this;return t._tag="AnyArrayType",t}return s(t,e),t}(u),D=new N,F=function(e){function t(){var t=e.call(this,"UnknownRecord",(function(e){var t=Object.prototype.toString.call(e);return"[object Object]"===t||"[object Window]"===t}),(function(e,r){return t.is(e)?v(e):m(e,r)}),l)||this;return t._tag="AnyDictionaryType",t}return s(t,e),t}(u),j=new F,B=function(e){function t(){var t=e.call(this,"Function",(function(e){return"function"===typeof e}),(function(e,r){return t.is(e)?v(e):m(e,r)}),l)||this;return t._tag="FunctionType",t}return s(t,e),t}(u),z=new B,q=function(e){function t(t,r,n,i,o,s){var a=e.call(this,t,r,n,i)||this;return a.type=o,a.predicate=s,a._tag="RefinementType",a}return s(t,e),t}(u),L=function(e,t,r){return je(e,t,r)},W=L(R,(function(e){return Number.isInteger(e)}),"Int"),U=function(e){function t(t,r,n,i,o){var s=e.call(this,t,r,n,i)||this;return s.value=o,s._tag="LiteralType",s}return s(t,e),t}(u),$=function(e,t){void 0===t&&(t=JSON.stringify(e));var r=function(t){return t===e};return new U(t,r,(function(t,n){return r(t)?v(e):m(t,n)}),l,e)},K=function(e){function t(t,r,n,i,o){var s=e.call(this,t,r,n,i)||this;return s.keys=o,s._tag="KeyofType",s}return s(t,e),t}(u),H=Object.prototype.hasOwnProperty,G=function(e,t){void 0===t&&(t=Object.keys(e).map((function(e){return JSON.stringify(e)})).join(" | "));var r=function(t){return P.is(t)&&H.call(e,t)};return new K(t,r,(function(e,t){return r(e)?v(e):m(e,t)}),l,e)},V=function(e){function t(t,r,n,i,o){var s=e.call(this,t,r,n,i)||this;return s.runDefinition=o,s._tag="RecursiveType",s}return s(t,e),t}(u);Object.defineProperty(V.prototype,"type",{get:function(){return this.runDefinition()},enumerable:!0,configurable:!0});var Y=function(e,t){var r,n=function(){return r||((r=t(i)).name=e),r},i=new V(e,(function(e){return n().is(e)}),(function(e,t){return n().validate(e,t)}),(function(e){return n().encode(e)}),n);return i},Q=function(e){function t(t,r,n,i,o){var s=e.call(this,t,r,n,i)||this;return s.type=o,s._tag="ArrayType",s}return s(t,e),t}(u),Z=function(e,t){return void 0===t&&(t="Array<"+e.name+">"),new Q(t,(function(t){return D.is(t)&&t.every(e.is)}),(function(t,r){var i=D.validate(t,r);if(n(i))return i;for(var o=i.right,s=o.length,a=o,c=[],u=0;u<s;u++){var l=o[u],p=e.validate(l,d(r,String(u),e,l));if(n(p))g(c,p.left);else{var h=p.right;h!==l&&(a===o&&(a=o.slice()),a[u]=h)}}return c.length>0?f(c):v(a)}),e.encode===l?l:function(t){return t.map(e.encode)},e)},J=function(e){function t(t,r,n,i,o){var s=e.call(this,t,r,n,i)||this;return s.props=o,s._tag="InterfaceType",s}return s(t,e),t}(u),X=function(e){return Object.keys(e).map((function(t){return t+": "+e[t].name})).join(", ")},ee=function(e){for(var t=0;t<e.length;t++)if(e[t].encode!==l)return!1;return!0},te=function(e){return"{ "+X(e)+" }"},re=function(e,t){void 0===t&&(t=te(e));var r=Object.keys(e),i=r.map((function(t){return e[t]})),o=r.length;return new J(t,(function(e){if(j.is(e)){for(var t=0;t<o;t++){var n=r[t],s=e[n];if(void 0===s&&!H.call(e,n)||!i[t].is(s))return!1}return!0}return!1}),(function(e,t){var s=j.validate(e,t);if(n(s))return s;for(var c=s.right,u=c,l=[],p=0;p<o;p++){var h=r[p],m=u[h],y=i[p],b=y.validate(m,d(t,h,y,m));if(n(b))g(l,b.left);else{var S=b.right;(S!==m||void 0===S&&!H.call(u,h))&&(u===c&&(u=a({},c)),u[h]=S)}}return l.length>0?f(l):v(u)}),ee(i)?l:function(e){for(var t=a({},e),n=0;n<o;n++){var s=r[n],c=i[n].encode;c!==l&&(t[s]=c(e[s]))}return t},e)},ne=function(e){function t(t,r,n,i,o){var s=e.call(this,t,r,n,i)||this;return s.props=o,s._tag="PartialType",s}return s(t,e),t}(u),ie=function(e){return"Partial<"+e+">"},oe=function(e,t){void 0===t&&(t=ie(te(e)));var r=Object.keys(e),i=r.map((function(t){return e[t]})),o=r.length;return new ne(t,(function(t){if(j.is(t)){for(var n=0;n<o;n++){var i=r[n],s=t[i];if(void 0!==s&&!e[i].is(s))return!1}return!0}return!1}),(function(t,i){var s=j.validate(t,i);if(n(s))return s;for(var c=s.right,u=c,l=[],p=0;p<o;p++){var h=r[p],m=u[h],y=e[h],b=y.validate(m,d(i,h,y,m));if(n(b))void 0!==m&&g(l,b.left);else{var S=b.right;S!==m&&(u===c&&(u=a({},c)),u[h]=S)}}return l.length>0?f(l):v(u)}),ee(i)?l:function(e){for(var t=a({},e),n=0;n<o;n++){var s=r[n],c=e[s];void 0!==c&&(t[s]=i[n].encode(c))}return t},e)},se=function(e){function t(t,r,n,i,o,s){var a=e.call(this,t,r,n,i)||this;return a.domain=o,a.codomain=s,a._tag="DictionaryType",a}return s(t,e),t}(u);function ae(e){var t;if(Ge(e)){var r=e.value;if(P.is(r))return(t={})[r]=null,t}else{if("KeyofType"===e._tag)return e.keys;if(Ye(e)){var n=e.types.map((function(e){return ae(e)}));return n.some(w.is)?void 0:Object.assign.apply(Object,c([{}],n))}}}function ce(e,t,r){var i=ae(e);return i?function(e,t,r,i){void 0===i&&(i="{ [K in "+t.name+"]: "+r.name+" }");var o=e.length;return new se(i,(function(t){return j.is(t)&&e.every((function(e){return r.is(t[e])}))}),(function(t,i){var s=j.validate(t,i);if(n(s))return s;for(var a=s.right,c={},u=[],l=!1,p=0;p<o;p++){var h=e[p],m=a[h],y=r.validate(m,d(i,h,r,m));if(n(y))g(u,y.left);else{var b=y.right;l=l||b!==m,c[h]=b}}return u.length>0?f(u):v(l||Object.keys(a).length!==o?c:a)}),r.encode===l?l:function(t){for(var n={},i=0;i<o;i++){var s=e[i];n[s]=r.encode(t[s])}return n},t,r)}(Object.keys(i),e,t,r):function(e,t,r){return void 0===r&&(r="{ [K in "+e.name+"]: "+t.name+" }"),new se(r,(function(r){return j.is(r)?Object.keys(r).every((function(n){return e.is(n)&&t.is(r[n])})):He(t)&&Array.isArray(r)}),(function(r,i){if(j.is(r)){for(var o={},s=[],a=Object.keys(r),c=a.length,u=!1,l=0;l<c;l++){var p=a[l],h=r[p],y=e.validate(p,d(i,p,e,p));if(n(y))g(s,y.left);else{var b=y.right;u=u||b!==p,p=b;var S=t.validate(h,d(i,p,t,h));if(n(S))g(s,S.left);else{var w=S.right;u=u||w!==h,o[p]=w}}}return s.length>0?f(s):v(u?o:r)}return He(t)&&Array.isArray(r)?v(r):m(r,i)}),e.encode===l&&t.encode===l?l:function(r){for(var n={},i=Object.keys(r),o=i.length,s=0;s<o;s++){var a=i[s];n[String(e.encode(a))]=t.encode(r[a])}return n},e,t)}(e,t,r)}var ue=function(e){function t(t,r,n,i,o){var s=e.call(this,t,r,n,i)||this;return s.types=o,s._tag="UnionType",s}return s(t,e),t}(u),le=function(e){return"("+e.map((function(e){return e.name})).join(" | ")+")"},pe=function(e,t){void 0===t&&(t=le(e));var r=Je(e);if(void 0!==r&&e.length>0){var i=r[0],o=r[1],s=o.length,a=function(e){for(var t=0;t<s;t++)if(-1!==o[t].indexOf(e))return t};return new ke(t,(function(t){if(j.is(t)){var r=a(t[i]);return void 0!==r&&e[r].is(t)}return!1}),(function(t,r){var o=j.validate(t,r);if(n(o))return o;var s=o.right,c=a(s[i]);if(void 0===c)return m(t,r);var u=e[c];return u.validate(s,d(r,String(c),u,s))}),ee(e)?l:function(r){var n=a(r[i]);if(void 0===n)throw new Error("no codec found to encode value in union codec "+t);return e[n].encode(r)},e,i)}return new ue(t,(function(t){return e.some((function(e){return e.is(t)}))}),(function(t,r){for(var i=[],o=0;o<e.length;o++){var s=e[o],a=s.validate(t,d(r,String(o),s,t));if(!n(a))return v(a.right);g(i,a.left)}return f(i)}),ee(e)?l:function(r){for(var n=0,i=e;n<i.length;n++){var o=i[n];if(o.is(r))return o.encode(r)}throw new Error("no codec found to encode value in union type "+t)},e)},he=function(e){function t(t,r,n,i,o){var s=e.call(this,t,r,n,i)||this;return s.types=o,s._tag="IntersectionType",s}return s(t,e),t}(u),de=function(e,t){for(var r=!0,n=!0,i=0,o=t;i<o.length;i++){(u=o[i])!==e&&(r=!1),j.is(u)&&(n=!1)}if(r)return e;if(n)return t[t.length-1];for(var s={},a=0,c=t;a<c.length;a++){var u=c[a];for(var l in u)u[l]===e[l]&&s.hasOwnProperty(l)||(s[l]=u[l])}return s};function fe(e,t){void 0===t&&(t="("+e.map((function(e){return e.name})).join(" & ")+")");var r=e.length;return new he(t,(function(t){return e.every((function(e){return e.is(t)}))}),0===e.length?v:function(t,i){for(var o=[],s=[],a=0;a<r;a++){var c=e[a],u=c.validate(t,d(i,String(a),c,t));n(u)?g(s,u.left):o.push(u.right)}return s.length>0?f(s):v(de(t,o))},0===e.length?l:function(t){return de(t,e.map((function(e){return e.encode(t)})))},e)}var me=function(e){function t(t,r,n,i,o){var s=e.call(this,t,r,n,i)||this;return s.types=o,s._tag="TupleType",s}return s(t,e),t}(u);function ve(e,t){void 0===t&&(t="["+e.map((function(e){return e.name})).join(", ")+"]");var r=e.length;return new me(t,(function(t){return D.is(t)&&t.length===r&&e.every((function(e,r){return e.is(t[r])}))}),(function(t,i){var o=D.validate(t,i);if(n(o))return o;for(var s=o.right,a=s.length>r?s.slice(0,r):s,c=[],u=0;u<r;u++){var l=s[u],p=e[u],h=p.validate(l,d(i,String(u),p,l));if(n(h))g(c,h.left);else{var m=h.right;m!==l&&(a===s&&(a=s.slice()),a[u]=m)}}return c.length>0?f(c):v(a)}),ee(e)?l:function(t){return e.map((function(e,r){return e.encode(t[r])}))},e)}var ge=function(e){function t(t,r,n,i,o){var s=e.call(this,t,r,n,i)||this;return s.type=o,s._tag="ReadonlyType",s}return s(t,e),t}(u),ye=function(e,t){return void 0===t&&(t="Readonly<"+e.name+">"),new ge(t,e.is,e.validate,e.encode,e)},be=function(e){function t(t,r,n,i,o){var s=e.call(this,t,r,n,i)||this;return s.type=o,s._tag="ReadonlyArrayType",s}return s(t,e),t}(u),Se=function(e,t){void 0===t&&(t="ReadonlyArray<"+e.name+">");var r=Z(e);return new be(t,r.is,r.validate,r.encode,e)},we=function(e,t){return Pe(re(e),t)},ke=function(e){function t(t,r,n,i,o,s){var a=e.call(this,t,r,n,i,o)||this;return a.tag=s,a}return s(t,e),t}(ue),Ee=function(e,t,r){void 0===r&&(r=le(t));var n=pe(t,r);return n instanceof ke?n:(console.warn("[io-ts] Cannot build a tagged union for "+r+", returning a de-optimized union"),new ke(r,n.is,n.validate,n.encode,t,e))},Oe=function(e){function t(t,r,n,i,o){var s=e.call(this,t,r,n,i)||this;return s.type=o,s._tag="ExactType",s}return s(t,e),t}(u),xe=function(e){switch(e._tag){case"RefinementType":case"ReadonlyType":return xe(e.type);case"InterfaceType":case"StrictType":case"PartialType":return e.props;case"IntersectionType":return e.types.reduce((function(e,t){return Object.assign(e,xe(t))}),{})}},Ce=function(e,t){for(var r=Object.getOwnPropertyNames(e),n=!1,i={},o=0;o<r.length;o++){var s=r[o];H.call(t,s)?i[s]=e[s]:n=!0}return n?i:e},Pe=function(e,t){void 0===t&&(t=function(e){return Ve(e)?"{| "+X(e.props)+" |}":function(e){return"PartialType"===e._tag}(e)?ie("{| "+X(e.props)+" |}"):"Exact<"+e.name+">"}(e));var r=xe(e);return new Oe(t,e.is,(function(t,i){var s=j.validate(t,i);if(n(s))return s;var a=e.validate(t,i);return n(a)?a:o(Ce(a.right,r))}),(function(t){return e.encode(Ce(t,r))}),e)},Te=function(e,t){return{value:e,context:t}},Re=function(e){return[{key:"",type:e}]},Me=function(e){function t(){var t=e.call(this,"never",(function(e){return!1}),(function(e,t){return m(e,t)}),(function(){throw new Error("cannot encode never")}))||this;return t._tag="NeverType",t}return s(t,e),t}(u),Ae=new Me,Ie=function(e){function t(){var t=e.call(this,"any",(function(e){return!0}),v,l)||this;return t._tag="AnyType",t}return s(t,e),t}(u),_e=new Ie,Ne=j,De=function(e){function t(){var t=e.call(this,"object",(function(e){return null!==e&&"object"===typeof e}),(function(e,r){return t.is(e)?v(e):m(e,r)}),l)||this;return t._tag="ObjectType",t}return s(t,e),t}(u),Fe=new De;function je(e,t,r){return void 0===r&&(r="("+e.name+" | "+p(t)+")"),new q(r,(function(r){return e.is(r)&&t(r)}),(function(r,i){var o=e.validate(r,i);if(n(o))return o;var s=o.right;return t(s)?v(s):m(s,i)}),e.encode,e,t)}var Be=je(R,Number.isInteger,"Integer"),ze=ce,qe=function(e){function t(t,r,n,i,o){var s=e.call(this,t,r,n,i)||this;return s.props=o,s._tag="StrictType",s}return s(t,e),t}(u);function Le(e){return e}function We(e){return function(){return e}}var Ue=function(e){return e.length>0},$e={};function Ke(e,t){for(var r=[],n=0,i=e;n<i.length;n++){var o=i[n];-1!==t.indexOf(o)&&r.push(o)}return r}function He(e){return"AnyType"===e._tag}function Ge(e){return"LiteralType"===e._tag}function Ve(e){return"InterfaceType"===e._tag}function Ye(e){return"UnionType"===e._tag}var Qe=[];function Ze(e){if(-1!==Qe.indexOf(e))return $e;if(Ve(e)||function(e){return"StrictType"===e._tag}(e)){var t=$e;for(var r in e.props){var n=e.props[r];Ge(n)&&(t===$e&&(t={}),t[r]=[n.value])}return t}if(function(e){return"ExactType"===e._tag}(e)||function(e){return"RefinementType"===e._tag}(e))return Ze(e.type);if(function(e){return"IntersectionType"===e._tag}(e))return e.types.reduce((function(e,t){return function(e,t){if(e===$e)return t;if(t===$e)return e;var r=Object.assign({},e);for(var n in t)if(e.hasOwnProperty(n)){var i=Ke(e[n],t[n]);if(!Ue(i)){r=$e;break}r[n]=i}else r[n]=t[n];return r}(e,Ze(t))}),$e);if(Ye(e))return e.types.slice(1).reduce((function(e,t){return function(e,t){if(e===$e||t===$e)return $e;var r=$e;for(var n in e){if(t.hasOwnProperty(n))0===Ke(e[n],t[n]).length&&(r===$e&&(r={}),r[n]=e[n].concat(t[n]))}return r}(e,Ze(t))}),Ze(e.types[0]));if(function(e){return"RecursiveType"===e._tag}(e)){Qe.push(e);var i=Ze(e.type);return Qe.pop(),i}return $e}function Je(e){var t=Ze(e[0]),r=Object.keys(t),n=e.length,i=function(r){for(var i=t[r].slice(),o=[t[r]],s=1;s<n;s++){var a=Ze(e[s])[r];if(void 0===a)return"continue-keys";if(a.some((function(e){return-1!==i.indexOf(e)})))return"continue-keys";i.push.apply(i,a),o.push(a)}return{value:[r,o]}};e:for(var o=0,s=r;o<s.length;o++){var a=i(s[o]);if("object"===typeof a)return a.value;switch(a){case"continue-keys":continue e}}}},jHbr:function(e,t,r){"use strict";(function(t){function r(e){if("string"!==typeof e)throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}function n(e,t){for(var r,n="",i=0,o=-1,s=0,a=0;a<=e.length;++a){if(a<e.length)r=e.charCodeAt(a);else{if(47===r)break;r=47}if(47===r){if(o===a-1||1===s);else if(o!==a-1&&2===s){if(n.length<2||2!==i||46!==n.charCodeAt(n.length-1)||46!==n.charCodeAt(n.length-2))if(n.length>2){var c=n.lastIndexOf("/");if(c!==n.length-1){-1===c?(n="",i=0):i=(n=n.slice(0,c)).length-1-n.lastIndexOf("/"),o=a,s=0;continue}}else if(2===n.length||1===n.length){n="",i=0,o=a,s=0;continue}t&&(n.length>0?n+="/..":n="..",i=2)}else n.length>0?n+="/"+e.slice(o+1,a):n=e.slice(o+1,a),i=a-o-1;o=a,s=0}else 46===r&&-1!==s?++s:s=-1}return n}var i={resolve:function(){for(var e,i="",o=!1,s=arguments.length-1;s>=-1&&!o;s--){var a;s>=0?a=arguments[s]:(void 0===e&&(e=t.cwd()),a=e),r(a),0!==a.length&&(i=a+"/"+i,o=47===a.charCodeAt(0))}return i=n(i,!o),o?i.length>0?"/"+i:"/":i.length>0?i:"."},normalize:function(e){if(r(e),0===e.length)return".";var t=47===e.charCodeAt(0),i=47===e.charCodeAt(e.length-1);return 0!==(e=n(e,!t)).length||t||(e="."),e.length>0&&i&&(e+="/"),t?"/"+e:e},isAbsolute:function(e){return r(e),e.length>0&&47===e.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var e,t=0;t<arguments.length;++t){var n=arguments[t];r(n),n.length>0&&(void 0===e?e=n:e+="/"+n)}return void 0===e?".":i.normalize(e)},relative:function(e,t){if(r(e),r(t),e===t)return"";if((e=i.resolve(e))===(t=i.resolve(t)))return"";for(var n=1;n<e.length&&47===e.charCodeAt(n);++n);for(var o=e.length,s=o-n,a=1;a<t.length&&47===t.charCodeAt(a);++a);for(var c=t.length-a,u=s<c?s:c,l=-1,p=0;p<=u;++p){if(p===u){if(c>u){if(47===t.charCodeAt(a+p))return t.slice(a+p+1);if(0===p)return t.slice(a+p)}else s>u&&(47===e.charCodeAt(n+p)?l=p:0===p&&(l=0));break}var h=e.charCodeAt(n+p);if(h!==t.charCodeAt(a+p))break;47===h&&(l=p)}var d="";for(p=n+l+1;p<=o;++p)p!==o&&47!==e.charCodeAt(p)||(0===d.length?d+="..":d+="/..");return d.length>0?d+t.slice(a+l):(a+=l,47===t.charCodeAt(a)&&++a,t.slice(a))},_makeLong:function(e){return e},dirname:function(e){if(r(e),0===e.length)return".";for(var t=e.charCodeAt(0),n=47===t,i=-1,o=!0,s=e.length-1;s>=1;--s)if(47===(t=e.charCodeAt(s))){if(!o){i=s;break}}else o=!1;return-1===i?n?"/":".":n&&1===i?"//":e.slice(0,i)},basename:function(e,t){if(void 0!==t&&"string"!==typeof t)throw new TypeError('"ext" argument must be a string');r(e);var n,i=0,o=-1,s=!0;if(void 0!==t&&t.length>0&&t.length<=e.length){if(t.length===e.length&&t===e)return"";var a=t.length-1,c=-1;for(n=e.length-1;n>=0;--n){var u=e.charCodeAt(n);if(47===u){if(!s){i=n+1;break}}else-1===c&&(s=!1,c=n+1),a>=0&&(u===t.charCodeAt(a)?-1===--a&&(o=n):(a=-1,o=c))}return i===o?o=c:-1===o&&(o=e.length),e.slice(i,o)}for(n=e.length-1;n>=0;--n)if(47===e.charCodeAt(n)){if(!s){i=n+1;break}}else-1===o&&(s=!1,o=n+1);return-1===o?"":e.slice(i,o)},extname:function(e){r(e);for(var t=-1,n=0,i=-1,o=!0,s=0,a=e.length-1;a>=0;--a){var c=e.charCodeAt(a);if(47!==c)-1===i&&(o=!1,i=a+1),46===c?-1===t?t=a:1!==s&&(s=1):-1!==t&&(s=-1);else if(!o){n=a+1;break}}return-1===t||-1===i||0===s||1===s&&t===i-1&&t===n+1?"":e.slice(t,i)},format:function(e){if(null===e||"object"!==typeof e)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return function(e,t){var r=t.dir||t.root,n=t.base||(t.name||"")+(t.ext||"");return r?r===t.root?r+n:r+e+n:n}("/",e)},parse:function(e){r(e);var t={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return t;var n,i=e.charCodeAt(0),o=47===i;o?(t.root="/",n=1):n=0;for(var s=-1,a=0,c=-1,u=!0,l=e.length-1,p=0;l>=n;--l)if(47!==(i=e.charCodeAt(l)))-1===c&&(u=!1,c=l+1),46===i?-1===s?s=l:1!==p&&(p=1):-1!==s&&(p=-1);else if(!u){a=l+1;break}return-1===s||-1===c||0===p||1===p&&s===c-1&&s===a+1?-1!==c&&(t.base=t.name=0===a&&o?e.slice(1,c):e.slice(a,c)):(0===a&&o?(t.name=e.slice(1,s),t.base=e.slice(1,c)):(t.name=e.slice(a,s),t.base=e.slice(a,c)),t.ext=e.slice(s,c)),a>0?t.dir=e.slice(0,a-1):o&&(t.dir="/"),t},sep:"/",delimiter:":",win32:null,posix:null};i.posix=i,e.exports=i}).call(this,r("8oxB"))},jO2K:function(e,t,r){"use strict";var n;try{n=r("tjlA").Buffer}catch(s){}var i=r("hyoZ"),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\n\r";e.exports=new i("tag:yaml.org,2002:binary",{kind:"scalar",resolve:function(e){if(null===e)return!1;var t,r,n=0,i=e.length,s=o;for(r=0;r<i;r++)if(!((t=s.indexOf(e.charAt(r)))>64)){if(t<0)return!1;n+=6}return n%8===0},construct:function(e){var t,r,i=e.replace(/[\r\n=]/g,""),s=i.length,a=o,c=0,u=[];for(t=0;t<s;t++)t%4===0&&t&&(u.push(c>>16&255),u.push(c>>8&255),u.push(255&c)),c=c<<6|a.indexOf(i.charAt(t));return 0===(r=s%4*6)?(u.push(c>>16&255),u.push(c>>8&255),u.push(255&c)):18===r?(u.push(c>>10&255),u.push(c>>2&255)):12===r&&u.push(c>>4&255),n?n.from?n.from(u):new n(u):u},predicate:function(e){return n&&n.isBuffer(e)},represent:function(e){var t,r,n="",i=0,s=e.length,a=o;for(t=0;t<s;t++)t%3===0&&t&&(n+=a[i>>18&63],n+=a[i>>12&63],n+=a[i>>6&63],n+=a[63&i]),i=(i<<8)+e[t];return 0===(r=s%3)?(n+=a[i>>18&63],n+=a[i>>12&63],n+=a[i>>6&63],n+=a[63&i]):2===r?(n+=a[i>>10&63],n+=a[i>>4&63],n+=a[i<<2&63],n+=a[64]):1===r&&(n+=a[i>>2&63],n+=a[i<<4&63],n+=a[64],n+=a[64]),n}})},jQLo:function(e,t,r){"use strict";var n=r("qXHa"),i=r("+9rK"),o=r("iZoB"),s=r("9x6x"),a=r("1QhW"),c=i.ucs2length,u=r("aUsF"),l=o.Validation;function p(e,t,r){var n=d.call(this,e,t,r);return n>=0?{index:n,compiling:!0}:(n=this._compilations.length,this._compilations[n]={schema:e,root:t,baseId:r},{index:n,compiling:!1})}function h(e,t,r){var n=d.call(this,e,t,r);n>=0&&this._compilations.splice(n,1)}function d(e,t,r){for(var n=0;n<this._compilations.length;n++){var i=this._compilations[n];if(i.schema==e&&i.root==t&&i.baseId==r)return n}return-1}function f(e,t){return"var pattern"+e+" = new RegExp("+i.toQuotedString(t[e])+");"}function m(e){return"var default"+e+" = defaults["+e+"];"}function v(e,t){return void 0===t[e]?"":"var refVal"+e+" = refVal["+e+"];"}function g(e){return"var customRule"+e+" = customRules["+e+"];"}function y(e,t){if(!e.length)return"";for(var r="",n=0;n<e.length;n++)r+=t(n,e);return r}e.exports=function e(t,r,d,b){var S=this,w=this._opts,k=[void 0],E={},O=[],x={},C=[],P={},T=[];r=r||{schema:t,refVal:k,refs:E};var R=p.call(this,t,r,b),M=this._compilations[R.index];if(R.compiling)return M.callValidate=function e(){var t=M.validate,r=t.apply(this,arguments);return e.errors=t.errors,r};var A=this._formats,I=this.RULES;try{var _=D(t,r,d,b);M.validate=_;var N=M.callValidate;return N&&(N.schema=_.schema,N.errors=null,N.refs=_.refs,N.refVal=_.refVal,N.root=_.root,N.$async=_.$async,w.sourceCode&&(N.source=_.source)),_}finally{h.call(this,t,r,b)}function D(t,s,p,h){var d=!s||s&&s.schema==t;if(s.schema!=r.schema)return e.call(S,t,s,p,h);var b,x=!0===t.$async,P=a({isTop:!0,schema:t,isRoot:d,baseId:h,root:s,schemaPath:"",errSchemaPath:"#",errorPath:'""',MissingRefError:o.MissingRef,RULES:I,validate:a,util:i,resolve:n,resolveRef:F,usePattern:z,useDefault:q,useCustomRule:L,opts:w,formats:A,logger:S.logger,self:S});P=y(k,v)+y(O,f)+y(C,m)+y(T,g)+P,w.processCode&&(P=w.processCode(P));try{b=new Function("self","RULES","formats","root","refVal","defaults","customRules","equal","ucs2length","ValidationError",P)(S,I,A,r,k,C,T,u,c,l),k[0]=b}catch(R){throw S.logger.error("Error compiling schema, function code:",P),R}return b.schema=t,b.errors=null,b.refs=E,b.refVal=k,b.root=d?b:s,x&&(b.$async=!0),!0===w.sourceCode&&(b.source={code:P,patterns:O,defaults:C}),b}function F(t,i,o){i=n.url(t,i);var s,a,c=E[i];if(void 0!==c)return B(s=k[c],a="refVal["+c+"]");if(!o&&r.refs){var u=r.refs[i];if(void 0!==u)return B(s=r.refVal[u],a=j(i,s))}a=j(i);var l=n.call(S,D,r,i);if(void 0===l){var p=d&&d[i];p&&(l=n.inlineRef(p,w.inlineRefs)?p:e.call(S,p,r,d,t))}if(void 0!==l)return function(e,t){var r=E[e];k[r]=t}(i,l),B(l,a);!function(e){delete E[e]}(i)}function j(e,t){var r=k.length;return k[r]=t,E[e]=r,"refVal"+r}function B(e,t){return"object"==typeof e||"boolean"==typeof e?{code:t,schema:e,inline:!0}:{code:t,$async:e&&!!e.$async}}function z(e){var t=x[e];return void 0===t&&(t=x[e]=O.length,O[t]=e),"pattern"+t}function q(e){switch(typeof e){case"boolean":case"number":return""+e;case"string":return i.toQuotedString(e);case"object":if(null===e)return"null";var t=s(e),r=P[t];return void 0===r&&(r=P[t]=C.length,C[r]=e),"default"+r}}function L(e,t,r,n){if(!1!==S._opts.validateSchema){var i=e.definition.dependencies;if(i&&!i.every((function(e){return Object.prototype.hasOwnProperty.call(r,e)})))throw new Error("parent schema must have all required keywords: "+i.join(","));var o=e.definition.validateSchema;if(o)if(!o(t)){var s="keyword schema is invalid: "+S.errorsText(o.errors);if("log"!=S._opts.validateSchema)throw new Error(s);S.logger.error(s)}}var a,c=e.definition.compile,u=e.definition.inline,l=e.definition.macro;if(c)a=c.call(S,t,r,n);else if(l)a=l.call(S,t,r,n),!1!==w.validateSchema&&S.validateSchema(a,!0);else if(u)a=u.call(S,n,e.keyword,t,r);else if(!(a=e.definition.validate))return;if(void 0===a)throw new Error('custom keyword "'+e.keyword+'"failed to compile');var p=T.length;return T[p]=a,{code:"customRule"+p,validate:a}}}},jSmD:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.quantityTensorFactory=(e,t)=>{const r={};for(const n of e.rules)r[n.partialKey]=(e,r)=>{const i=Number(e.split(":")[0]),o=t.get(i);if(o){const e=o.cid,t=n.validCategoryMap[e];if(t)return t.qtyInfo[r]}};return r}},"jU/O":function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r("btwx")),n(r("T3zA")),n(r("5T8o")),n(r("yjL0")),n(r("au7Y")),n(r("vx86")),n(r("qBSW")),n(r("c61r")),n(r("pMpP")),n(r("qiT1")),n(r("a+xf")),n(r("23qp")),n(r("ffxj")),n(r("fd+I")),n(r("6BBt")),n(r("8E1v")),n(r("jwcd"))},jWrk:function(e,t,r){"use strict";var n=r("IPAr"),i=r("EmYC");e.exports=v,v.locator=i;var o={}.hasOwnProperty,s="\\",a="[",c="]",u="(",l=")",p="<",h=">",d="`",f={'"':'"',"'":"'"},m={};function v(e,t,r){var i,v,g,y,b,S,w,k,E,O,x,C,P,T,R,M,A,I,_,N="",D=0,F=t.charAt(0),j=this.options.pedantic,B=this.options.commonmark,z=this.options.gfm;if("!"===F&&(E=!0,N=F,F=t.charAt(++D)),F===a&&(E||!this.inLink)){for(N+=F,R="",D++,C=t.length,T=0,(A=e.now()).column+=D,A.offset+=D;D<C;){if(S=F=t.charAt(D),F===d){for(v=1;t.charAt(D+1)===d;)S+=F,D++,v++;g?v>=g&&(g=0):g=v}else if(F===s)D++,S+=t.charAt(D);else if(g&&!z||F!==a){if((!g||z)&&F===c){if(!T){if(!j)for(;D<C&&(F=t.charAt(D+1),n(F));)S+=F,D++;if(t.charAt(D+1)!==u)return;S+=u,i=!0,D++;break}T--}}else T++;R+=S,S="",D++}if(i){for(O=R,N+=R+S,D++;D<C&&(F=t.charAt(D),n(F));)N+=F,D++;if(F=t.charAt(D),k=B?m:f,R="",y=N,F===p){for(D++,y+=p;D<C&&(F=t.charAt(D))!==h;){if(B&&"\n"===F)return;R+=F,D++}if(t.charAt(D)!==h)return;N+=p+R+h,M=R,D++}else{for(F=null,S="";D<C&&(F=t.charAt(D),!S||!o.call(k,F));){if(n(F)){if(!j)break;S+=F}else{if(F===u)T++;else if(F===l){if(0===T)break;T--}R+=S,S="",F===s&&(R+=s,F=t.charAt(++D)),R+=F}D++}M=R,D=(N+=R).length}for(R="";D<C&&(F=t.charAt(D),n(F));)R+=F,D++;if(F=t.charAt(D),N+=R,R&&o.call(k,F))if(D++,N+=F,R="",x=k[F],b=N,B){for(;D<C&&(F=t.charAt(D))!==x;)F===s&&(R+=s,F=t.charAt(++D)),D++,R+=F;if((F=t.charAt(D))!==x)return;for(P=R,N+=R+F,D++;D<C&&(F=t.charAt(D),n(F));)N+=F,D++}else for(S="";D<C;){if((F=t.charAt(D))===x)w&&(R+=x+S,S=""),w=!0;else if(w){if(F===l){N+=R+x+S,P=R;break}n(F)?S+=F:(R+=x+S+F,S="",w=!1)}else R+=F;D++}if(t.charAt(D)===l)return!!r||(N+=l,M=this.decode.raw(this.unescape(M),e(y).test().end,{nonTerminated:!1}),P&&(b=e(b).test().end,P=this.decode.raw(this.unescape(P),b)),_={type:E?"image":"link",title:P||null,url:M},E?_.alt=this.decode.raw(this.unescape(O),A)||null:(I=this.enterLink(),_.children=this.tokenizeInline(O,A),I()),e(N)(_))}}}m['"']='"',m["'"]="'",m[u]=l},jq7G:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("FG9h"),i=r("94Iq"),o=r("Kird"),s=r("ZsRi"),a=r("PP+l"),c=r("8N7p"),u=r("fgBx"),l=r("Ec2+");t.LexicalAnalyzer2=class{constructor(e,t,r,u=!0){this.tokens=new Map,this.quantityTokens=new Map,this.aidToToken=new Map,this.pidToToken=new Map,this.lexicon=r,this.tokenizer=new n.Tokenizer(this.lexicon.termModel,this.lexicon.numberParser,u),this.lexicon.addDomain(c.generateAttributes(e)),this.lexicon.addDomain(c.generateProducts(e)),this.lexicon.addDomain(c.generateOptions(e)),this.lexicon.addDomain(s.generateRecipes(e));const{intents:l,quantifiers:p,stopwords:h,units:d}=function(e){const t={intents:[],quantifiers:[],stopwords:[],units:[]};for(const r of e)switch(r.name){case"QUANTITY":t.quantifiers.push(r);break;case"UNIT":t.units.push(r);break;case"UNKNOWNTOKEN":t.stopwords.push(r);break;default:t.intents.push(r)}return t}(t.lexicon);this.lexicon.addDomain(this.generateQuantifierAliases(p)),this.lexicon.addDomain(this.generateGeneralAliases(d)),this.lexicon.addDomain(this.generateGeneralAliases(l)),this.lexicon.addDomain(this.generateGeneralAliases(h)),this.lexicon.ingest(this.tokenizer);this.lexicon.ingest({addItem:e=>{const t=e.token;if(t.type===a.ENTITY){const e=this.pidToToken.get(t.pid);if(e){if(t!==e){const e=`indexEntityTokens: tokens must be unique  (pid=${t.pid}).`;throw TypeError(e)}}else this.pidToToken.set(t.pid,t)}else if(t.type===i.OPTION){const e=this.pidToToken.get(t.id);if(e){if(t!==e){const e=`indexEntityTokens: tokens must be unique  (pid=${t.id}).`;throw TypeError(e)}}else this.pidToToken.set(t.id,t)}else if(t.type===o.ATTRIBUTE){const e=this.aidToToken.get(t.id);if(e){if(t!==e){const e=`indexAttributeTokens: tokens must be unique  (aid=${t.id}).`;throw TypeError(e)}}else this.aidToToken.set(t.id,t)}}})}getEntityToken(e){const t=this.pidToToken.get(e);if(!t){throw TypeError(`getEntityToken(): unknown PID ${e}.`)}return t}getAttributeToken(e){const t=this.aidToToken.get(e);if(!t){throw TypeError(`getAttributeToken(): unknown AID ${e}.`)}return t}createGraph(e){const t=this.lexicon.termModel.breakWords(e).map(this.lexicon.termModel.stem),r=t.map(this.lexicon.termModel.hashTerm);return this.tokenizer.generateGraph(r,t)}*generateGeneralAliases(e){for(const t of e){const e=Symbol.for(t.name);let r=this.tokens.get(e);r||(r={type:e},this.tokens.set(e,r));for(const n of t.aliases){const e=u.matcherFromExpression(n),t=u.patternFromExpression(n);for(const n of i.aliasesFromPattern(t))yield{token:r,text:n,matcher:e}}}}*generateQuantifierAliases(e){for(const t of e){if(void 0===t.value){throw new TypeError("QUANTITY must specify a value.")}let e=this.quantityTokens.get(t.value);e||(e=l.createQuantity(t.value),this.quantityTokens.set(t.value,e));for(const r of t.aliases){const t=u.matcherFromExpression(r),n=u.patternFromExpression(r);for(const r of i.aliasesFromPattern(n))yield{token:e,text:r,matcher:t}}}}}},jwcd:function(e,t,r){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.NONE=0]="NONE",e[e.DELETE_A=1]="DELETE_A",e[e.INSERT_A=2]="INSERT_A",e[e.REPAIR_A=3]="REPAIR_A"}(n=t.EditOp||(t.EditOp={}));const i={op:n.NONE,cost:0,steps:[]};class o{constructor(e,t){this.edit=e,this.cost=t+e.cost}update(e,t){const r=t+e.cost;r<this.cost&&(this.edit=e,this.cost=r)}}class s{constructor(e,t,r){this.matrix=[],this.result={cost:0,edits:[]},this.edits=e,this.a=t,this.b=r,this.initializeFirstRowAndColumn(),this.forwardPropagate(),this.tracePath()}initializeFirstRowAndColumn(){const e=this.a.length,t=this.b.length;this.matrix=new Array(t+1).fill([]);for(let r=0;r<=t;++r){const t=new Array(e+1);if(0===r){t[0]=new o(i,0);for(let r=1;r<=e;++r){const e=this.edits.delete(this.a[r-1]);t[r]=new o(e,t[r-1].cost)}this.matrix[r]=t}else{const e=this.edits.insert(this.b[r-1]);t[0]=new o(e,this.matrix[r-1][0].cost),this.matrix[r]=t}}}forwardPropagate(){const e=this.a.length,t=this.b.length;for(let r=1;r<=t;++r)for(let t=1;t<=e;++t){const e=this.a[t-1],n=this.b[r-1],i=new o(this.edits.delete(e),this.matrix[r][t-1].cost);i.update(this.edits.insert(n),this.matrix[r-1][t].cost),i.update(this.edits.repair(e,n),this.matrix[r-1][t-1].cost),this.matrix[r][t]=i}}tracePath(){const e=[];let t=this.a.length,r=this.b.length,i=this.matrix[r][t];const o=i.cost;for(;i.edit.op!==n.NONE;){switch(i.edit.op){case n.DELETE_A:e.unshift(i.edit),t--;break;case n.INSERT_A:e.unshift(i.edit),r--;break;case n.REPAIR_A:i.edit.cost>0&&e.unshift(i.edit),t--,r--;break;default:throw new TypeError("Internal error")}i=this.matrix[r][t]}this.result={edits:e,cost:o}}}t.treeDiff=function(e,t,r){return new s(e,t,r).result}},k5Ie:function(e,t){const r=[{lexicon:[{name:"PROLOGUE",aliases:["(ok,okay,yes,yeah) [so]","(all right,alright)","let's see","(hello,hi) [there]"]},{name:"EPILOGUE",aliases:["I'm (done,good,ready)","thank you","thanks","that's (all,everything,it)","(that'll,that will,that should) (be,do) (all,everything,it)","bye","okay"]},{name:"JUNK",aliases:[]},{name:"PREPOSITION",aliases:["to [have]","(for,in,to) (the,that,your,be)","that [to]","from [the,that,those]"]},{name:"ADD_TO_ORDER",aliases:["(I'd,I would) [also] like","(I'll,I will) [also] (do,get,have,take)","I (need,wanna,want)","(get,give) me","(can,could,may) (I,we,you,y'all) [just,please] [also] (do,get,get me,get us,have,add)","[please] set me up with","[please] hook me up with","we need","we want","(we'd,we would) [also] like","(we'll, we will) [also] have","how about","[please,also] add"]},{name:"REMOVE_ITEM",aliases:["[can we,can you,would you,i want to,i'd like to,please] (cancel,delete,drop,eighty six,lose,remove,removed,skip,take off,take away) [the]"]},{name:"MODIFY_ITEM",aliases:["[can we,can you,would you,i want to,i'd like to,please] (make,modify,change,replace) [the]"]},{name:"CONJUNCTION",aliases:["also","and","with"]},{name:"SEPERATOR",aliases:["ah","oh","uh","um","please","I don't know","one more"]},{name:"UNIT",aliases:["shot [of]","pump [of]","shakes [of]","sprinkles [of]","splash [of]","squirt [of]","drop [of]","dollop [of]","(pack,packet,package) [of]","order [of]","dash [of]"]},{name:"UNKNOWNTOKEN",aliases:["for","that","i","we","i've"]},{name:"QUANTITY",value:1,aliases:["an"]},{name:"QUANTITY",value:2,aliases:["couple"]}],replacers:[{name:"metaphone",replacements:[["to","T-0"],["two","T-0"],["white","WT"]]},{name:"singularize",replacements:[]},{name:"snowball",replacements:[["iced","iced"]]}]}];e.exports=r.length<=1?r[0]:r},"kVK+":function(e,t){t.read=function(e,t,r,n,i){var o,s,a=8*i-n-1,c=(1<<a)-1,u=c>>1,l=-7,p=r?i-1:0,h=r?-1:1,d=e[t+p];for(p+=h,o=d&(1<<-l)-1,d>>=-l,l+=a;l>0;o=256*o+e[t+p],p+=h,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=n;l>0;s=256*s+e[t+p],p+=h,l-=8);if(0===o)o=1-u;else{if(o===c)return s?NaN:1/0*(d?-1:1);s+=Math.pow(2,n),o-=u}return(d?-1:1)*s*Math.pow(2,o-n)},t.write=function(e,t,r,n,i,o){var s,a,c,u=8*o-i-1,l=(1<<u)-1,p=l>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:o-1,f=n?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=l):(s=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-s))<1&&(s--,c*=2),(t+=s+p>=1?h/c:h*Math.pow(2,1-p))*c>=2&&(s++,c/=2),s+p>=l?(a=0,s=l):s+p>=1?(a=(t*c-1)*Math.pow(2,i),s+=p):(a=t*Math.pow(2,p-1)*Math.pow(2,i),s=0));i>=8;e[r+d]=255&a,d+=f,a/=256,i-=8);for(s=s<<i|a,u+=i;u>0;e[r+d]=255&s,d+=f,s/=256,u-=8);e[r+d-f]|=128*m}},kaWx:function(e,t,r){"use strict";var n=r("JqBK");e.exports=function(e){return n(e).toLowerCase()}},lF2U:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("qxDt");t.AggregatedResults=n.AggregatedResults,t.RelevanceSuite=n.RelevanceSuite,t.TestCase=n.TestCase},lNfg:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.stemmerConfusionMatrix=function(e){const t={},r=e.terms();for(const n of r){const r=e.termModel.stem(n);void 0===t[r]&&(t[r]=new Set),t[r].add(n)}return t}},lqU6:function(e,t,r){"use strict";r.d(t,"b",(function(){return n})),r.d(t,"a",(function(){return s}));var n,i=r("ahYF"),o=r("YonC");!function(e){e[e.Text=0]="Text",e[e.Binary=1]="Binary"}(n||(n={}));class s{constructor(e,t,r,s){if(this.privBody=null,e===n.Text&&t&&"string"!==typeof t)throw new i.b("Payload must be a string");if(e===n.Binary&&t&&!(t instanceof ArrayBuffer))throw new i.b("Payload must be ArrayBuffer");switch(this.privMessageType=e,this.privBody=t,this.privHeaders=r||{},this.privId=s||Object(o.a)(),this.messageType){case n.Binary:this.privSize=null!==this.binaryBody?this.binaryBody.byteLength:0;break;case n.Text:this.privSize=this.textBody.length}}get messageType(){return this.privMessageType}get headers(){return this.privHeaders}get body(){return this.privBody}get textBody(){if(this.privMessageType===n.Binary)throw new i.b("Not supported for binary message");return this.privBody}get binaryBody(){if(this.privMessageType===n.Text)throw new i.b("Not supported for text message");return this.privBody}get id(){return this.privId}}},lssG:function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r("9pGh")),n(r("U+nO")),n(r("mzAn")),n(r("9hxa")),n(r("fexD")),n(r("ySIl")),n(r("EluT")),n(r("citZ")),n(r("RO8d")),n(r("4WQa"))},"lv/t":function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r("8lot")),n(r("1S24"))},"m/lV":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("eDuk"),i=r("NOtv"),o=r("ZR4k"),s=r("GhNO"),a=i("so:itemMapFromYamlString"),c=(new n).compile({$schema:"http://json-schema.org/draft-07/schema#",definitions:{AttributeDescription:{properties:{aid:{type:"number"},aliases:{items:{type:"string"},type:"array"},hidden:{type:"boolean"},name:{type:"string"}},required:["aid","aliases","name"],type:"object"},DimensionDescription:{properties:{did:{type:"number"},attributes:{items:{$ref:"#/definitions/AttributeDescription"},type:"array"},name:{type:"string"}},required:["did","attributes","name"],type:"object"},TensorDescription:{properties:{dimensions:{items:{type:"number"},type:"array"},tid:{type:"number"},name:{type:"string"}},required:["dimensions","tid","name"],type:"object"}},properties:{dimensions:{items:{$ref:"#/definitions/DimensionDescription"},type:"array"},tensors:{items:{$ref:"#/definitions/TensorDescription"},type:"array"}},required:["dimensions","tensors"],type:"object"});t.itemsFromAttributes=function*(e){for(const t of e.dimensions)for(const e of t.attributes)yield e},t.attributesFromYamlString=function(e){const t=o.safeLoad(e);if(!c(t)){const e="attributesFromYamlString: yaml data does not conform to schema.";throw a(e),a(c.errors),new s.YAMLValidationError(e,[])}return t}},m2n9:function(e){e.exports=JSON.parse('{"AElig":"\xc6","AMP":"&","Aacute":"\xc1","Acirc":"\xc2","Agrave":"\xc0","Aring":"\xc5","Atilde":"\xc3","Auml":"\xc4","COPY":"\xa9","Ccedil":"\xc7","ETH":"\xd0","Eacute":"\xc9","Ecirc":"\xca","Egrave":"\xc8","Euml":"\xcb","GT":">","Iacute":"\xcd","Icirc":"\xce","Igrave":"\xcc","Iuml":"\xcf","LT":"<","Ntilde":"\xd1","Oacute":"\xd3","Ocirc":"\xd4","Ograve":"\xd2","Oslash":"\xd8","Otilde":"\xd5","Ouml":"\xd6","QUOT":"\\"","REG":"\xae","THORN":"\xde","Uacute":"\xda","Ucirc":"\xdb","Ugrave":"\xd9","Uuml":"\xdc","Yacute":"\xdd","aacute":"\xe1","acirc":"\xe2","acute":"\xb4","aelig":"\xe6","agrave":"\xe0","amp":"&","aring":"\xe5","atilde":"\xe3","auml":"\xe4","brvbar":"\xa6","ccedil":"\xe7","cedil":"\xb8","cent":"\xa2","copy":"\xa9","curren":"\xa4","deg":"\xb0","divide":"\xf7","eacute":"\xe9","ecirc":"\xea","egrave":"\xe8","eth":"\xf0","euml":"\xeb","frac12":"\xbd","frac14":"\xbc","frac34":"\xbe","gt":">","iacute":"\xed","icirc":"\xee","iexcl":"\xa1","igrave":"\xec","iquest":"\xbf","iuml":"\xef","laquo":"\xab","lt":"<","macr":"\xaf","micro":"\xb5","middot":"\xb7","nbsp":"\xa0","not":"\xac","ntilde":"\xf1","oacute":"\xf3","ocirc":"\xf4","ograve":"\xf2","ordf":"\xaa","ordm":"\xba","oslash":"\xf8","otilde":"\xf5","ouml":"\xf6","para":"\xb6","plusmn":"\xb1","pound":"\xa3","quot":"\\"","raquo":"\xbb","reg":"\xae","sect":"\xa7","shy":"\xad","sup1":"\xb9","sup2":"\xb2","sup3":"\xb3","szlig":"\xdf","thorn":"\xfe","times":"\xd7","uacute":"\xfa","ucirc":"\xfb","ugrave":"\xf9","uml":"\xa8","uuml":"\xfc","yacute":"\xfd","yen":"\xa5","yuml":"\xff"}')},m5n7:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r("OWJ2"))},mFeN:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("Po9p"),i=r("33yf"),o=r("dhqo"),s=r("PGEU"),a=r("Xi+Q");r("EZd0");function c(e){return d(i.join(e,"snowball.csv"),s.newStemmer("english").stem)}function u(e){return d(i.join(e,"metaphone.csv"),e=>a(e))}function l(e){const t=d(i.join(e,"singularize.csv"),o.singular);return d(i.join(e,"metaphone.csv"),e=>a(t(e)))}function p(e){return e=>e}function h(e){return d(i.join(e,"singularize.csv"),o.singular)}function d(e,t){const r=n.readFileSync(e).toString().match(/[^\r\n]+/g),i=new Map;if(r){let t=0;for(const n of r){++t;n.trim();if(n.length>0&&!n.startsWith("#")&&!n.startsWith("//")){const r=n.split(",");if(2===r.length){const e=r[0].trim(),t=r[1].trim();if(e.length>0&&t.length>0&&!i.has(e)){i.set(e,t);continue}}throw TypeError(`${e}: ${t} - expected "original,replacement" fields`)}}}return e=>{const r=i.get(e);return r||t(e)}}t.StemmerFactory=class{constructor(e){this.stemmerDescriptions=[{name:"snowball",description:"snowball v2 stemmer",create:c},{name:"metaphone",description:"double metaphone",create:u},{name:"hybrid",description:"double metaphone with singularization",create:l},{name:"nop",description:"nop stemmer - does nothing",create:p},{name:"singularizer",description:"singularize only",create:h}],this.nameToStemmer=new Map,this.dataPath=e;for(const t of this.stemmerDescriptions)this.register(t)}register(e){this.nameToStemmer.set(e.name,e)}*stemmers(){return this.nameToStemmer.values()}create(e){e||(e=this.stemmerDescriptions[0].name);const t=this.nameToStemmer.get(e);if(t)return t.create(this.dataPath);const r=[...this.nameToStemmer.keys()].join(",");throw TypeError(`Unknown stemmer ${e}. Available stemmers: ${r}`)}}},mQYA:function(e,t,r){"use strict";e.exports=function(e,t,r){var n,i=" ",o=e.level,s=e.dataLevel,a=e.schema[t],c=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,p="data"+(s||""),h=e.opts.$data&&a&&a.$data;h?(i+=" var schema"+o+" = "+e.util.getData(a.$data,s,e.dataPathArr)+"; ",n="schema"+o):n=a;var d="maxLength"==t?">":"<";i+="if ( ",h&&(i+=" ("+n+" !== undefined && typeof "+n+" != 'number') || "),!1===e.opts.unicode?i+=" "+p+".length ":i+=" ucs2length("+p+") ",i+=" "+d+" "+n+") { ";var f=t,m=m||[];m.push(i),i="",!1!==e.createErrors?(i+=" { keyword: '"+(f||"_limitLength")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { limit: "+n+" } ",!1!==e.opts.messages&&(i+=" , message: 'should NOT be ",i+="maxLength"==t?"longer":"shorter",i+=" than ",i+=h?"' + "+n+" + '":""+a,i+=" characters' "),e.opts.verbose&&(i+=" , schema:  ",i+=h?"validate.schema"+c:""+a,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+p+" "),i+=" } "):i+=" {} ";var v=i;return i=m.pop(),!e.compositeRule&&l?e.async?i+=" throw new ValidationError(["+v+"]); ":i+=" validate.errors = ["+v+"]; return false; ":i+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",l&&(i+=" else { "),i}},my8H:function(e,t,r){"use strict";e.exports=function(e){var t,r=0,i=0,o=e.charAt(r),s={};for(;o in n;)t=n[o],i+=t,t>1&&(i=Math.floor(i/t)*t),s[i]=r,o=e.charAt(++r);return{indent:i,stops:s}};var n={" ":1,"\t":4}},mzAn:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("94Iq"),i=r("FG9h"),o=r("nNxe"),s=r("RO8d");class a{constructor(e,t,r){this.didToAID=new Map,this.tokensUsed=0,this.quantity=1,this.aids=[],this.options=[],this.optionTokenCounts=[],this.cartOps=e.cartOps,this.catalog=e.catalog,this.cookbook=e.cookbook,this.info=e.attributes,this.rules=e.rules,this.generateRegexOptions=r,this.pid=t,this.tokensUsed+=1}getScore(){return this.tokensUsed}processLeft(e,t){this.processConjunction(e),(this.processQuantity(e)||t)&&this.processRemaining(e),this.tokensUsed+=e.tokensUsed}processRight(e){this.processRemaining(e),this.tokensUsed+=e.tokensUsed}processRemaining(e){for(;!e.atEOS()&&(this.processConjunction(e),!e.atEOS());)this.processOption(e)||this.processAttribute(e)||e.discard(1);return!0}processConjunction(e){return!!e.startsWith([o.CONJUNCTION])&&(e.take(1),!0)}processQuantity(e){if(e.startsWith([i.NUMBERTOKEN])){const t=e.peek(0);return this.quantity=t.value,e.take(1),!0}if(e.startsWith([o.QUANTITY])){const t=e.peek(0);return this.quantity=t.value,e.take(1),!0}return!1}processOption(e){if(e.startsWith([o.OPTION_RECIPE])){const t=e.peek(0),r=this.cookbook.findOptionRecipe(t.rid,"TODO"),n=this.cartOps.createItemsFromOptionRecipe(r);return this.options.push(...n),this.optionTokenCounts.push(1),e.take(1),!0}if(e.startsWith([o.ATTRIBUTE,n.OPTION])){const t=e.peek(0),r=e.peek(1),i=this.info.getTensorForEntity(r.id),o=this.info.getAttributeCoordinates(t.id);if(n.AttributeInfo.hasDimension(i,o.dimension.did)){const n=this.cartOps.createItem(1,r.id,[t.id].values(),[].values(),this.generateRegexOptions);return this.options.push(n),this.optionTokenCounts.push(2),e.take(2),!0}return!1}if(e.startsWith([i.NUMBERTOKEN,o.UNIT,n.OPTION])){const t=e.peek(0),r=e.peek(2),n=this.cartOps.createItem(t.value,r.id,[].values(),[].values(),this.generateRegexOptions);return this.options.push(n),this.optionTokenCounts.push(3),e.take(3),!0}if(e.startsWith([i.NUMBERTOKEN,n.OPTION])){const t=e.peek(0),r=e.peek(1),n=this.cartOps.createItem(t.value,r.id,[].values(),[].values(),this.generateRegexOptions);return this.options.push(n),this.optionTokenCounts.push(2),e.take(2),!0}if(e.startsWith([n.OPTION])){const t=e.peek(0),r=this.cartOps.createItem(1,t.id,[].values(),[].values(),this.generateRegexOptions);return this.options.push(r),this.optionTokenCounts.push(1),e.take(1),!0}return!1}processAttribute(e){if(e.startsWith([o.ATTRIBUTE])){const t=e.peek(0),r=this.info.getTensorForEntity(this.pid),i=this.info.getAttributeCoordinates(t.id);return n.AttributeInfo.hasDimension(r,i.dimension.did)&&!this.didToAID.has(i.dimension.did)?(this.didToAID.set(i.dimension.did,t.id),this.aids.push(t.id),e.take(1),!0):(e.discard(1),!0)}return!1}filterIllegalOptions(e){const t=[];for(const[i,o]of this.options.entries())this.rules.isValidChild(e.key,o.key)&&this.catalog.hasKey(o.key)?t.push(o):this.tokensUsed-=this.optionTokenCounts[i];const r=this.rules.getIncrementalMutualExclusionPredicate(e.key),n=[];for(const[i,o]of t.entries())r(o.key)?n.push(o):this.tokensUsed-=this.optionTokenCounts[i];return n}}t.EntityBuilderBase=a;t.EntityBuilder=class extends a{constructor(e,t){super(e,t.entity,!1),this.processLeft(new s.TokenSequence(t.left),!1),this.processRight(new s.TokenSequence(t.right));const r=this.cartOps.createItem(this.quantity,this.pid,this.aids.values(),[].values(),!1),n=this.filterIllegalOptions(r);this.item=Object.assign(Object.assign({},r),{children:n})}getItem(){return this.item}};t.TargetBuilder=class extends a{constructor(e,t,r,n){super(e,r,!1),this.processRight(new s.TokenSequence(t)),this.processRight(new s.TokenSequence(n));const i=this.cartOps.createItem(this.quantity,this.pid,this.aids.values(),[].values(),!0);this.item=Object.assign(Object.assign({},i),{children:this.options})}getItem(){return this.item}};t.OptionTargetBuilder=class extends a{constructor(e,t){super(e,0,!0),this.processRight(new s.TokenSequence(t))}getOption(){return this.options.length>0?this.options[0]:void 0}};t.ModificationBuilder=class extends a{constructor(e,t,r,i){super(e,n.AttributeInfo.pidFromKey(t.key),!1),this.processRight(new s.TokenSequence(r));let o=this.cartOps.changeItemAttributes(Object.assign(Object.assign({},t),{children:[]}),this.aids.values());const a=this.filterIllegalOptions(o);for(const n of t.children)this.rules.isValidChild(o.key,n.key)&&(o=this.cartOps.addToItem(o,n));for(const n of a)this.rules.isValidChild(o.key,n.key)&&(o=this.cartOps.addToItemWithReplacement(o,n,i));this.item=o}getItem(){return this.item}};t.ReplacementBuilder=class extends a{constructor(e,t,r){super(e,r.entity,!1),this.processLeft(new s.TokenSequence(r.left),!1),this.processRight(new s.TokenSequence(r.right));let n=this.cartOps.createItem(this.quantity,this.pid,this.aids.values(),[].values(),!1);const i=this.filterIllegalOptions(n);for(const o of t.children)this.rules.isValidChild(n.key,o.key)&&(n=this.cartOps.addToItem(n,o));for(const o of i)this.rules.isValidChild(n.key,o.key)&&(n=this.cartOps.addToItemWithReplacement(n,o,!1));this.item=n}getItem(){return this.item}}},"n+SQ":function(e,t,r){"use strict";var n=r("+9rK"),i=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,o=[0,31,28,31,30,31,30,31,31,30,31,30,31],s=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i,a=/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,c=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,u=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,l=/^(?:(?:http[s\u017F]?|ftp):\/\/)(?:(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+(?::(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?@)?(?:(?!10(?:\.[0-9]{1,3}){3})(?!127(?:\.[0-9]{1,3}){3})(?!169\.254(?:\.[0-9]{1,3}){2})(?!192\.168(?:\.[0-9]{1,3}){2})(?!172\.(?:1[6-9]|2[0-9]|3[01])(?:\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-?)*(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)(?:\.(?:(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-?)*(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)*(?:\.(?:(?:[KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\/(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?$/i,p=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,h=/^(?:\/(?:[^~/]|~0|~1)*)*$/,d=/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,f=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/;function m(e){return e="full"==e?"full":"fast",n.copy(m[e])}function v(e){var t=e.match(i);if(!t)return!1;var r=+t[1],n=+t[2],s=+t[3];return n>=1&&n<=12&&s>=1&&s<=(2==n&&function(e){return e%4===0&&(e%100!==0||e%400===0)}(r)?29:o[n])}function g(e,t){var r=e.match(s);if(!r)return!1;var n=r[1],i=r[2],o=r[3],a=r[5];return(n<=23&&i<=59&&o<=59||23==n&&59==i&&60==o)&&(!t||a)}e.exports=m,m.fast={date:/^\d\d\d\d-[0-1]\d-[0-3]\d$/,time:/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,"date-time":/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,uri:/^(?:[a-z][a-z0-9+-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,"uri-template":u,url:l,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,hostname:a,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:w,uuid:p,"json-pointer":h,"json-pointer-uri-fragment":d,"relative-json-pointer":f},m.full={date:v,time:g,"date-time":function(e){var t=e.split(y);return 2==t.length&&v(t[0])&&g(t[1],!0)},uri:function(e){return b.test(e)&&c.test(e)},"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":u,url:l,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:a,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:w,uuid:p,"json-pointer":h,"json-pointer-uri-fragment":d,"relative-json-pointer":f};var y=/t|\s/i;var b=/\/|:/;var S=/[^\\]\\Z/;function w(e){if(S.test(e))return!1;try{return new RegExp(e),!0}catch(t){return!1}}},nLKB:function(e,t,r){"use strict";var n=r("U6jy"),i=r("MQ5/"),o=r("0lR2");e.exports=function(e){var t,r,s=this.options;if(null==e)e={};else{if("object"!==typeof e)throw new Error("Invalid value `"+e+"` for setting `options`");e=n(e)}for(t in o){if(null==(r=e[t])&&(r=s[t]),"blocks"!==t&&"boolean"!==typeof r||"blocks"===t&&"object"!==typeof r)throw new Error("Invalid value `"+r+"` for setting `options."+t+"`");e[t]=r}return this.options=e,this.escape=i(e),this}},nNxe:function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r("Kird")),n(r("ZsRi")),n(r("PP+l")),n(r("Gq3L")),n(r("Jl3M")),n(r("8N7p")),n(r("jq7G")),n(r("fgBx")),n(r("8AIY")),n(r("Ec2+")),n(r("K+qJ")),n(r("4oak"))},nc5S:function(e,t,r){"use strict";e.exports=a;var n=r("Zasy"),i=!0,o="skip",s=!1;function a(e,t,r,i){var a;function u(e,n,l){var p,h=[];return(t&&!a(e,n,l[l.length-1]||null)||(h=c(r(e,l)))[0]!==s)&&e.children&&h[0]!==o&&(p=c(function(e,t){var r,n=i?-1:1,o=(i?e.length:-1)+n;for(;o>-1&&o<e.length;){if((r=u(e[o],o,t))[0]===s)return r;o="number"===typeof r[1]?r[1]:o+n}}(e.children,l.concat(e))))[0]===s?p:h}"function"===typeof t&&"function"!==typeof r&&(i=r,r=t,t=null),a=n(t),u(e,null,[])}function c(e){return null!==e&&"object"===typeof e&&"length"in e?e:"number"===typeof e?[i,e]:[e]}a.CONTINUE=i,a.SKIP=o,a.EXIT=s},nlTJ:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("eDuk"),i=r("ZR4k"),o=r("GhNO"),s=(new n).compile({$schema:"http://json-schema.org/draft-07/schema#",definitions:{CategoryInfo:{properties:{qtyInfo:{$ref:"#/definitions/DownstreamQuantity"},validOptions:{items:{type:"number"},type:"array"}},required:["qtyInfo","validOptions"],type:"object"},DownstreamQuantity:{additionalProperties:{$ref:"#/definitions/QuantityInformation"},type:"object"},PartialRule:{properties:{exclusionZones:{additionalProperties:!1,patternProperties:{"^[0-9]+$":{items:{type:"number"},type:"array"}},type:"object"},partialKey:{description:"A type alias to keep various concepts delineated.\n\nEach specific product such as `small strawberry milkshake` or `large decaf`\n`iced coffee` will have its own unique Key. The Key is a tensor where the\nfirst dimesnion is a generic product's PID, and any other dimensions\ndetermine which attributes are added.",type:"string"},specificExceptions:{items:{type:"string"},type:"array"},validCategoryMap:{additionalProperties:!1,patternProperties:{"^[0-9]+$":{$ref:"#/definitions/CategoryInfo"}},type:"object"}},required:["exclusionZones","partialKey","specificExceptions","validCategoryMap"],type:"object"},QuantityInformation:{properties:{defaultQty:{type:"number"},maxQty:{type:"number"},minQty:{type:"number"}},required:["defaultQty","maxQty","minQty"],type:"object"}},description:"The shape of the `rule.yaml` file.",properties:{rules:{items:{$ref:"#/definitions/PartialRule"},type:"array"}},required:["rules"],type:"object"});t.validateRuleConfig=e=>{if(!s(e)){const e="validateRuleConfig: Invalid `rules.yaml` config file.";throw console.error(e),console.error(s.errors),new o.YAMLValidationError(e,[])}},t.loadRuleConfig=function(e){const r=i.safeLoad(e);return t.validateRuleConfig(r),r}},nmnc:function(e,t,r){var n=r("Kz5y").Symbol;e.exports=n},oOnu:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r("F5Co"))},oXoU:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.PeekableSequence=class{constructor(e){this.iterator=e,this.current=this.iterator.next()}peek(){if(this.current.done)throw TypeError("PeekableSequence<T>.peek(): at end of stream.");return this.current.value}get(){if(this.current.done)throw TypeError("PeekableSequence<T>.get(): at end of stream.");{const e=this.current.value;return this.current=this.iterator.next(),e}}atEOF(){return this.current.done}skip(e){return!this.atEOF()&&this.peek()===e&&(this.get(),!0)}nextIs(e){return!this.atEOF()&&this.peek()===e}}},obXZ:function(e,t,r){"use strict";e.exports=function(e){return i.test("number"===typeof e?n(e):e.charAt(0))};var n=String.fromCharCode,i=/\w/},"oe+u":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("gbKz"),i=[[/&/g," and "],[/%/g," percent "],[/oz/g," ounce "],[/#s/g," pounds "],[/#/g," pound "],[/lbs/g," pounds"],[/lb/g," pound"],[/w\//g," with "],[/[\u2018\u2019]/g,"'"],[/[\u201C\u201D]/g,'"'],[/[,\.\?\!"\-\(\)]/g," "],[/\bokay\b/g,"ok"],[/\bdr\b/g,"doctor"],[/\b1\/2\b/g,"one half"],[/\b1\/3\b/g,"one third"],[/\b1\/4\b/g,"one quarter"],[/\bblt\b/g,"b l t"],[/\bpbj\b/g,"p b j"],[/\bpb\b/g,"p b"]];t.speechToTextFilter=function(e){let t=e.toLowerCase();for(const[r,n]of i)t=t.replace(r,n);return t.trim().split(/\s+/).map(e=>{if(/^\d+$/.test(e)){return n.toWords(Number(e)).replace("-"," ").replace(",","")}return e}).join(" ")}},ohnt:function(e,t,r){!function(){function t(e,t){var r,n,i,o,s,a,c,u;for(r=3&e.length,n=e.length-r,i=t,s=3432918353,a=461845907,u=0;u<n;)c=255&e.charCodeAt(u)|(255&e.charCodeAt(++u))<<8|(255&e.charCodeAt(++u))<<16|(255&e.charCodeAt(++u))<<24,++u,i=27492+(65535&(o=5*(65535&(i=(i^=c=(65535&(c=(c=(65535&c)*s+(((c>>>16)*s&65535)<<16)&4294967295)<<15|c>>>17))*a+(((c>>>16)*a&65535)<<16)&4294967295)<<13|i>>>19))+((5*(i>>>16)&65535)<<16)&4294967295))+((58964+(o>>>16)&65535)<<16);switch(c=0,r){case 3:c^=(255&e.charCodeAt(u+2))<<16;case 2:c^=(255&e.charCodeAt(u+1))<<8;case 1:i^=c=(65535&(c=(c=(65535&(c^=255&e.charCodeAt(u)))*s+(((c>>>16)*s&65535)<<16)&4294967295)<<15|c>>>17))*a+(((c>>>16)*a&65535)<<16)&4294967295}return i^=e.length,i=2246822507*(65535&(i^=i>>>16))+((2246822507*(i>>>16)&65535)<<16)&4294967295,i=3266489909*(65535&(i^=i>>>13))+((3266489909*(i>>>16)&65535)<<16)&4294967295,(i^=i>>>16)>>>0}var r=t;r.v2=function(e,t){for(var r,n=e.length,i=t^n,o=0;n>=4;)r=1540483477*(65535&(r=255&e.charCodeAt(o)|(255&e.charCodeAt(++o))<<8|(255&e.charCodeAt(++o))<<16|(255&e.charCodeAt(++o))<<24))+((1540483477*(r>>>16)&65535)<<16),i=1540483477*(65535&i)+((1540483477*(i>>>16)&65535)<<16)^(r=1540483477*(65535&(r^=r>>>24))+((1540483477*(r>>>16)&65535)<<16)),n-=4,++o;switch(n){case 3:i^=(255&e.charCodeAt(o+2))<<16;case 2:i^=(255&e.charCodeAt(o+1))<<8;case 1:i=1540483477*(65535&(i^=255&e.charCodeAt(o)))+((1540483477*(i>>>16)&65535)<<16)}return i=1540483477*(65535&(i^=i>>>13))+((1540483477*(i>>>16)&65535)<<16),(i^=i>>>15)>>>0},r.v3=t,e.exports=r}()},onlc:function(e,t,r){var n=r("t1N5");function i(e){var t=function(){for(var e={},t=Object.keys(n),r=t.length,i=0;i<r;i++)e[t[i]]={distance:-1,parent:null};return e}(),r=[e];for(t[e].distance=0;r.length;)for(var i=r.pop(),o=Object.keys(n[i]),s=o.length,a=0;a<s;a++){var c=o[a],u=t[c];-1===u.distance&&(u.distance=t[i].distance+1,u.parent=i,r.unshift(c))}return t}function o(e,t){return function(r){return t(e(r))}}function s(e,t){for(var r=[t[e].parent,e],i=n[t[e].parent][e],s=t[e].parent;t[s].parent;)r.unshift(t[s].parent),i=o(n[t[s].parent][s],i),s=t[s].parent;return i.conversion=r,i}e.exports=function(e){for(var t=i(e),r={},n=Object.keys(t),o=n.length,a=0;a<o;a++){var c=n[a];null!==t[c].parent&&(r[c]=s(c,t))}return r}},ovPo:function(e,t){const r=[{lexicon:[{name:"PROLOGUE",aliases:["hola","bueno","em"]},{name:"EPILOGUE",aliases:["es todo","gracias","nada mas","adi\xf3s"]},{name:"JUNK",aliases:[]},{name:"PREPOSITION",aliases:["(en,para) [el,la]","del","de [la]"]},{name:"ADD_TO_ORDER",aliases:["[adem\xe1s,tambi\xe9n] [yo] (quiero,deseo)","podria tener","queremos","deseamos","tomar","d\xe1me","quiero","por favor"]},{name:"REMOVE_ITEM",aliases:["[podemos,queremos,puedo,quiero,puedes,quisiera,podr\xeda] (eliminar,deshacernos de)","no [quiero,queremos]"]},{name:"MODIFY_ITEM",aliases:["[podemos,queremos,puedo,quiero,puedes,quisiera,podr\xeda] (modificar,cambiar,reemplazar) [the]"]},{name:"CONJUNCTION",aliases:["(tambi\xe9n,adem\xe1s)","y","con"]},{name:"SEPERATOR",aliases:["ah","oh","uh","um","eh","por favor","no s\xe9","uno mad"]},{name:"UNIT",aliases:["chorro [de]","carga [de]","bomba [de]","batido [de]","pizca [de]","poco [de]","gota [de]","cucharada [de]","(bolsita) [de]","orden [de]","taza [de]"]},{name:"UNKNOWNTOKEN",aliases:["para","que","yo","nosotros"]},{name:"QUANTITY",value:1,aliases:["uno","un","una"]},{name:"QUANTITY",value:2,aliases:["dos","par de"]}],replacers:[{name:"metaphone",replacements:[["to","T-0"],["two","T-0"],["white","WT"]]},{name:"singularize",replacements:[]},{name:"snowball",replacements:[["iced","iced"]]}]}];e.exports=r.length<=1?r[0]:r},"pJ3+":function(e,t,r){var n;!function(i,o,s){var a,c=256,u=6,l="random",p=s.pow(c,u),h=s.pow(2,52),d=2*h,f=c-1;function m(e,t,r){var n=[],f=y(function e(t,r){var n,i=[],o=typeof t;if(r&&"object"==o)for(n in t)try{i.push(e(t[n],r-1))}catch(s){}return i.length?i:"string"==o?t:t+"\0"}((t=1==t?{entropy:!0}:t||{}).entropy?[e,b(o)]:null==e?function(){try{var e;return a&&(e=a.randomBytes)?e=e(c):(e=new Uint8Array(c),(i.crypto||i.msCrypto).getRandomValues(e)),b(e)}catch(n){var t=i.navigator,r=t&&t.plugins;return[+new Date,i,r,i.screen,b(o)]}}():e,3),n),m=new v(n),S=function(){for(var e=m.g(u),t=p,r=0;e<h;)e=(e+r)*c,t*=c,r=m.g(1);for(;e>=d;)e/=2,t/=2,r>>>=1;return(e+r)/t};return S.int32=function(){return 0|m.g(4)},S.quick=function(){return m.g(4)/4294967296},S.double=S,y(b(m.S),o),(t.pass||r||function(e,t,r,n){return n&&(n.S&&g(n,m),e.state=function(){return g(m,{})}),r?(s[l]=e,t):e})(S,f,"global"in t?t.global:this==s,t.state)}function v(e){var t,r=e.length,n=this,i=0,o=n.i=n.j=0,s=n.S=[];for(r||(e=[r++]);i<c;)s[i]=i++;for(i=0;i<c;i++)s[i]=s[o=f&o+e[i%r]+(t=s[i])],s[o]=t;(n.g=function(e){for(var t,r=0,i=n.i,o=n.j,s=n.S;e--;)t=s[i=f&i+1],r=r*c+s[f&(s[i]=s[o=f&o+t])+(s[o]=t)];return n.i=i,n.j=o,r})(c)}function g(e,t){return t.i=e.i,t.j=e.j,t.S=e.S.slice(),t}function y(e,t){for(var r,n=e+"",i=0;i<n.length;)t[f&i]=f&(r^=19*t[f&i])+n.charCodeAt(i++);return b(t)}function b(e){return String.fromCharCode.apply(0,e)}if(y(s.random(),o),e.exports){e.exports=m;try{a=r(5)}catch(S){}}else void 0===(n=function(){return m}.call(t,r,t,e))||(e.exports=n)}("undefined"!==typeof self?self:this,[],Math)},pJ6O:function(e,t,r){(function(e){var n;!function(e,i,o){function s(e){var t=this,r="";t.next=function(){var e=t.x^t.x>>>2;return t.x=t.y,t.y=t.z,t.z=t.w,t.w=t.v,(t.d=t.d+362437|0)+(t.v=t.v^t.v<<4^e^e<<1)|0},t.x=0,t.y=0,t.z=0,t.w=0,t.v=0,e===(0|e)?t.x=e:r+=e;for(var n=0;n<r.length+64;n++)t.x^=0|r.charCodeAt(n),n==r.length&&(t.d=t.x<<10^t.x>>>4),t.next()}function a(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t.v=e.v,t.d=e.d,t}function c(e,t){var r=new s(e),n=t&&t.state,i=function(){return(r.next()>>>0)/4294967296};return i.double=function(){do{var e=((r.next()>>>11)+(r.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},i.int32=r.next,i.quick=i,n&&("object"==typeof n&&a(n,r),i.state=function(){return a(r,{})}),i}i&&i.exports?i.exports=c:r("B9Yq")&&r("PDX0")?void 0===(n=function(){return c}.call(t,r,t,i))||(i.exports=n):this.xorwow=c}(0,e,r("B9Yq"))}).call(this,r("YuTi")(e))},pMpP:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("GhNO");function i(e,t){if(e.push(`**${t.id}:** ${t.comment}`),e.push("~~~"),"measures"in t.steps[0]){const r=0===t.steps.reduce((e,t)=>"measures"in t?e+t.measures.repairs.cost:e,0)?"PASSED":"FAILED";e.push(`Status: ${r}`)}o(e,t),e.push("~~~")}function o(e,t){for(const[r,n]of t.steps.entries())s(e,n),r<t.steps.length-1&&e.push("")}function s(e,t){for(const r of t.turns)e.push(`${r.speaker}: ${r.transcription}`);e.push(""),a(e,t.cart)}function a(e,t){if(t.items.length>0)for(const r of t.items)c(e,0,r);else e.push("(empty cart)")}function c(e,t,r){const i=4+2*t,o=n.rightJustify(r.quantity+" ",i);let s="";s=n.rightJustify(r.sku,10);const a=Math.max(0,50-o.length-s.length),u=`${o}${n.leftJustify(`${r.name} (${r.sku})`,a)}${s}`;e.push(u);for(const n of r.children)c(e,t+1,n)}t.renderSuiteAsMarkdown=function(e){const t=[];return function e(t,r){for(const n of r.tests)"id"in n?i(t,n):(n.comment&&t.push(n.comment),e(t,n))}(t,e),t.join("\n")},t.renderTestAsText=o,t.renderCart=a},peYA:function(e,t,r){"use strict";var n=r("hyoZ");e.exports=new n("tag:yaml.org,2002:null",{kind:"scalar",resolve:function(e){if(null===e)return!0;var t=e.length;return 1===t&&"~"===e||4===t&&("null"===e||"Null"===e||"NULL"===e)},construct:function(){return null},predicate:function(e){return null===e},represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"}},defaultStyle:"lowercase"})},psu4:function(e,t){const r=[{catalog:[{tags:["bakery_products"],pid:2e3,sku:1e4,items:[{name:"apple bran muffin",aliases:["apple [bran] muffin","bran muffin"]},{name:"blueberry muffin",aliases:["blueberry muffin"]},{name:"lemon poppyseed muffin",aliases:["lemon [poppyseed,poppy seed] muffin","(poppyseed,poppy seed) muffin"]}]},{tags:["bakery_options"],type:"option",items:[{tensor:"options",default:["regular"],items:[{name:"butter",aliases:["butter"]},{name:"strawberry jam",aliases:["strawberry [jam]"]}]},{tags:["bakery_preparations"],tensor:"none",items:[{name:"warmed",role:"applied",aliases:["warmed"]},{name:"cut in half",role:"applied",aliases:["(cut,sliced) [in half,in two,into two pieces]","halved"]}]}]}],rules:[{parents:["bakery_products"],children:["bakery_options"]}]}];e.exports=r.length<=1?r[0]:r},pvIh:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){function t(t,r,n,i,o,s){var a=i||"<<anonymous>>",c=s||n;if(null==r[n])return t?new Error("Required "+o+" `"+c+"` was not specified in `"+a+"`."):null;for(var u=arguments.length,l=Array(u>6?u-6:0),p=6;p<u;p++)l[p-6]=arguments[p];return e.apply(void 0,[r,n,a,o,c].concat(l))}var r=t.bind(null,!1);return r.isRequired=t.bind(null,!0),r},e.exports=t.default},pyet:function(e,t,r){"use strict";e.exports=function(e,t,r){var l,p,h,d,f=-1,m=t.length+1,v="";for(;++f<m&&((l=t.charAt(f))===i||l===o);)v+=l;if(l!==s&&l!==c&&l!==a)return;p=l,v+=l,h=1,d="";for(;++f<m;)if((l=t.charAt(f))===p)h++,v+=d+p,d="";else{if(l!==o)return h>=u&&(!l||l===n)?(v+=d,!!r||e(v)({type:"thematicBreak"})):void 0;d+=l}};var n="\n",i="\t",o=" ",s="*",a="_",c="-",u=3},pzZA:function(e,t,r){"use strict";var n=r("hyoZ"),i=Object.prototype.hasOwnProperty;e.exports=new n("tag:yaml.org,2002:set",{kind:"mapping",resolve:function(e){if(null===e)return!0;var t,r=e;for(t in r)if(i.call(r,t)&&null!==r[t])return!1;return!0},construct:function(e){return null!==e?e:{}}})},qBSW:function(e,t,r){"use strict";(function(e){function r(t){t?e.exit(0):e.exit(1)}Object.defineProperty(t,"__esModule",{value:!0}),t.handleError=function(e){let t;if("YAMLException"===e.name)t=`invalid YAML - ${e.reason}`;else if("YAML Validation Error"===e.name)t="YAML does not conform to schema";else switch(e.code){case"ENOENT":t=`cannot ${e.syscall} "${e.path}".`;break;case"EISDIR":t="directory found when file was expected.";break;default:t=e.message||"unknown error"}console.log(`Error: ${t}`),r(!1)},t.fail=function(t){console.log(" "),console.log(t),console.log(" "),console.log("Use the -h flag for help."),console.log(" "),console.log("Aborting"),console.log(" "),e.exit(1)},t.succeed=r}).call(this,r("8oxB"))},qRkn:function(e,t,r){var n=r("3cYt")({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"});e.exports=n},qT12:function(e,t,r){"use strict";var n="function"===typeof Symbol&&Symbol.for,i=n?Symbol.for("react.element"):60103,o=n?Symbol.for("react.portal"):60106,s=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,c=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,l=n?Symbol.for("react.context"):60110,p=n?Symbol.for("react.async_mode"):60111,h=n?Symbol.for("react.concurrent_mode"):60111,d=n?Symbol.for("react.forward_ref"):60112,f=n?Symbol.for("react.suspense"):60113,m=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,b=n?Symbol.for("react.fundamental"):60117,S=n?Symbol.for("react.responder"):60118,w=n?Symbol.for("react.scope"):60119;function k(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case p:case h:case s:case c:case a:case f:return e;default:switch(e=e&&e.$$typeof){case l:case d:case g:case v:case u:return e;default:return t}}case o:return t}}}function E(e){return k(e)===h}t.AsyncMode=p,t.ConcurrentMode=h,t.ContextConsumer=l,t.ContextProvider=u,t.Element=i,t.ForwardRef=d,t.Fragment=s,t.Lazy=g,t.Memo=v,t.Portal=o,t.Profiler=c,t.StrictMode=a,t.Suspense=f,t.isAsyncMode=function(e){return E(e)||k(e)===p},t.isConcurrentMode=E,t.isContextConsumer=function(e){return k(e)===l},t.isContextProvider=function(e){return k(e)===u},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return k(e)===d},t.isFragment=function(e){return k(e)===s},t.isLazy=function(e){return k(e)===g},t.isMemo=function(e){return k(e)===v},t.isPortal=function(e){return k(e)===o},t.isProfiler=function(e){return k(e)===c},t.isStrictMode=function(e){return k(e)===a},t.isSuspense=function(e){return k(e)===f},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===s||e===h||e===c||e===a||e===f||e===m||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===v||e.$$typeof===u||e.$$typeof===l||e.$$typeof===d||e.$$typeof===b||e.$$typeof===S||e.$$typeof===w||e.$$typeof===y)},t.typeOf=k},qTHO:function(e,t,r){"use strict";e.exports=function(e,t,r){var n,i=" ",o=e.level,s=e.dataLevel,a=e.schema[t],c=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,p="data"+(s||""),h=e.opts.$data&&a&&a.$data;h?(i+=" var schema"+o+" = "+e.util.getData(a.$data,s,e.dataPathArr)+"; ",n="schema"+o):n=a,i+="var division"+o+";if (",h&&(i+=" "+n+" !== undefined && ( typeof "+n+" != 'number' || "),i+=" (division"+o+" = "+p+" / "+n+", ",e.opts.multipleOfPrecision?i+=" Math.abs(Math.round(division"+o+") - division"+o+") > 1e-"+e.opts.multipleOfPrecision+" ":i+=" division"+o+" !== parseInt(division"+o+") ",i+=" ) ",h&&(i+="  )  "),i+=" ) {   ";var d=d||[];d.push(i),i="",!1!==e.createErrors?(i+=" { keyword: 'multipleOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { multipleOf: "+n+" } ",!1!==e.opts.messages&&(i+=" , message: 'should be multiple of ",i+=h?"' + "+n:n+"'"),e.opts.verbose&&(i+=" , schema:  ",i+=h?"validate.schema"+c:""+a,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+p+" "),i+=" } "):i+=" {} ";var f=i;return i=d.pop(),!e.compositeRule&&l?e.async?i+=" throw new ValidationError(["+f+"]); ":i+=" validate.errors = ["+f+"]; return false; ":i+=" var err = "+f+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",l&&(i+=" else { "),i}},qUS0:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class n{static printOrder(e){console.log(n.formatOrder(e))}static formatOrder(e){return e.lines.map(n.formatLineItem).join("\n")}static formatLineItem(e){const t=4+2*e.indent,r=i(e.left+" ",t);let n="";void 0!==e.right?n=i(e.right,6):void 0!==e.price&&e.price>0&&(n=i((e.price/100).toFixed(2),6));const o=Math.max(0,50-r.length-n.length);return`${r}${function(e,t){if(e.length>=t)return e;{const r=t-e.length,n=new Array(r+1).join(" ");return e+n}}(e.middle+" ",o)}${n}`}}function i(e,t){if(e.length>=t)return e;{const r=t-e.length;return new Array(r+1).join(" ")+e}}t.OrderOps=n},qXHa:function(e,t,r){"use strict";var n=r("ThTW"),i=r("aUsF"),o=r("+9rK"),s=r("ugD5"),a=r("ialn");function c(e,t,r){var n=this._refs[r];if("string"==typeof n){if(!this._refs[n])return c.call(this,e,t,n);n=this._refs[n]}if((n=n||this._schemas[r])instanceof s)return f(n.schema,this._opts.inlineRefs)?n.schema:n.validate||this._compile(n);var i,o,a,l=u.call(this,t,r);return l&&(i=l.schema,t=l.root,a=l.baseId),i instanceof s?o=i.validate||e.call(this,i.schema,t,void 0,a):void 0!==i&&(o=f(i,this._opts.inlineRefs)?i:e.call(this,i,t,void 0,a)),o}function u(e,t){var r=n.parse(t),i=v(r),o=m(this._getId(e.schema));if(0===Object.keys(e.schema).length||i!==o){var a=y(i),c=this._refs[a];if("string"==typeof c)return l.call(this,e,c,r);if(c instanceof s)c.validate||this._compile(c),e=c;else{if(!((c=this._schemas[a])instanceof s))return;if(c.validate||this._compile(c),a==y(t))return{schema:c,root:e,baseId:o};e=c}if(!e.schema)return;o=m(this._getId(e.schema))}return h.call(this,r,o,e.schema,e)}function l(e,t,r){var n=u.call(this,e,t);if(n){var i=n.schema,o=n.baseId;e=n.root;var s=this._getId(i);return s&&(o=b(o,s)),h.call(this,r,o,i,e)}}e.exports=c,c.normalizeId=y,c.fullPath=m,c.url=b,c.ids=function(e){var t=y(this._getId(e)),r={"":t},s={"":m(t,!1)},c={},u=this;return a(e,{allKeys:!0},(function(e,t,a,l,p,h,d){if(""!==t){var f=u._getId(e),m=r[l],v=s[l]+"/"+p;if(void 0!==d&&(v+="/"+("number"==typeof d?d:o.escapeFragment(d))),"string"==typeof f){f=m=y(m?n.resolve(m,f):f);var g=u._refs[f];if("string"==typeof g&&(g=u._refs[g]),g&&g.schema){if(!i(e,g.schema))throw new Error('id "'+f+'" resolves to more than one schema')}else if(f!=y(v))if("#"==f[0]){if(c[f]&&!i(e,c[f]))throw new Error('id "'+f+'" resolves to more than one schema');c[f]=e}else u._refs[f]=v}r[t]=m,s[t]=v}})),c},c.inlineRef=f,c.schema=u;var p=o.toHash(["properties","patternProperties","enum","dependencies","definitions"]);function h(e,t,r,n){if(e.fragment=e.fragment||"","/"==e.fragment.slice(0,1)){for(var i=e.fragment.split("/"),s=1;s<i.length;s++){var a=i[s];if(a){if(void 0===(r=r[a=o.unescapeFragment(a)]))break;var c;if(!p[a]&&((c=this._getId(r))&&(t=b(t,c)),r.$ref)){var l=b(t,r.$ref),h=u.call(this,n,l);h&&(r=h.schema,n=h.root,t=h.baseId)}}}return void 0!==r&&r!==n.schema?{schema:r,root:n,baseId:t}:void 0}}var d=o.toHash(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum"]);function f(e,t){return!1!==t&&(void 0===t||!0===t?function e(t){var r;if(Array.isArray(t)){for(var n=0;n<t.length;n++)if("object"==typeof(r=t[n])&&!e(r))return!1}else for(var i in t){if("$ref"==i)return!1;if("object"==typeof(r=t[i])&&!e(r))return!1}return!0}(e):t?function e(t){var r,n=0;if(Array.isArray(t)){for(var i=0;i<t.length;i++)if("object"==typeof(r=t[i])&&(n+=e(r)),n==1/0)return 1/0}else for(var o in t){if("$ref"==o)return 1/0;if(d[o])n++;else if("object"==typeof(r=t[o])&&(n+=e(r)+1),n==1/0)return 1/0}return n}(e)<=t:void 0)}function m(e,t){return!1!==t&&(e=y(e)),v(n.parse(e))}function v(e){return n.serialize(e).split("#")[0]+"#"}var g=/#\/?$/;function y(e){return e?e.replace(g,""):""}function b(e,t){return t=y(t),n.resolve(e,t)}},qba0:function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r("ibpa")),n(r("SZ1/")),n(r("KVL+")),n(r("YyFA")),n(r("lv/t")),n(r("aULz")),n(r("jU/O")),n(r("GhNO"))},qiT1:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("ibpa"),i=r("jwcd");t.MenuBasedRepairs=class{constructor(e,t,r){this.attributeInfo=e,this.catalog=t,this.treeDiff=r}repairCart(e,t){const r=this.treeDiff(this,e.items,t.items);let n=0;for(const i of r.edits)i.cost=i.steps.length,n+=i.cost;return Object.assign(Object.assign({},r),{cost:n})}delete(e){const t=this.catalog.getSpecific(e.key).name;return{op:i.EditOp.DELETE_A,cost:1,steps:[`id(${e.uid}): delete item(${t})`]}}insert(e){const t=[];let r=0;const n=this.catalog.getGenericForKey(e.key),o=this.catalog.getSpecific(n.defaultKey);r+=1,t.push(`id(${e.uid}): insert default item(${o.name})`),e.quantity>1&&(r+=1,t.push(`id(${e.uid}): make item(${o.name}) quantity ${e.quantity}`));const s=this.attributeInfo.getAttributes(e.key),a=this.attributeInfo.getAttributes(o.key);for(let i=0;i<s.length;++i)if(s[i]!==a[i]){r+=1;const n=this.attributeInfo.getAttribute(a[i]),c=this.attributeInfo.getAttribute(s[i]);t.push(`id(${e.uid}): change item(${o.name}) attribute "${n.name}" to "${c.name}"`)}for(const i of e.children){const e=this.insert(i);r+=e.cost;for(const r of e.steps)t.push("  "+r)}return{op:i.EditOp.INSERT_A,cost:r,steps:t}}repair(e,t){let r=0;const o=[];if(n.AttributeInfo.pidFromKey(e.key)!==n.AttributeInfo.pidFromKey(t.key)){const n=this.delete(e);o.push(...n.steps),r=n.cost;const i=this.insert(t);o.push(...i.steps),r+=i.cost,r-=.001}else{const n=this.catalog.getSpecific(e.key).name;e.quantity!==t.quantity&&(r+=1,o.push(`id(${e.uid}): change item(${n}) quantity to ${t.quantity}`));const i=this.attributeInfo.getAttributes(e.key),s=this.attributeInfo.getAttributes(t.key);for(let t=0;t<i.length;++t)if(i[t]!==s[t]){r+=1;const a=this.attributeInfo.getAttribute(i[t]),c=this.attributeInfo.getAttribute(s[t]);o.push(`id(${e.uid}): change item(${n}) attribute "${a.name}" to "${c.name}"`)}const a=this.treeDiff(this,e.children,t.children);r+=a.cost;for(const e of a.edits)for(const t of e.steps)o.push("  "+t)}return{op:i.EditOp.REPAIR_A,cost:r,steps:o}}}},qxDt:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("eDuk"),i=r("NOtv"),o=r("ZR4k"),s=i("tf:itemMapFromYamlString");class a{constructor(e,t,r){this.test=e,this.observed=t,this.passed=r}}t.Result=a;class c{constructor(){this.priorities={},this.suites={},this.results=[],this.passCount=0}recordResult(e){const t=e.test,r=e.passed;t.suites.forEach(e=>{e in this.suites||(this.suites[e]={passCount:0,runCount:0});const t=this.suites[e];t.runCount++,r&&t.passCount++}),t.priority in this.priorities||(this.priorities[t.priority]={passCount:0,runCount:0});const n=this.priorities[t.priority];n.runCount++,r&&n.passCount++,this.results.push(e),r&&this.passCount++}print(e=!1){this.results.find(e=>!e.passed)?console.log("Failing tests:"):(console.log("All tests passed."),console.log()),this.results.forEach(t=>{if(!t.passed||e){const e=t.test.suites.join(" "),r=t.passed?"PASSED":"FAILED";console.log(`${t.test.id} ${e} - ${r}`),console.log(`   input "${t.test.input}"`),console.log(`  output "${t.observed}"`),console.log(`expected "${t.test.expected}"`),console.log()}}),console.log("Suites:");for(const[t,r]of Object.entries(this.suites))console.log(`  ${t}: ${r.passCount}/${r.runCount}`);console.log(),console.log("Priorities:");for(const[t,r]of Object.entries(this.priorities))console.log(`  ${t}: ${r.passCount}/${r.runCount}`);console.log(),console.log(`Overall: ${this.passCount}/${this.results.length}`)}rebase(){return this.results.map(e=>({priority:e.test.priority,suites:e.test.suites.join(" "),input:e.test.input,expected:e.observed}))}}t.AggregatedResults=c;class u{constructor(e,t,r,n,i){this.id=e,this.priority=t,this.suites=r,this.input=n,this.expected=i,this.expectedTokenText=i.split(/\s+/)}run(e,t,r,n){console.log("=========================");return console.log("FAILED"),new a(this,[].join(" "),!1)}}t.TestCase=u;class l{constructor(e){this.tests=[],this.tests=e}static fromYamlString(e){const t=(new n).compile({definitions:{},$schema:"http://json-schema.org/draft-07/schema#",$id:"http://example.com/root.json",type:"array",title:"The Root Schema",items:{$id:"#/items",type:"object",title:"The Items Schema",required:["priority","suites","input","expected"],properties:{priority:{$id:"#/items/properties/priority",type:"integer",title:"The Priority Schema",default:0,examples:[1]},suites:{$id:"#/items/properties/suites",type:"string",title:"The Suites Schema",default:"",examples:["general"],pattern:"^(.*)$"},input:{$id:"#/items/properties/input",type:"string",title:"The Input Schema",default:"",examples:["I'd like a black sedan with alloy wheels skip the extended warranty and a red convertible jacked with open headers"],pattern:"^(.*)$"},expected:{$id:"#/items/properties/expected",type:"string",title:"The Expected Schema",default:"",examples:["[ADD_TO_ORDER] [NUMBER:1] [ENTITY:BLACK_FOUR_DOOR_SEDAN,20] [CONJUNCTION] [ENTITY:ALLOY_RIMS,1000] [QUANTIFIER:0] [ENTITY:EXTENDED_WARRANTY,1800] [CONJUNCTION] [NUMBER:1] [ENTITY:RED_TWO_DOOR_CONVERTIBLE_SEDAN,1] [ENTITY:LIFT_KIT,1200] [CONJUNCTION] [ENTITY:OPEN_HEADERS,1203]"],pattern:"^(.*)$"}}}}),r=o.safeLoad(e);if(!t(r)){const e="itemMapFromYamlString: yaml data does not conform to schema.";throw s(e),s(t.errors),TypeError(e)}const i=r.map((e,t)=>new u(t,e.priority.toString(),e.suites.split(/\s+/),e.input,e.expected));return new l(i)}run(e,t,r,n,i=!1){const o=new c;for(const s of this.tests)o.recordResult(s.run(e,t,r,n));return o.print(i),o}}t.RelevanceSuite=l},rmMg:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r("ahYF"),i=r("YonC");class o{constructor(e){this.privEventListeners={},this.privIsDisposed=!1,this.onEvent=e=>{if(this.isDisposed())throw new n.c("EventSource");if(this.metadata)for(const t in this.metadata)t&&e.metadata&&(e.metadata[t]||(e.metadata[t]=this.metadata[t]));for(const t in this.privEventListeners)t&&this.privEventListeners[t]&&this.privEventListeners[t](e)},this.attach=e=>{const t=Object(i.a)();return this.privEventListeners[t]=e,{detach:()=>{delete this.privEventListeners[t]}}},this.attachListener=e=>this.attach(e.onEvent),this.isDisposed=()=>this.privIsDisposed,this.dispose=()=>{this.privEventListeners=null,this.privIsDisposed=!0},this.privMetadata=e}get metadata(){return this.privMetadata}}},ruVm:function(e,t,r){"use strict";r.d(t,"c",(function(){return n})),r.d(t,"b",(function(){return a})),r.d(t,"a",(function(){return u}));var n,i=r("ahYF");!function(e){e[e.None=0]="None",e[e.Resolved=1]="Resolved",e[e.Rejected=2]="Rejected"}(n||(n={}));class o{constructor(e){this.throwIfError=()=>{if(this.isError)throw this.error},e.on(e=>{this.privIsCompleted||(this.privIsCompleted=!0,this.privIsError=!1,this.privResult=e)},e=>{this.privIsCompleted||(this.privIsCompleted=!0,this.privIsError=!0,this.privError=e)})}get isCompleted(){return this.privIsCompleted}get isError(){return this.privIsError}get error(){return this.privError}get result(){return this.privResult}}class s{constructor(){this.setResult=e=>{this.privOnSetResult(e)},this.setError=e=>{this.privOnSetError(e)},this.on=(e,t)=>{this.privOnSetResult=e,this.privOnSetError=t}}}class a{}a.whenAll=e=>{if(!e||0===e.length)throw new i.a("promises");const t=new u,r=[];let n=0;const o=()=>{n++,n===e.length&&(0===r.length?t.resolve(!0):t.reject(r.join(", ")))};for(const i of e)i.on(e=>{o()},e=>{r.push(e),o()});return t.promise()},a.fromResult=e=>{const t=new u;return t.resolve(e),t.promise()},a.fromError=e=>{const t=new u;return t.reject(e),t.promise()};class c{constructor(e){this.result=()=>this.privSink.result,this.continueWith=e=>{if(!e)throw new i.a("continuationCallback");const t=new u;return this.privSink.on(r=>{try{const r=e(this.privSink.result);t.resolve(r)}catch(n){t.reject(n)}},r=>{try{const r=e(this.privSink.result);t.resolve(r)}catch(n){t.reject(`'Error handler for error ${r} threw error ${n}'`)}}),t.promise()},this.onSuccessContinueWith=e=>{if(!e)throw new i.a("continuationCallback");const t=new u;return this.privSink.on(r=>{try{const n=e(r);t.resolve(n)}catch(n){t.reject(n)}},e=>{t.reject(e)}),t.promise()},this.continueWithPromise=e=>{if(!e)throw new i.a("continuationCallback");const t=new u;return this.privSink.on(r=>{try{const r=e(this.privSink.result);if(!r)throw new Error("'Continuation callback did not return promise'");r.on(e=>{t.resolve(e)},e=>{t.reject(e)})}catch(n){t.reject(n)}},r=>{try{const r=e(this.privSink.result);if(!r)throw new Error("Continuation callback did not return promise");r.on(e=>{t.resolve(e)},e=>{t.reject(e)})}catch(n){t.reject(`'Error handler for error ${r} threw error ${n}'`)}}),t.promise()},this.onSuccessContinueWithPromise=e=>{if(!e)throw new i.a("continuationCallback");const t=new u;return this.privSink.on(r=>{try{const n=e(r);if(!n)throw new Error("Continuation callback did not return promise");n.on(e=>{t.resolve(e)},e=>{t.reject(e)})}catch(n){t.reject(n)}},e=>{t.reject(e)}),t.promise()},this.on=(e,t)=>{if(!e)throw new i.a("successCallback");if(!t)throw new i.a("errorCallback");return this.privSink.on(e,t),this},this.finally=e=>{if(!e)throw new i.a("callback");const t=t=>{e()};return this.on(t,t)},this.privSink=e}}class u{constructor(){this.state=()=>this.privSink.state,this.promise=()=>this.privPromise,this.resolve=e=>(this.privSink.resolve(e),this),this.reject=e=>(this.privSink.reject(e),this),this.privSink=new l,this.privPromise=new c(this.privSink)}}class l{constructor(){this.privState=n.None,this.privPromiseResult=null,this.privPromiseResultEvents=null,this.privSuccessHandlers=[],this.privErrorHandlers=[],this.resolve=e=>{if(this.privState!==n.None)throw new Error("'Cannot resolve a completed promise'");this.privState=n.Resolved,this.privPromiseResultEvents.setResult(e);for(let t=0;t<this.privSuccessHandlers.length;t++)this.executeSuccessCallback(e,this.privSuccessHandlers[t],this.privErrorHandlers[t]);this.detachHandlers()},this.reject=e=>{if(this.privState!==n.None)throw new Error("'Cannot reject a completed promise'");this.privState=n.Rejected,this.privPromiseResultEvents.setError(e);for(const t of this.privErrorHandlers)this.executeErrorCallback(e,t);this.detachHandlers()},this.on=(e,t)=>{null==e&&(e=e=>{}),this.privState===n.None?(this.privSuccessHandlers.push(e),this.privErrorHandlers.push(t)):(this.privState===n.Resolved?this.executeSuccessCallback(this.privPromiseResult.result,e,t):this.privState===n.Rejected&&this.executeErrorCallback(this.privPromiseResult.error,t),this.detachHandlers())},this.executeSuccessCallback=(e,t,r)=>{try{t(e)}catch(n){this.executeErrorCallback(`'Unhandled callback error: ${n}'`,r)}},this.executeErrorCallback=(e,t)=>{if(!t)throw new Error(`'Unhandled error: ${e}'`);try{t(e)}catch(r){throw new Error(`'Unhandled callback error: ${r}. InnerError: ${e}'`)}},this.detachHandlers=()=>{this.privErrorHandlers=[],this.privSuccessHandlers=[]},this.privPromiseResultEvents=new s,this.privPromiseResult=new o(this.privPromiseResultEvents)}get state(){return this.privState}get result(){return this.privPromiseResult}}},sagP:function(e,t,r){"use strict";var n=r("iZoB").MissingRef;e.exports=function e(t,r,i){var o=this;if("function"!=typeof this._opts.loadSchema)throw new Error("options.loadSchema should be a function");"function"==typeof r&&(i=r,r=void 0);var s=a(t).then((function(){var e=o._addSchema(t,void 0,r);return e.validate||function e(t){try{return o._compile(t)}catch(i){if(i instanceof n)return function(n){var i=n.missingSchema;if(u(i))throw new Error("Schema "+i+" is loaded but "+n.missingRef+" cannot be resolved");var s=o._loadingSchemas[i];s||(s=o._loadingSchemas[i]=o._opts.loadSchema(i)).then(c,c);return s.then((function(e){if(!u(i))return a(e).then((function(){u(i)||o.addSchema(e,i,void 0,r)}))})).then((function(){return e(t)}));function c(){delete o._loadingSchemas[i]}function u(e){return o._refs[e]||o._schemas[e]}}(i);throw i}}(e)}));i&&s.then((function(e){i(null,e)}),i);return s;function a(t){var r=t.$schema;return r&&!o.getSchema(r)?e.call(o,{$ref:r},!0):Promise.resolve()}}},spQ0:function(e,t,r){"use strict";var n=r("hyoZ");e.exports=new n("tag:yaml.org,2002:merge",{kind:"scalar",resolve:function(e){return"<<"===e||null===e}})},"t+aO":function(e,t,r){"use strict";e.exports=function(e,t,r){var n=" ",i=e.level,o=e.dataLevel,s=e.schema[t],a=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,l="data"+(o||""),p="valid"+i,h=e.opts.$data&&s&&s.$data;h&&(n+=" var schema"+i+" = "+e.util.getData(s.$data,o,e.dataPathArr)+"; ");var d="schema"+i;if(!h)if(s.length<e.opts.loopRequired&&e.schema.properties&&Object.keys(e.schema.properties).length){var f=[],m=s;if(m)for(var v,g=-1,y=m.length-1;g<y;){v=m[g+=1];var b=e.schema.properties[v];b&&(e.opts.strictKeywords?"object"==typeof b&&Object.keys(b).length>0:e.util.schemaHasRules(b,e.RULES.all))||(f[f.length]=v)}}else f=s;if(h||f.length){var S=e.errorPath,w=h||f.length>=e.opts.loopRequired,k=e.opts.ownProperties;if(u)if(n+=" var missing"+i+"; ",w){h||(n+=" var "+d+" = validate.schema"+a+"; ");var E="' + "+(R="schema"+i+"["+(C="i"+i)+"]")+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(S,R,e.opts.jsonPointers)),n+=" var "+p+" = true; ",h&&(n+=" if (schema"+i+" === undefined) "+p+" = true; else if (!Array.isArray(schema"+i+")) "+p+" = false; else {"),n+=" for (var "+C+" = 0; "+C+" < "+d+".length; "+C+"++) { "+p+" = "+l+"["+d+"["+C+"]] !== undefined ",k&&(n+=" &&   Object.prototype.hasOwnProperty.call("+l+", "+d+"["+C+"]) "),n+="; if (!"+p+") break; } ",h&&(n+="  }  "),n+="  if (!"+p+") {   ",(T=T||[]).push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { missingProperty: '"+E+"' } ",!1!==e.opts.messages&&(n+=" , message: '",e.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+E+"\\'",n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ";var O=n;n=T.pop(),!e.compositeRule&&u?e.async?n+=" throw new ValidationError(["+O+"]); ":n+=" validate.errors = ["+O+"]; return false; ":n+=" var err = "+O+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } else { "}else{n+=" if ( ";var x=f;if(x)for(var C=-1,P=x.length-1;C<P;){A=x[C+=1],C&&(n+=" || "),n+=" ( ( "+(D=l+(N=e.util.getProperty(A)))+" === undefined ",k&&(n+=" || ! Object.prototype.hasOwnProperty.call("+l+", '"+e.util.escapeQuotes(A)+"') "),n+=") && (missing"+i+" = "+e.util.toQuotedString(e.opts.jsonPointers?A:N)+") ) "}n+=") {  ";var T;E="' + "+(R="missing"+i)+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(S,R,!0):S+" + "+R),(T=T||[]).push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { missingProperty: '"+E+"' } ",!1!==e.opts.messages&&(n+=" , message: '",e.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+E+"\\'",n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ";O=n;n=T.pop(),!e.compositeRule&&u?e.async?n+=" throw new ValidationError(["+O+"]); ":n+=" validate.errors = ["+O+"]; return false; ":n+=" var err = "+O+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } else { "}else if(w){h||(n+=" var "+d+" = validate.schema"+a+"; ");var R;E="' + "+(R="schema"+i+"["+(C="i"+i)+"]")+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(S,R,e.opts.jsonPointers)),h&&(n+=" if ("+d+" && !Array.isArray("+d+")) {  var err =   ",!1!==e.createErrors?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { missingProperty: '"+E+"' } ",!1!==e.opts.messages&&(n+=" , message: '",e.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+E+"\\'",n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if ("+d+" !== undefined) { "),n+=" for (var "+C+" = 0; "+C+" < "+d+".length; "+C+"++) { if ("+l+"["+d+"["+C+"]] === undefined ",k&&(n+=" || ! Object.prototype.hasOwnProperty.call("+l+", "+d+"["+C+"]) "),n+=") {  var err =   ",!1!==e.createErrors?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { missingProperty: '"+E+"' } ",!1!==e.opts.messages&&(n+=" , message: '",e.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+E+"\\'",n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ",h&&(n+="  }  ")}else{var M=f;if(M)for(var A,I=-1,_=M.length-1;I<_;){A=M[I+=1];var N=e.util.getProperty(A),D=(E=e.util.escapeQuotes(A),l+N);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(S,A,e.opts.jsonPointers)),n+=" if ( "+D+" === undefined ",k&&(n+=" || ! Object.prototype.hasOwnProperty.call("+l+", '"+e.util.escapeQuotes(A)+"') "),n+=") {  var err =   ",!1!==e.createErrors?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { missingProperty: '"+E+"' } ",!1!==e.opts.messages&&(n+=" , message: '",e.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+E+"\\'",n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}e.errorPath=S}else u&&(n+=" if (true) {");return n}},t1N5:function(e,t,r){var n=r("T016"),i={};for(var o in n)n.hasOwnProperty(o)&&(i[n[o]]=o);var s=e.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var a in s)if(s.hasOwnProperty(a)){if(!("channels"in s[a]))throw new Error("missing channels property: "+a);if(!("labels"in s[a]))throw new Error("missing channel labels property: "+a);if(s[a].labels.length!==s[a].channels)throw new Error("channel and label counts mismatch: "+a);var c=s[a].channels,u=s[a].labels;delete s[a].channels,delete s[a].labels,Object.defineProperty(s[a],"channels",{value:c}),Object.defineProperty(s[a],"labels",{value:u})}s.rgb.hsl=function(e){var t,r,n=e[0]/255,i=e[1]/255,o=e[2]/255,s=Math.min(n,i,o),a=Math.max(n,i,o),c=a-s;return a===s?t=0:n===a?t=(i-o)/c:i===a?t=2+(o-n)/c:o===a&&(t=4+(n-i)/c),(t=Math.min(60*t,360))<0&&(t+=360),r=(s+a)/2,[t,100*(a===s?0:r<=.5?c/(a+s):c/(2-a-s)),100*r]},s.rgb.hsv=function(e){var t,r,n,i,o,s=e[0]/255,a=e[1]/255,c=e[2]/255,u=Math.max(s,a,c),l=u-Math.min(s,a,c),p=function(e){return(u-e)/6/l+.5};return 0===l?i=o=0:(o=l/u,t=p(s),r=p(a),n=p(c),s===u?i=n-r:a===u?i=1/3+t-n:c===u&&(i=2/3+r-t),i<0?i+=1:i>1&&(i-=1)),[360*i,100*o,100*u]},s.rgb.hwb=function(e){var t=e[0],r=e[1],n=e[2];return[s.rgb.hsl(e)[0],100*(1/255*Math.min(t,Math.min(r,n))),100*(n=1-1/255*Math.max(t,Math.max(r,n)))]},s.rgb.cmyk=function(e){var t,r=e[0]/255,n=e[1]/255,i=e[2]/255;return[100*((1-r-(t=Math.min(1-r,1-n,1-i)))/(1-t)||0),100*((1-n-t)/(1-t)||0),100*((1-i-t)/(1-t)||0),100*t]},s.rgb.keyword=function(e){var t=i[e];if(t)return t;var r,o,s,a=1/0;for(var c in n)if(n.hasOwnProperty(c)){var u=n[c],l=(o=e,s=u,Math.pow(o[0]-s[0],2)+Math.pow(o[1]-s[1],2)+Math.pow(o[2]-s[2],2));l<a&&(a=l,r=c)}return r},s.keyword.rgb=function(e){return n[e]},s.rgb.xyz=function(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255;return[100*(.4124*(t=t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92)+.3576*(r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92)+.1805*(n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92)),100*(.2126*t+.7152*r+.0722*n),100*(.0193*t+.1192*r+.9505*n)]},s.rgb.lab=function(e){var t=s.rgb.xyz(e),r=t[0],n=t[1],i=t[2];return n/=100,i/=108.883,r=(r/=95.047)>.008856?Math.pow(r,1/3):7.787*r+16/116,[116*(n=n>.008856?Math.pow(n,1/3):7.787*n+16/116)-16,500*(r-n),200*(n-(i=i>.008856?Math.pow(i,1/3):7.787*i+16/116))]},s.hsl.rgb=function(e){var t,r,n,i,o,s=e[0]/360,a=e[1]/100,c=e[2]/100;if(0===a)return[o=255*c,o,o];t=2*c-(r=c<.5?c*(1+a):c+a-c*a),i=[0,0,0];for(var u=0;u<3;u++)(n=s+1/3*-(u-1))<0&&n++,n>1&&n--,o=6*n<1?t+6*(r-t)*n:2*n<1?r:3*n<2?t+(r-t)*(2/3-n)*6:t,i[u]=255*o;return i},s.hsl.hsv=function(e){var t=e[0],r=e[1]/100,n=e[2]/100,i=r,o=Math.max(n,.01);return r*=(n*=2)<=1?n:2-n,i*=o<=1?o:2-o,[t,100*(0===n?2*i/(o+i):2*r/(n+r)),100*((n+r)/2)]},s.hsv.rgb=function(e){var t=e[0]/60,r=e[1]/100,n=e[2]/100,i=Math.floor(t)%6,o=t-Math.floor(t),s=255*n*(1-r),a=255*n*(1-r*o),c=255*n*(1-r*(1-o));switch(n*=255,i){case 0:return[n,c,s];case 1:return[a,n,s];case 2:return[s,n,c];case 3:return[s,a,n];case 4:return[c,s,n];case 5:return[n,s,a]}},s.hsv.hsl=function(e){var t,r,n,i=e[0],o=e[1]/100,s=e[2]/100,a=Math.max(s,.01);return n=(2-o)*s,r=o*a,[i,100*(r=(r/=(t=(2-o)*a)<=1?t:2-t)||0),100*(n/=2)]},s.hwb.rgb=function(e){var t,r,n,i,o,s,a,c=e[0]/360,u=e[1]/100,l=e[2]/100,p=u+l;switch(p>1&&(u/=p,l/=p),n=6*c-(t=Math.floor(6*c)),0!==(1&t)&&(n=1-n),i=u+n*((r=1-l)-u),t){default:case 6:case 0:o=r,s=i,a=u;break;case 1:o=i,s=r,a=u;break;case 2:o=u,s=r,a=i;break;case 3:o=u,s=i,a=r;break;case 4:o=i,s=u,a=r;break;case 5:o=r,s=u,a=i}return[255*o,255*s,255*a]},s.cmyk.rgb=function(e){var t=e[0]/100,r=e[1]/100,n=e[2]/100,i=e[3]/100;return[255*(1-Math.min(1,t*(1-i)+i)),255*(1-Math.min(1,r*(1-i)+i)),255*(1-Math.min(1,n*(1-i)+i))]},s.xyz.rgb=function(e){var t,r,n,i=e[0]/100,o=e[1]/100,s=e[2]/100;return r=-.9689*i+1.8758*o+.0415*s,n=.0557*i+-.204*o+1.057*s,t=(t=3.2406*i+-1.5372*o+-.4986*s)>.0031308?1.055*Math.pow(t,1/2.4)-.055:12.92*t,r=r>.0031308?1.055*Math.pow(r,1/2.4)-.055:12.92*r,n=n>.0031308?1.055*Math.pow(n,1/2.4)-.055:12.92*n,[255*(t=Math.min(Math.max(0,t),1)),255*(r=Math.min(Math.max(0,r),1)),255*(n=Math.min(Math.max(0,n),1))]},s.xyz.lab=function(e){var t=e[0],r=e[1],n=e[2];return r/=100,n/=108.883,t=(t/=95.047)>.008856?Math.pow(t,1/3):7.787*t+16/116,[116*(r=r>.008856?Math.pow(r,1/3):7.787*r+16/116)-16,500*(t-r),200*(r-(n=n>.008856?Math.pow(n,1/3):7.787*n+16/116))]},s.lab.xyz=function(e){var t,r,n,i=e[0];t=e[1]/500+(r=(i+16)/116),n=r-e[2]/200;var o=Math.pow(r,3),s=Math.pow(t,3),a=Math.pow(n,3);return r=o>.008856?o:(r-16/116)/7.787,t=s>.008856?s:(t-16/116)/7.787,n=a>.008856?a:(n-16/116)/7.787,[t*=95.047,r*=100,n*=108.883]},s.lab.lch=function(e){var t,r=e[0],n=e[1],i=e[2];return(t=360*Math.atan2(i,n)/2/Math.PI)<0&&(t+=360),[r,Math.sqrt(n*n+i*i),t]},s.lch.lab=function(e){var t,r=e[0],n=e[1];return t=e[2]/360*2*Math.PI,[r,n*Math.cos(t),n*Math.sin(t)]},s.rgb.ansi16=function(e){var t=e[0],r=e[1],n=e[2],i=1 in arguments?arguments[1]:s.rgb.hsv(e)[2];if(0===(i=Math.round(i/50)))return 30;var o=30+(Math.round(n/255)<<2|Math.round(r/255)<<1|Math.round(t/255));return 2===i&&(o+=60),o},s.hsv.ansi16=function(e){return s.rgb.ansi16(s.hsv.rgb(e),e[2])},s.rgb.ansi256=function(e){var t=e[0],r=e[1],n=e[2];return t===r&&r===n?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(r/255*5)+Math.round(n/255*5)},s.ansi16.rgb=function(e){var t=e%10;if(0===t||7===t)return e>50&&(t+=3.5),[t=t/10.5*255,t,t];var r=.5*(1+~~(e>50));return[(1&t)*r*255,(t>>1&1)*r*255,(t>>2&1)*r*255]},s.ansi256.rgb=function(e){if(e>=232){var t=10*(e-232)+8;return[t,t,t]}var r;return e-=16,[Math.floor(e/36)/5*255,Math.floor((r=e%36)/6)/5*255,r%6/5*255]},s.rgb.hex=function(e){var t=(((255&Math.round(e[0]))<<16)+((255&Math.round(e[1]))<<8)+(255&Math.round(e[2]))).toString(16).toUpperCase();return"000000".substring(t.length)+t},s.hex.rgb=function(e){var t=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];var r=t[0];3===t[0].length&&(r=r.split("").map((function(e){return e+e})).join(""));var n=parseInt(r,16);return[n>>16&255,n>>8&255,255&n]},s.rgb.hcg=function(e){var t,r=e[0]/255,n=e[1]/255,i=e[2]/255,o=Math.max(Math.max(r,n),i),s=Math.min(Math.min(r,n),i),a=o-s;return t=a<=0?0:o===r?(n-i)/a%6:o===n?2+(i-r)/a:4+(r-n)/a+4,t/=6,[360*(t%=1),100*a,100*(a<1?s/(1-a):0)]},s.hsl.hcg=function(e){var t=e[1]/100,r=e[2]/100,n=1,i=0;return(n=r<.5?2*t*r:2*t*(1-r))<1&&(i=(r-.5*n)/(1-n)),[e[0],100*n,100*i]},s.hsv.hcg=function(e){var t=e[1]/100,r=e[2]/100,n=t*r,i=0;return n<1&&(i=(r-n)/(1-n)),[e[0],100*n,100*i]},s.hcg.rgb=function(e){var t=e[0]/360,r=e[1]/100,n=e[2]/100;if(0===r)return[255*n,255*n,255*n];var i,o=[0,0,0],s=t%1*6,a=s%1,c=1-a;switch(Math.floor(s)){case 0:o[0]=1,o[1]=a,o[2]=0;break;case 1:o[0]=c,o[1]=1,o[2]=0;break;case 2:o[0]=0,o[1]=1,o[2]=a;break;case 3:o[0]=0,o[1]=c,o[2]=1;break;case 4:o[0]=a,o[1]=0,o[2]=1;break;default:o[0]=1,o[1]=0,o[2]=c}return i=(1-r)*n,[255*(r*o[0]+i),255*(r*o[1]+i),255*(r*o[2]+i)]},s.hcg.hsv=function(e){var t=e[1]/100,r=t+e[2]/100*(1-t),n=0;return r>0&&(n=t/r),[e[0],100*n,100*r]},s.hcg.hsl=function(e){var t=e[1]/100,r=e[2]/100*(1-t)+.5*t,n=0;return r>0&&r<.5?n=t/(2*r):r>=.5&&r<1&&(n=t/(2*(1-r))),[e[0],100*n,100*r]},s.hcg.hwb=function(e){var t=e[1]/100,r=t+e[2]/100*(1-t);return[e[0],100*(r-t),100*(1-r)]},s.hwb.hcg=function(e){var t=e[1]/100,r=1-e[2]/100,n=r-t,i=0;return n<1&&(i=(r-n)/(1-n)),[e[0],100*n,100*i]},s.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]},s.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]},s.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]},s.gray.hsl=s.gray.hsv=function(e){return[0,0,e[0]]},s.gray.hwb=function(e){return[0,100,e[0]]},s.gray.cmyk=function(e){return[0,0,0,e[0]]},s.gray.lab=function(e){return[e[0],0,0]},s.gray.hex=function(e){var t=255&Math.round(e[0]/100*255),r=((t<<16)+(t<<8)+t).toString(16).toUpperCase();return"000000".substring(r.length)+r},s.rgb.gray=function(e){return[(e[0]+e[1]+e[2])/3/255*100]}},tAAn:function(e,t,r){"use strict";function n(e,r){switch(r){case t.MENUITEM:return Object.assign(Object.assign({},e),{kind:t.MENUITEM});case t.OPTION:return Object.assign(Object.assign({},e),{kind:t.OPTION});default:throw TypeError("Unknown Type sent to `entityTyper`")}}Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.ANY="any",e.APPLIED="applied",e.COUNTED="counted",e.MEASURED="measured"}(t.Role||(t.Role={})),t.MENUITEM=Symbol.for("MENUITEM"),t.OPTION=Symbol.for("OPTION"),t.genericEntityFactory=(e,t)=>n(e,t),t.specificEntityFactory=(e,t)=>n(e,t),t.entityTyper=n},tGWH:function(e,t,r){"use strict";var n=r("RsFJ"),i=r("RjOF"),o=r("ZONP"),s=r("my8H"),a=r("Zpkj"),c=r("KJAg");e.exports=function(e,t,r){var i,s,a,m,g,y,b,S,w,C,P,T,R,M,A,I,_,N,D,F,j,B,z,q,L=this.options.commonmark,W=this.options.pedantic,U=this.blockTokenizers,$=this.interruptList,K=0,H=t.length,G=null,V=0;for(;K<H;){if((m=t.charAt(K))===f)V+=v-V%v;else{if(m!==h)break;V++}K++}if(V>=v)return;if(m=t.charAt(K),i=L?O:E,!0===k[m])g=m,a=!1;else{for(a=!0,s="";K<H&&(m=t.charAt(K),o(m));)s+=m,K++;if(m=t.charAt(K),!s||!0!==i[m])return;G=parseInt(s,10),g=m}if((m=t.charAt(++K))!==h&&m!==f)return;if(r)return!0;K=0,M=[],A=[],I=[];for(;K<H;){for(y=t.indexOf(d,K),b=K,S=!1,q=!1,-1===y&&(y=H),z=K+v,V=0;K<H;){if((m=t.charAt(K))===f)V+=v-V%v;else{if(m!==h)break;V++}K++}if(V>=v&&(q=!0),_&&V>=_.indent&&(q=!0),m=t.charAt(K),w=null,!q){if(!0===k[m])w=m,K++,V++;else{for(s="";K<H&&(m=t.charAt(K),o(m));)s+=m,K++;m=t.charAt(K),K++,s&&!0===i[m]&&(w=m,V+=s.length+1)}if(w)if((m=t.charAt(K))===f)V+=v-V%v,K++;else if(m===h){for(z=K+v;K<z&&t.charAt(K)===h;)K++,V++;K===z&&t.charAt(K)===h&&(K-=v-1,V-=v-1)}else m!==d&&""!==m&&(w=null)}if(w){if(!W&&g!==w)break;S=!0}else L||q||t.charAt(b)!==h?L&&_&&(q=V>=_.indent||V>v):q=!0,S=!1,K=b;if(P=t.slice(b,y),C=b===K?P:t.slice(K,y),(w===u||w===l||w===p)&&U.thematicBreak.call(this,e,P,!0))break;if(T=R,R=!n(C).length,q&&_)_.value=_.value.concat(I,P),A=A.concat(I,P),I=[];else if(S)0!==I.length&&(_.value.push(""),_.trail=I.concat()),_={value:[P],indent:V,trail:[]},M.push(_),A=A.concat(I,P),I=[];else if(R){if(T)break;I.push(P)}else{if(T)break;if(c($,U,this,[e,P,!0]))break;_.value=_.value.concat(I,P),A=A.concat(I,P),I=[]}K=y+1}j=e(A.join(d)).reset({type:"list",ordered:a,start:G,loose:null,children:[]}),N=this.enterList(),D=this.enterBlock(),F=!1,K=-1,H=M.length;for(;++K<H;)_=M[K].value.join(d),B=e.now(),(_=e(_)(x(this,_,B),j)).loose&&(F=!0),_=M[K].trail.join(d),K!==H-1&&(_+=d),e(_);return N(),D(),j.loose=F,j};var u="*",l="_",p="-",h=" ",d="\n",f="\t",m="x",v=4,g=/\n\n(?!\s*$)/,y=/^\[([ \t]|x|X)][ \t]/,b=/^([ \t]*)([*+-]|\d+[.)])( {1,4}(?! )| |\t|$|(?=\n))([^\n]*)/,S=/^([ \t]*)([*+-]|\d+[.)])([ \t]+)/,w=/^( {1,4}|\t)?/gm,k={};k[u]=!0,k["+"]=!0,k[p]=!0;var E={".":!0},O={};function x(e,t,r){var n,i,o=e.offset,s=null;return t=(e.options.pedantic?C:P).apply(null,arguments),e.options.gfm&&(n=t.match(y))&&(i=n[0].length,s=n[1].toLowerCase()===m,o[r.line]+=i,t=t.slice(i)),{type:"listItem",loose:g.test(t)||t.charAt(t.length-1)===d,checked:s,children:e.tokenizeBlock(t,r)}}function C(e,t,r){var n=e.offset,i=r.line;return t=t.replace(S,o),i=r.line,t.replace(w,o);function o(e){return n[i]=(n[i]||0)+e.length,i++,""}}function P(e,t,r){var n,o,c,u,l,p,f,m=e.offset,v=r.line;for(u=(t=t.replace(b,(function(e,t,r,s,a){o=t+r+s,c=a,Number(r)<10&&o.length%2===1&&(r=h+r);return(n=t+i(h,r.length)+s)+c}))).split(d),(l=a(t,s(n).indent).split(d))[0]=c,m[v]=(m[v]||0)+o.length,v++,p=0,f=u.length;++p<f;)m[v]=(m[v]||0)+u[p].length-l[p].length,v++;return l.join(d)}O["."]=!0,O[")"]=!0},tN50:function(e,t,r){"use strict";var n=r("Y2Yi");function i(e,t,r,n,i){this.name=e,this.buffer=t,this.position=r,this.line=n,this.column=i}i.prototype.getSnippet=function(e,t){var r,i,o,s,a;if(!this.buffer)return null;for(e=e||4,t=t||75,r="",i=this.position;i>0&&-1==="\0\r\n\x85\u2028\u2029".indexOf(this.buffer.charAt(i-1));)if(i-=1,this.position-i>t/2-1){r=" ... ",i+=5;break}for(o="",s=this.position;s<this.buffer.length&&-1==="\0\r\n\x85\u2028\u2029".indexOf(this.buffer.charAt(s));)if((s+=1)-this.position>t/2-1){o=" ... ",s-=5;break}return a=this.buffer.slice(i,s),n.repeat(" ",e)+r+a+o+"\n"+n.repeat(" ",e+this.position-i+r.length)+"^"},i.prototype.toString=function(e){var t,r="";return this.name&&(r+='in "'+this.name+'" '),r+="at line "+(this.line+1)+", column "+(this.column+1),e||(t=this.getSnippet())&&(r+=":\n"+t),r},e.exports=i},tgay:function(e,t,r){"use strict";var n=r("NFD0");function i(e,t,r){var n,i;if("\\"===t.charAt(0)&&(n=t.charAt(1),-1!==this.escape.indexOf(n)))return!!r||(i="\n"===n?{type:"break"}:{type:"text",value:n},e("\\"+n)(i))}e.exports=i,i.locator=n},tjlA:function(e,t,r){"use strict";(function(e){var n=r("H7XF"),i=r("kVK+"),o=r("49sm");function s(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(e,t){if(s()<t)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=c.prototype:(null===e&&(e=new c(t)),e.length=t),e}function c(e,t,r){if(!c.TYPED_ARRAY_SUPPORT&&!(this instanceof c))return new c(e,t,r);if("number"===typeof e){if("string"===typeof t)throw new Error("If encoding is specified then the first argument must be a string");return p(this,e)}return u(this,e,t,r)}function u(e,t,r,n){if("number"===typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!==typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,r,n){if(t.byteLength,r<0||t.byteLength<r)throw new RangeError("'offset' is out of bounds");if(t.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");t=void 0===r&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,r):new Uint8Array(t,r,n);c.TYPED_ARRAY_SUPPORT?(e=t).__proto__=c.prototype:e=h(e,t);return e}(e,t,r,n):"string"===typeof t?function(e,t,r){"string"===typeof r&&""!==r||(r="utf8");if(!c.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|f(t,r),i=(e=a(e,n)).write(t,r);i!==n&&(e=e.slice(0,i));return e}(e,t,r):function(e,t){if(c.isBuffer(t)){var r=0|d(t.length);return 0===(e=a(e,r)).length?e:(t.copy(e,0,0,r),e)}if(t){if("undefined"!==typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!==typeof t.length||(n=t.length)!==n?a(e,0):h(e,t);if("Buffer"===t.type&&o(t.data))return h(e,t.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function l(e){if("number"!==typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function p(e,t){if(l(t),e=a(e,t<0?0:0|d(t)),!c.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)e[r]=0;return e}function h(e,t){var r=t.length<0?0:0|d(t.length);e=a(e,r);for(var n=0;n<r;n+=1)e[n]=255&t[n];return e}function d(e){if(e>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|e}function f(e,t){if(c.isBuffer(e))return e.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!==typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return L(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return W(e).length;default:if(n)return L(e).length;t=(""+t).toLowerCase(),n=!0}}function m(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return M(this,t,r);case"utf8":case"utf-8":return C(this,t,r);case"ascii":return T(this,t,r);case"latin1":case"binary":return R(this,t,r);case"base64":return x(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function v(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function g(e,t,r,n,i){if(0===e.length)return-1;if("string"===typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"===typeof t&&(t=c.from(t,n)),c.isBuffer(t))return 0===t.length?-1:y(e,t,r,n,i);if("number"===typeof t)return t&=255,c.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):y(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function y(e,t,r,n,i){var o,s=1,a=e.length,c=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;s=2,a/=2,c/=2,r/=2}function u(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){var l=-1;for(o=r;o<a;o++)if(u(e,o)===u(t,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===c)return l*s}else-1!==l&&(o-=o-l),l=-1}else for(r+c>a&&(r=a-c),o=r;o>=0;o--){for(var p=!0,h=0;h<c;h++)if(u(e,o+h)!==u(t,h)){p=!1;break}if(p)return o}return-1}function b(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o=t.length;if(o%2!==0)throw new TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var s=0;s<n;++s){var a=parseInt(t.substr(2*s,2),16);if(isNaN(a))return s;e[r+s]=a}return s}function S(e,t,r,n){return U(L(t,e.length-r),e,r,n)}function w(e,t,r,n){return U(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function k(e,t,r,n){return w(e,t,r,n)}function E(e,t,r,n){return U(W(t),e,r,n)}function O(e,t,r,n){return U(function(e,t){for(var r,n,i,o=[],s=0;s<e.length&&!((t-=2)<0);++s)r=e.charCodeAt(s),n=r>>8,i=r%256,o.push(i),o.push(n);return o}(t,e.length-r),e,r,n)}function x(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function C(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var o,s,a,c,u=e[i],l=null,p=u>239?4:u>223?3:u>191?2:1;if(i+p<=r)switch(p){case 1:u<128&&(l=u);break;case 2:128===(192&(o=e[i+1]))&&(c=(31&u)<<6|63&o)>127&&(l=c);break;case 3:o=e[i+1],s=e[i+2],128===(192&o)&&128===(192&s)&&(c=(15&u)<<12|(63&o)<<6|63&s)>2047&&(c<55296||c>57343)&&(l=c);break;case 4:o=e[i+1],s=e[i+2],a=e[i+3],128===(192&o)&&128===(192&s)&&128===(192&a)&&(c=(15&u)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&c<1114112&&(l=c)}null===l?(l=65533,p=1):l>65535&&(l-=65536,n.push(l>>>10&1023|55296),l=56320|1023&l),n.push(l),i+=p}return function(e){var t=e.length;if(t<=P)return String.fromCharCode.apply(String,e);var r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=P));return r}(n)}t.Buffer=c,t.SlowBuffer=function(e){+e!=e&&(e=0);return c.alloc(+e)},t.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"===typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(t){return!1}}(),t.kMaxLength=s(),c.poolSize=8192,c._augment=function(e){return e.__proto__=c.prototype,e},c.from=function(e,t,r){return u(null,e,t,r)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(e,t,r){return function(e,t,r,n){return l(t),t<=0?a(e,t):void 0!==r?"string"===typeof n?a(e,t).fill(r,n):a(e,t).fill(r):a(e,t)}(null,e,t,r)},c.allocUnsafe=function(e){return p(null,e)},c.allocUnsafeSlow=function(e){return p(null,e)},c.isBuffer=function(e){return!(null==e||!e._isBuffer)},c.compare=function(e,t){if(!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,n=t.length,i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=c.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var s=e[r];if(!c.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(n,i),i+=s.length}return n},c.byteLength=f,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)v(this,t,t+1);return this},c.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)v(this,t,t+3),v(this,t+1,t+2);return this},c.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)v(this,t,t+7),v(this,t+1,t+6),v(this,t+2,t+5),v(this,t+3,t+4);return this},c.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?C(this,0,e):m.apply(this,arguments)},c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){var e="",r=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(e+=" ... ")),"<Buffer "+e+">"},c.prototype.compare=function(e,t,r,n,i){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(n>>>=0),s=(r>>>=0)-(t>>>=0),a=Math.min(o,s),u=this.slice(n,i),l=e.slice(t,r),p=0;p<a;++p)if(u[p]!==l[p]){o=u[p],s=l[p];break}return o<s?-1:s<o?1:0},c.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},c.prototype.indexOf=function(e,t,r){return g(this,e,t,r,!0)},c.prototype.lastIndexOf=function(e,t,r){return g(this,e,t,r,!1)},c.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"===typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return b(this,e,t,r);case"utf8":case"utf-8":return S(this,e,t,r);case"ascii":return w(this,e,t,r);case"latin1":case"binary":return k(this,e,t,r);case"base64":return E(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,e,t,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var P=4096;function T(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function R(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function M(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=t;o<r;++o)i+=q(e[o]);return i}function A(e,t,r){for(var n=e.slice(t,r),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function I(e,t,r){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function _(e,t,r,n,i,o){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function N(e,t,r,n){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-r,2);i<o;++i)e[r+i]=(t&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function D(e,t,r,n){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-r,4);i<o;++i)e[r+i]=t>>>8*(n?i:3-i)&255}function F(e,t,r,n,i,o){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function j(e,t,r,n,o){return o||F(e,0,r,4),i.write(e,t,r,n,23,4),r+4}function B(e,t,r,n,o){return o||F(e,0,r,8),i.write(e,t,r,n,52,8),r+8}c.prototype.slice=function(e,t){var r,n=this.length;if((e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e),c.TYPED_ARRAY_SUPPORT)(r=this.subarray(e,t)).__proto__=c.prototype;else{var i=t-e;r=new c(i,void 0);for(var o=0;o<i;++o)r[o]=this[o+e]}return r},c.prototype.readUIntLE=function(e,t,r){e|=0,t|=0,r||I(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n},c.prototype.readUIntBE=function(e,t,r){e|=0,t|=0,r||I(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},c.prototype.readUInt8=function(e,t){return t||I(e,1,this.length),this[e]},c.prototype.readUInt16LE=function(e,t){return t||I(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUInt16BE=function(e,t){return t||I(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUInt32LE=function(e,t){return t||I(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUInt32BE=function(e,t){return t||I(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readIntLE=function(e,t,r){e|=0,t|=0,r||I(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},c.prototype.readIntBE=function(e,t,r){e|=0,t|=0,r||I(e,t,this.length);for(var n=t,i=1,o=this[e+--n];n>0&&(i*=256);)o+=this[e+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},c.prototype.readInt8=function(e,t){return t||I(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){t||I(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt16BE=function(e,t){t||I(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt32LE=function(e,t){return t||I(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return t||I(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readFloatLE=function(e,t){return t||I(e,4,this.length),i.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return t||I(e,4,this.length),i.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return t||I(e,8,this.length),i.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return t||I(e,8,this.length),i.read(this,e,!1,52,8)},c.prototype.writeUIntLE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||_(this,e,t,r,Math.pow(2,8*r)-1,0);var i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},c.prototype.writeUIntBE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||_(this,e,t,r,Math.pow(2,8*r)-1,0);var i=r-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+r},c.prototype.writeUInt8=function(e,t,r){return e=+e,t|=0,r||_(this,e,t,1,255,0),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},c.prototype.writeUInt16LE=function(e,t,r){return e=+e,t|=0,r||_(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):N(this,e,t,!0),t+2},c.prototype.writeUInt16BE=function(e,t,r){return e=+e,t|=0,r||_(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):N(this,e,t,!1),t+2},c.prototype.writeUInt32LE=function(e,t,r){return e=+e,t|=0,r||_(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):D(this,e,t,!0),t+4},c.prototype.writeUInt32BE=function(e,t,r){return e=+e,t|=0,r||_(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):D(this,e,t,!1),t+4},c.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);_(this,e,t,r,i-1,-i)}var o=0,s=1,a=0;for(this[t]=255&e;++o<r&&(s*=256);)e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+r},c.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);_(this,e,t,r,i-1,-i)}var o=r-1,s=1,a=0;for(this[t+o]=255&e;--o>=0&&(s*=256);)e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+r},c.prototype.writeInt8=function(e,t,r){return e=+e,t|=0,r||_(this,e,t,1,127,-128),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,r){return e=+e,t|=0,r||_(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):N(this,e,t,!0),t+2},c.prototype.writeInt16BE=function(e,t,r){return e=+e,t|=0,r||_(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):N(this,e,t,!1),t+2},c.prototype.writeInt32LE=function(e,t,r){return e=+e,t|=0,r||_(this,e,t,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):D(this,e,t,!0),t+4},c.prototype.writeInt32BE=function(e,t,r){return e=+e,t|=0,r||_(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):D(this,e,t,!1),t+4},c.prototype.writeFloatLE=function(e,t,r){return j(this,e,t,!0,r)},c.prototype.writeFloatBE=function(e,t,r){return j(this,e,t,!1,r)},c.prototype.writeDoubleLE=function(e,t,r){return B(this,e,t,!0,r)},c.prototype.writeDoubleBE=function(e,t,r){return B(this,e,t,!1,r)},c.prototype.copy=function(e,t,r,n){if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i,o=n-r;if(this===e&&r<t&&t<n)for(i=o-1;i>=0;--i)e[i+t]=this[i+r];else if(o<1e3||!c.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+o),t);return o},c.prototype.fill=function(e,t,r,n){if("string"===typeof e){if("string"===typeof t?(n=t,t=0,r=this.length):"string"===typeof r&&(n=r,r=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==n&&"string"!==typeof n)throw new TypeError("encoding must be a string");if("string"===typeof n&&!c.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"===typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var o;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"===typeof e)for(o=t;o<r;++o)this[o]=e;else{var s=c.isBuffer(e)?e:L(new c(e,n).toString()),a=s.length;for(o=0;o<r-t;++o)this[o+t]=s[o%a]}return this};var z=/[^+\/0-9A-Za-z-_]/g;function q(e){return e<16?"0"+e.toString(16):e.toString(16)}function L(e,t){var r;t=t||1/0;for(var n=e.length,i=null,o=[],s=0;s<n;++s){if((r=e.charCodeAt(s))>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function W(e){return n.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(z,"")).length<2)return"";for(;e.length%4!==0;)e+="=";return e}(e))}function U(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}}).call(this,r("yLpj"))},"u3i/":function(e,t,r){"use strict";var n=r("ZkSf");function i(e,t,r,n){if("remove"===n)r.children.splice(t,1);else if("unwrap"===n){var i=[t,1];e.children&&(i=i.concat(e.children)),Array.prototype.splice.apply(r.children,i)}}t.ofType=function(e,t){return function(t){return e.forEach((function(e){return n(t,e,r,!0)})),t};function r(e,r,n){n&&i(e,r,n,t)}},t.ifNotMatch=function(e,t){return function(e){return n(e,r,!0),e};function r(r,n,o){o&&!e(r,n,o)&&i(r,n,o,t)}}},u8hu:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("dhqo"),i=r("w9WE"),o=r("1bk0");t.RemovalGenerator=class{constructor(e,t,r,n,i,s){this.orderGenerator=new o.OrderGenerator(e,t,[1,1],r),this.maxItemCount=n,this.removePrologues=i,this.removeEpilogues=s}randomGenericEntityRemoval(e){const t=[];for(let i=0;i<2;++i)t.push(this.orderGenerator.randomOrder(e));const r=e.randomChoice(t),n=t.filter(e=>e!==r),o=this.removePrologues.randomAlias(e),s=this.textFromGeneric(r),a=this.removeEpilogues.randomAlias(e),c=new i.RemoveX(o,s,a,n);return[...t,c]}textFromGeneric(e){for(const t of e.parts)if(t instanceof i.SegmentX){const e=n(t.entity.text,t.quantity.value);return new i.WordX(e)}throw TypeError("textFromGeneric: expect at least one SegmentX")}}},uDiL:function(e,t,r){(function(e){var n;!function(e,i,o){function s(e){var t=this,r="";t.x=0,t.y=0,t.z=0,t.w=0,t.next=function(){var e=t.x^t.x<<11;return t.x=t.y,t.y=t.z,t.z=t.w,t.w^=t.w>>>19^e^e>>>8},e===(0|e)?t.x=e:r+=e;for(var n=0;n<r.length+64;n++)t.x^=0|r.charCodeAt(n),t.next()}function a(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t}function c(e,t){var r=new s(e),n=t&&t.state,i=function(){return(r.next()>>>0)/4294967296};return i.double=function(){do{var e=((r.next()>>>11)+(r.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},i.int32=r.next,i.quick=i,n&&("object"==typeof n&&a(n,r),i.state=function(){return a(r,{})}),i}i&&i.exports?i.exports=c:r("B9Yq")&&r("PDX0")?void 0===(n=function(){return c}.call(t,r,t,i))||(i.exports=n):this.xor128=c}(0,e,r("B9Yq"))}).call(this,r("YuTi")(e))},uSCx:function(e,t,r){"use strict";e.exports=function(e,t,r){var n=" ",i=e.level,o=e.dataLevel,s=e.schema[t],a=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,l="data"+(o||""),p="errs__"+i,h=e.util.copy(e),d="";h.level++;var f="valid"+h.level,m={},v={},g=e.opts.ownProperties;for(w in s){var y=s[w],b=Array.isArray(y)?v:m;b[w]=y}n+="var "+p+" = errors;";var S=e.errorPath;for(var w in n+="var missing"+i+";",v)if((b=v[w]).length){if(n+=" if ( "+l+e.util.getProperty(w)+" !== undefined ",g&&(n+=" && Object.prototype.hasOwnProperty.call("+l+", '"+e.util.escapeQuotes(w)+"') "),u){n+=" && ( ";var k=b;if(k)for(var E=-1,O=k.length-1;E<O;){M=k[E+=1],E&&(n+=" || "),n+=" ( ( "+(N=l+(_=e.util.getProperty(M)))+" === undefined ",g&&(n+=" || ! Object.prototype.hasOwnProperty.call("+l+", '"+e.util.escapeQuotes(M)+"') "),n+=") && (missing"+i+" = "+e.util.toQuotedString(e.opts.jsonPointers?M:_)+") ) "}n+=")) {  ";var x="missing"+i,C="' + "+x+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(S,x,!0):S+" + "+x);var P=P||[];P.push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { property: '"+e.util.escapeQuotes(w)+"', missingProperty: '"+C+"', depsCount: "+b.length+", deps: '"+e.util.escapeQuotes(1==b.length?b[0]:b.join(", "))+"' } ",!1!==e.opts.messages&&(n+=" , message: 'should have ",1==b.length?n+="property "+e.util.escapeQuotes(b[0]):n+="properties "+e.util.escapeQuotes(b.join(", ")),n+=" when property "+e.util.escapeQuotes(w)+" is present' "),e.opts.verbose&&(n+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ";var T=n;n=P.pop(),!e.compositeRule&&u?e.async?n+=" throw new ValidationError(["+T+"]); ":n+=" validate.errors = ["+T+"]; return false; ":n+=" var err = "+T+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else{n+=" ) { ";var R=b;if(R)for(var M,A=-1,I=R.length-1;A<I;){M=R[A+=1];var _=e.util.getProperty(M),N=(C=e.util.escapeQuotes(M),l+_);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(S,M,e.opts.jsonPointers)),n+=" if ( "+N+" === undefined ",g&&(n+=" || ! Object.prototype.hasOwnProperty.call("+l+", '"+e.util.escapeQuotes(M)+"') "),n+=") {  var err =   ",!1!==e.createErrors?(n+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { property: '"+e.util.escapeQuotes(w)+"', missingProperty: '"+C+"', depsCount: "+b.length+", deps: '"+e.util.escapeQuotes(1==b.length?b[0]:b.join(", "))+"' } ",!1!==e.opts.messages&&(n+=" , message: 'should have ",1==b.length?n+="property "+e.util.escapeQuotes(b[0]):n+="properties "+e.util.escapeQuotes(b.join(", ")),n+=" when property "+e.util.escapeQuotes(w)+" is present' "),e.opts.verbose&&(n+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}n+=" }   ",u&&(d+="}",n+=" else { ")}e.errorPath=S;var D=h.baseId;for(var w in m){y=m[w];(e.opts.strictKeywords?"object"==typeof y&&Object.keys(y).length>0:e.util.schemaHasRules(y,e.RULES.all))&&(n+=" "+f+" = true; if ( "+l+e.util.getProperty(w)+" !== undefined ",g&&(n+=" && Object.prototype.hasOwnProperty.call("+l+", '"+e.util.escapeQuotes(w)+"') "),n+=") { ",h.schema=y,h.schemaPath=a+e.util.getProperty(w),h.errSchemaPath=c+"/"+e.util.escapeFragment(w),n+="  "+e.validate(h)+" ",h.baseId=D,n+=" }  ",u&&(n+=" if ("+f+") { ",d+="}"))}return u&&(n+="   "+d+" if ("+p+" == errors) {"),n=e.util.cleanUpCode(n)}},ugD5:function(e,t,r){"use strict";var n=r("+9rK");e.exports=function(e){n.copy(e,this)}},ujgL:function(e,t,r){"use strict";var n=r("IPAr");e.exports=function(e,t,r){var y,b,S,w,k,E,O,x,C,P,T,R,M,A,I,_,N,D,F,j,B,z,q,L;if(!this.options.gfm)return;y=0,D=0,E=t.length+1,O=[];for(;y<E;){if(z=t.indexOf(l,y),q=t.indexOf(a,y+1),-1===z&&(z=t.length),-1===q||q>z){if(D<d)return;break}O.push(t.slice(y,z)),D++,y=z+1}w=O.join(l),b=O.splice(1,1)[0]||[],y=0,E=b.length,D--,S=!1,T=[];for(;y<E;){if((C=b.charAt(y))===a){if(P=null,!1===S){if(!1===L)return}else T.push(S),S=!1;L=!1}else if(C===s)P=!0,S=S||g;else if(C===c)S=S===f?m:P&&S===g?v:f;else if(!n(C))return;y++}!1!==S&&T.push(S);if(T.length<h)return;if(r)return!0;N=-1,j=[],B=e(w).reset({type:"table",align:T,children:j});for(;++N<D;){for(F=O[N],k={type:"tableRow",children:[]},N&&e(l),e(F).reset(k,B),E=F.length+1,y=0,x="",R="",M=!0,A=null,I=null;y<E;)if((C=F.charAt(y))!==p&&C!==u){if(""===C||C===a)if(M)e(C);else{if(C&&I){x+=C,y++;continue}!R&&!C||M||(w=R,x.length>1&&(C?(w+=x.slice(0,x.length-1),x=x.charAt(x.length-1)):(w+=x,x="")),_=e.now(),e(w)({type:"tableCell",children:this.tokenizeInline(R,_)},k)),e(x+C),x="",R=""}else if(x&&(R+=x,x=""),R+=C,C===i&&y!==E-2&&(R+=F.charAt(y+1),y++),C===o){for(A=1;F.charAt(y+1)===C;)R+=C,y++,A++;I?A>=I&&(I=0):I=A}M=!1,y++}else R?x+=C:e(C),y++;N||e(l+b)}return B};var i="\\",o="`",s="-",a="|",c=":",u=" ",l="\n",p="\t",h=1,d=2,f="left",m="center",v="right",g=null},ulfs:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return o}));var n,i=r("YonC");!function(e){e[e.Debug=0]="Debug",e[e.Info=1]="Info",e[e.Warning=2]="Warning",e[e.Error=3]="Error"}(n||(n={}));class o{constructor(e,t){this.privName=e,this.privEventId=Object(i.a)(),this.privEventTime=(new Date).toISOString(),this.privEventType=t,this.privMetadata={}}get name(){return this.privName}get eventId(){return this.privEventId}get eventTime(){return this.privEventTime}get eventType(){return this.privEventType}get metadata(){return this.privMetadata}}},uxXc:function(e,t,r){var n=r("t1N5"),i=r("onlc"),o={};Object.keys(n).forEach((function(e){o[e]={},Object.defineProperty(o[e],"channels",{value:n[e].channels}),Object.defineProperty(o[e],"labels",{value:n[e].labels});var t=i(e);Object.keys(t).forEach((function(r){var n=t[r];o[e][r]=function(e){var t=function(t){if(void 0===t||null===t)return t;arguments.length>1&&(t=Array.prototype.slice.call(arguments));var r=e(t);if("object"===typeof r)for(var n=r.length,i=0;i<n;i++)r[i]=Math.round(r[i]);return r};return"conversion"in e&&(t.conversion=e.conversion),t}(n),o[e][r].raw=function(e){var t=function(t){return void 0===t||null===t?t:(arguments.length>1&&(t=Array.prototype.slice.call(arguments)),e(t))};return"conversion"in e&&(t.conversion=e.conversion),t}(n)}))})),e.exports=o},uzq8:function(e,t,r){"use strict";e.exports=function(e,t,r){var n=[];"function"===typeof t&&(r=t,t=null);function i(e){var o;return t&&e.type!==t||(o=r(e,n.concat())),e.children&&!1!==o?function(e,t){var r,o=e.length,s=-1;n.push(t);for(;++s<o;)if((r=e[s])&&!1===i(r))return!1;return n.pop(),!0}(e.children,e):o}i(e)}},v43d:function(e,t,r){"use strict";e.exports=function(e,t,r){var n,i=" ",o=e.level,s=e.dataLevel,a=e.schema[t],c=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,p="data"+(s||""),h=e.opts.$data&&a&&a.$data;h?(i+=" var schema"+o+" = "+e.util.getData(a.$data,s,e.dataPathArr)+"; ",n="schema"+o):n=a;var d="maximum"==t,f=d?"exclusiveMaximum":"exclusiveMinimum",m=e.schema[f],v=e.opts.$data&&m&&m.$data,g=d?"<":">",y=d?">":"<",b=void 0;if(v){var S=e.util.getData(m.$data,s,e.dataPathArr),w="exclusive"+o,k="exclType"+o,E="exclIsNumber"+o,O="' + "+(P="op"+o)+" + '";i+=" var schemaExcl"+o+" = "+S+"; ",i+=" var "+w+"; var "+k+" = typeof "+(S="schemaExcl"+o)+"; if ("+k+" != 'boolean' && "+k+" != 'undefined' && "+k+" != 'number') { ";var x;b=f;(x=x||[]).push(i),i="",!1!==e.createErrors?(i+=" { keyword: '"+(b||"_exclusiveLimit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: {} ",!1!==e.opts.messages&&(i+=" , message: '"+f+" should be boolean' "),e.opts.verbose&&(i+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+p+" "),i+=" } "):i+=" {} ";var C=i;i=x.pop(),!e.compositeRule&&l?e.async?i+=" throw new ValidationError(["+C+"]); ":i+=" validate.errors = ["+C+"]; return false; ":i+=" var err = "+C+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } else if ( ",h&&(i+=" ("+n+" !== undefined && typeof "+n+" != 'number') || "),i+=" "+k+" == 'number' ? ( ("+w+" = "+n+" === undefined || "+S+" "+g+"= "+n+") ? "+p+" "+y+"= "+S+" : "+p+" "+y+" "+n+" ) : ( ("+w+" = "+S+" === true) ? "+p+" "+y+"= "+n+" : "+p+" "+y+" "+n+" ) || "+p+" !== "+p+") { var op"+o+" = "+w+" ? '"+g+"' : '"+g+"='; ",void 0===a&&(b=f,u=e.errSchemaPath+"/"+f,n=S,h=v)}else{O=g;if((E="number"==typeof m)&&h){var P="'"+O+"'";i+=" if ( ",h&&(i+=" ("+n+" !== undefined && typeof "+n+" != 'number') || "),i+=" ( "+n+" === undefined || "+m+" "+g+"= "+n+" ? "+p+" "+y+"= "+m+" : "+p+" "+y+" "+n+" ) || "+p+" !== "+p+") { "}else{E&&void 0===a?(w=!0,b=f,u=e.errSchemaPath+"/"+f,n=m,y+="="):(E&&(n=Math[d?"min":"max"](m,a)),m===(!E||n)?(w=!0,b=f,u=e.errSchemaPath+"/"+f,y+="="):(w=!1,O+="="));P="'"+O+"'";i+=" if ( ",h&&(i+=" ("+n+" !== undefined && typeof "+n+" != 'number') || "),i+=" "+p+" "+y+" "+n+" || "+p+" !== "+p+") { "}}b=b||t,(x=x||[]).push(i),i="",!1!==e.createErrors?(i+=" { keyword: '"+(b||"_limit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { comparison: "+P+", limit: "+n+", exclusive: "+w+" } ",!1!==e.opts.messages&&(i+=" , message: 'should be "+O+" ",i+=h?"' + "+n:n+"'"),e.opts.verbose&&(i+=" , schema:  ",i+=h?"validate.schema"+c:""+a,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+p+" "),i+=" } "):i+=" {} ";C=i;return i=x.pop(),!e.compositeRule&&l?e.async?i+=" throw new ValidationError(["+C+"]); ":i+=" validate.errors = ["+C+"]; return false; ":i+=" var err = "+C+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } ",l&&(i+=" else { "),i}},v4tf:function(e,t){const r=[{tests:[]}];e.exports=r.length<=1?r[0]:r},vQl5:function(e,t,r){"use strict";var n=r("hyoZ");e.exports=new n("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return null!==e?e:[]}})},vQy6:function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r("Vxyp")),n(r("bwfL")),n(r("BUIh")),n(r("w9WE")),n(r("iKkf")),n(r("1bk0")),n(r("V61Y")),n(r("WV1e")),n(r("u8hu")),n(r("7+rb")),n(r("dLq5"))},vVvC:function(e,t,r){"use strict";e.exports=function(e,t,r){var n=" ",i=e.level,o=e.dataLevel,s=e.schema[t],a=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,l="data"+(o||""),p="errs__"+i,h=e.util.copy(e),d="";h.level++;var f="valid"+h.level,m="key"+i,v="idx"+i,g=h.dataLevel=e.dataLevel+1,y="data"+g,b="dataProperties"+i,S=Object.keys(s||{}),w=e.schema.patternProperties||{},k=Object.keys(w),E=e.schema.additionalProperties,O=S.length||k.length,x=!1===E,C="object"==typeof E&&Object.keys(E).length,P=e.opts.removeAdditional,T=x||C||P,R=e.opts.ownProperties,M=e.baseId,A=e.schema.required;if(A&&(!e.opts.$data||!A.$data)&&A.length<e.opts.loopRequired)var I=e.util.toHash(A);if(n+="var "+p+" = errors;var "+f+" = true;",R&&(n+=" var "+b+" = undefined;"),T){if(n+=R?" "+b+" = "+b+" || Object.keys("+l+"); for (var "+v+"=0; "+v+"<"+b+".length; "+v+"++) { var "+m+" = "+b+"["+v+"]; ":" for (var "+m+" in "+l+") { ",O){if(n+=" var isAdditional"+i+" = !(false ",S.length)if(S.length>8)n+=" || validate.schema"+a+".hasOwnProperty("+m+") ";else{var _=S;if(_)for(var N=-1,D=_.length-1;N<D;)V=_[N+=1],n+=" || "+m+" == "+e.util.toQuotedString(V)+" "}if(k.length){var F=k;if(F)for(var j=-1,B=F.length-1;j<B;)ie=F[j+=1],n+=" || "+e.usePattern(ie)+".test("+m+") "}n+=" ); if (isAdditional"+i+") { "}if("all"==P)n+=" delete "+l+"["+m+"]; ";else{var z=e.errorPath,q="' + "+m+" + '";if(e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers)),x)if(P)n+=" delete "+l+"["+m+"]; ";else{n+=" "+f+" = false; ";var L=c;c=e.errSchemaPath+"/additionalProperties",(te=te||[]).push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'additionalProperties' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { additionalProperty: '"+q+"' } ",!1!==e.opts.messages&&(n+=" , message: '",e.opts._errorDataPathProperty?n+="is an invalid additional property":n+="should NOT have additional properties",n+="' "),e.opts.verbose&&(n+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ";var W=n;n=te.pop(),!e.compositeRule&&u?e.async?n+=" throw new ValidationError(["+W+"]); ":n+=" validate.errors = ["+W+"]; return false; ":n+=" var err = "+W+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",c=L,u&&(n+=" break; ")}else if(C)if("failing"==P){n+=" var "+p+" = errors;  ";var U=e.compositeRule;e.compositeRule=h.compositeRule=!0,h.schema=E,h.schemaPath=e.schemaPath+".additionalProperties",h.errSchemaPath=e.errSchemaPath+"/additionalProperties",h.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers);var $=l+"["+m+"]";h.dataPathArr[g]=m;var K=e.validate(h);h.baseId=M,e.util.varOccurences(K,y)<2?n+=" "+e.util.varReplace(K,y,$)+" ":n+=" var "+y+" = "+$+"; "+K+" ",n+=" if (!"+f+") { errors = "+p+"; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete "+l+"["+m+"]; }  ",e.compositeRule=h.compositeRule=U}else{h.schema=E,h.schemaPath=e.schemaPath+".additionalProperties",h.errSchemaPath=e.errSchemaPath+"/additionalProperties",h.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers);$=l+"["+m+"]";h.dataPathArr[g]=m;K=e.validate(h);h.baseId=M,e.util.varOccurences(K,y)<2?n+=" "+e.util.varReplace(K,y,$)+" ":n+=" var "+y+" = "+$+"; "+K+" ",u&&(n+=" if (!"+f+") break; ")}e.errorPath=z}O&&(n+=" } "),n+=" }  ",u&&(n+=" if ("+f+") { ",d+="}")}var H=e.opts.useDefaults&&!e.compositeRule;if(S.length){var G=S;if(G)for(var V,Y=-1,Q=G.length-1;Y<Q;){var Z=s[V=G[Y+=1]];if(e.opts.strictKeywords?"object"==typeof Z&&Object.keys(Z).length>0:e.util.schemaHasRules(Z,e.RULES.all)){var J=e.util.getProperty(V),X=($=l+J,H&&void 0!==Z.default);h.schema=Z,h.schemaPath=a+J,h.errSchemaPath=c+"/"+e.util.escapeFragment(V),h.errorPath=e.util.getPath(e.errorPath,V,e.opts.jsonPointers),h.dataPathArr[g]=e.util.toQuotedString(V);K=e.validate(h);if(h.baseId=M,e.util.varOccurences(K,y)<2){K=e.util.varReplace(K,y,$);var ee=$}else{ee=y;n+=" var "+y+" = "+$+"; "}if(X)n+=" "+K+" ";else{if(I&&I[V]){n+=" if ( "+ee+" === undefined ",R&&(n+=" || ! Object.prototype.hasOwnProperty.call("+l+", '"+e.util.escapeQuotes(V)+"') "),n+=") { "+f+" = false; ";z=e.errorPath,L=c;var te,re=e.util.escapeQuotes(V);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(z,V,e.opts.jsonPointers)),c=e.errSchemaPath+"/required",(te=te||[]).push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { missingProperty: '"+re+"' } ",!1!==e.opts.messages&&(n+=" , message: '",e.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+re+"\\'",n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ";W=n;n=te.pop(),!e.compositeRule&&u?e.async?n+=" throw new ValidationError(["+W+"]); ":n+=" validate.errors = ["+W+"]; return false; ":n+=" var err = "+W+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",c=L,e.errorPath=z,n+=" } else { "}else u?(n+=" if ( "+ee+" === undefined ",R&&(n+=" || ! Object.prototype.hasOwnProperty.call("+l+", '"+e.util.escapeQuotes(V)+"') "),n+=") { "+f+" = true; } else { "):(n+=" if ("+ee+" !== undefined ",R&&(n+=" &&   Object.prototype.hasOwnProperty.call("+l+", '"+e.util.escapeQuotes(V)+"') "),n+=" ) { ");n+=" "+K+" } "}}u&&(n+=" if ("+f+") { ",d+="}")}}if(k.length){var ne=k;if(ne)for(var ie,oe=-1,se=ne.length-1;oe<se;){Z=w[ie=ne[oe+=1]];if(e.opts.strictKeywords?"object"==typeof Z&&Object.keys(Z).length>0:e.util.schemaHasRules(Z,e.RULES.all)){h.schema=Z,h.schemaPath=e.schemaPath+".patternProperties"+e.util.getProperty(ie),h.errSchemaPath=e.errSchemaPath+"/patternProperties/"+e.util.escapeFragment(ie),n+=R?" "+b+" = "+b+" || Object.keys("+l+"); for (var "+v+"=0; "+v+"<"+b+".length; "+v+"++) { var "+m+" = "+b+"["+v+"]; ":" for (var "+m+" in "+l+") { ",n+=" if ("+e.usePattern(ie)+".test("+m+")) { ",h.errorPath=e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers);$=l+"["+m+"]";h.dataPathArr[g]=m;K=e.validate(h);h.baseId=M,e.util.varOccurences(K,y)<2?n+=" "+e.util.varReplace(K,y,$)+" ":n+=" var "+y+" = "+$+"; "+K+" ",u&&(n+=" if (!"+f+") break; "),n+=" } ",u&&(n+=" else "+f+" = true; "),n+=" }  ",u&&(n+=" if ("+f+") { ",d+="}")}}}return u&&(n+=" "+d+" if ("+p+" == errors) {"),n=e.util.cleanUpCode(n)}},vx86:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("btwx"),i=r("au7Y"),o=r("a+xf"),s=r("pMpP");t.formatScoredSuite=function(e,t,r={showDetails:!0,showPassing:!1,showFailing:!0,showMeasures:!0,showBySuite:!0}){e.push("---------------------------------------");const a=new o.PassFailRates;for(const n of i.enumerateTestCases(t)){const t=n.steps.reduce((e,t)=>e+t.measures.repairs.cost,0);a.record(n.suites,0===t);const i=0===t;if(r.showDetails&&(i&&r.showPassing||!i&&r.showFailing)){e.push(`${n.id}: ${n.comment}`);for(const[t,r]of n.steps.entries()){const{repairs:n}=r.measures,i=n.cost>0?"NEEDS REPAIRS":"OK";e.push(`  step ${t}: ${i}`);for(const t of r.turns)"transcription"in t&&e.push(`    ${t.speaker}: ${t.transcription}`);e.push(" ");const o=[];s.renderCart(o,r.cart);for(const t of o)e.push("    "+t);e.push(" ");for(const t of n.steps)e.push(`    ${t}`)}e.push(" "),e.push("---------------------------------------")}}if(r.showMeasures){if(n.formatAggregateMeasures(e,t.measures),e.push(" "),r.showBySuite){e.push("Case pass rate by suite:");const t=a.format();for(const r of t)e.push("  "+r)}e.push("---------------------------------------")}return e.push(""),e.push(""),e}},vyC1:function(e,t,r){"use strict";r.d(t,"h",(function(){return i})),r.d(t,"g",(function(){return s})),r.d(t,"d",(function(){return a})),r.d(t,"a",(function(){return c})),r.d(t,"b",(function(){return u})),r.d(t,"c",(function(){return l})),r.d(t,"e",(function(){return p})),r.d(t,"f",(function(){return h}));var n=r("ulfs");class i extends n.b{constructor(e,t,r=n.a.Info){super(e,r),this.privJsonResult=t}get jsonString(){return this.privJsonResult}}class o extends n.b{constructor(e,t,r=n.a.Info){super(e,r),this.privConnectionId=t}get connectionId(){return this.privConnectionId}}class s extends o{constructor(e,t,r){super("ConnectionStartEvent",e),this.privUri=t,this.privHeaders=r}get uri(){return this.privUri}get headers(){return this.privHeaders}}class a extends o{constructor(e,t){super("ConnectionEstablishedEvent",e)}}class c extends o{constructor(e,t,r){super("ConnectionClosedEvent",e,n.a.Debug),this.privRreason=r,this.privStatusCode=t}get reason(){return this.privRreason}get statusCode(){return this.privStatusCode}}class u extends o{constructor(e,t,r){super("ConnectionErrorEvent",e,n.a.Debug),this.privMessage=t,this.privType=r}get message(){return this.privMessage}get type(){return this.privType}}class l extends o{constructor(e,t,r){super("ConnectionEstablishErrorEvent",e,n.a.Error),this.privStatusCode=t,this.privReason=r}get reason(){return this.privReason}get statusCode(){return this.privStatusCode}}class p extends o{constructor(e,t,r){super("ConnectionMessageReceivedEvent",e),this.privNetworkReceivedTime=t,this.privMessage=r}get networkReceivedTime(){return this.privNetworkReceivedTime}get message(){return this.privMessage}}class h extends o{constructor(e,t,r){super("ConnectionMessageSentEvent",e),this.privNetworkSentTime=t,this.privMessage=r}get networkSentTime(){return this.privNetworkSentTime}get message(){return this.privMessage}}},"w+qe":function(e,t,r){"use strict";function n(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=(this.reason||"(unknown reason)")+(this.mark?" "+this.mark.toString():""),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack||""}n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n.prototype.toString=function(e){var t=this.name+": ";return t+=this.reason||"(unknown reason)",!e&&this.mark&&(t+=" "+this.mark.toString()),t},e.exports=n},w9WE:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("dhqo"),i=r("94Iq"),o=r("dLq5");t.LEFT=Symbol("LEFT"),t.RIGHT=Symbol("RIGHT"),t.EITHER=Symbol("EITHER");t.QuantityX=class{constructor(e,t){this.value=e,this.text=t}};t.AttributeX=class{constructor(e,t,r){this.role=i.Role.APPLIED,this.aid=e,this.text=t,this.position=r}buildItem(){return null}isOption(){return!1}};t.QuantifiedOptionX=class{constructor(e,t,r,n,i){this.quantity=e,this.key=t,this.role=i,"a"===e.text&&c(r)?this.text=`an ${r}`:e.text.length>0?this.text=`${e.text} ${r}`:this.text=r,this.position=n}buildItem(){return{uid:0,quantity:this.quantity.value,key:this.key,children:[]}}isOption(){return!0}};t.AttributedOptionX=class{constructor(e,t,r,n,i){this.key=t,this.role=i,e.length>0&&e[0].text.length>0?this.text=`${e[0].text} ${r}`:this.text=r,this.position=n}buildItem(){return{uid:0,quantity:1,key:this.key,children:[]}}isOption(){return!0}};t.EntityX=class{constructor(e,t,r,i){this.quantity=e,this.attributes=t,this.key=r,this.text=n(i,e.value)}};t.ProductX=class{constructor(e,t,r,i,o){this.quantity=e,this.attributes=t,this.options=r,this.key=i,this.text=n(o,e.value)}randomSegment(e){const r=[],n=[];for(const o of this.attributes)o.position===t.LEFT?r.push(o):o.position===t.RIGHT?n.push(o):e.randomBoolean()?r.push(o):n.push(o);for(const o of this.options)o.position===t.LEFT?r.push(o):o.position===t.RIGHT?n.push(o):e.randomBoolean()?r.push(o):n.push(o);const i=o.permutation(r,e.randomInRange(0,r.length)),a=o.permutation(n,e.randomInRange(0,n.length));return new s(this.quantity,i,this,a)}};class s{constructor(e,t,r,n){this.buildText=()=>{const e=[];e.push(this.quantity.text);for(const n of this.left)e.push(n.text);e.push(this.entity.text);let t=!0,r=0;for(const[n,o]of this.right.entries())""!==o.text&&(o.role===i.Role.APPLIED?(t=!0,0!==r&&n===this.right.length-1&&e.push("and")):t?(t=!1,e.push("with")):n===this.right.length-1&&e.push("and"),e.push(o.text),++r);return e.length>=2&&"a"===e[0]&&c(e[1])&&(e[0]="an"),e},this.quantity=e,this.left=t,this.entity=r,this.right=n}buildItem(){const e=[];for(const t of this.left){const r=t.buildItem();null!==r&&e.push(r)}for(const t of this.right){const r=t.buildItem();null!==r&&e.push(r)}return{uid:0,quantity:this.quantity.value,key:this.entity.key,children:e}}}t.SegmentX=s;class a{constructor(e){this.buildText=()=>[this.text],this.text=e}}t.WordX=a;t.OrderX=class{constructor(e,t,r){this.parts=[],this.buildText=()=>{const e=[];for(const t of this.parts)for(const r of t.buildText())r.length>0&&e.push(r);return e};for(const n of e)this.parts.push(n);for(const[n,i]of t.entries())t.length>1&&n===t.length-1&&this.parts.push(new a("and")),this.parts.push(i);for(const n of r)this.parts.push(n)}buildItems(e){const t=[...e];for(const r of this.parts)r instanceof s&&t.push(r.buildItem());return t}};function c(e){return e.length>0&&-1!==["a","e","i","o","u"].indexOf(e[0].toLowerCase())}t.RemoveX=class{constructor(e,t,r,n){this.buildText=()=>{const e=[...this.prologue,this.target,...this.epilogue],t=[];for(const r of e)for(const e of r.buildText())e.length>0&&t.push(e);return t},this.prologue=e,this.target=t,this.epilogue=r,this.after=n}buildItems(){let e=[];for(const t of this.after)e=t.buildItems(e);return e}}},wCsn:function(e,t,r){"use strict";var n=r("IPAr"),i=r("EmYC"),o=r("kaWx");e.exports=v,v.locator=i;var s="link",a="image",c="footnote",u="shortcut",l="collapsed",p="full",h="^",d="\\",f="[",m="]";function v(e,t,r){var i,v,g,y,b,S,w,k,E=t.charAt(0),O=0,x=t.length,C="",P="",T=s,R=u;if("!"===E&&(T=a,P=E,E=t.charAt(++O)),E===f){if(O++,P+=E,S="",this.options.footnotes&&t.charAt(O)===h){if(T===a)return;P+=h,O++,T=c}for(k=0;O<x;){if((E=t.charAt(O))===f)w=!0,k++;else if(E===m){if(!k)break;k--}E===d&&(S+=d,E=t.charAt(++O)),S+=E,O++}if(C=S,i=S,(E=t.charAt(O))===m){for(O++,C+=E,S="";O<x&&(E=t.charAt(O),n(E));)S+=E,O++;if(E=t.charAt(O),T!==c&&E===f){for(v="",S+=E,O++;O<x&&(E=t.charAt(O))!==f&&E!==m;)E===d&&(v+=d,E=t.charAt(++O)),v+=E,O++;(E=t.charAt(O))===m?(R=v?p:l,S+=v+E,O++):v="",C+=S,S=""}else{if(!i)return;v=i}if(R===p||!w)return C=P+C,T===s&&this.inLink?null:!!r||(T===c&&-1!==i.indexOf(" ")?e(C)({type:"footnote",children:this.tokenizeInline(i,e.now())}):((g=e.now()).column+=P.length,g.offset+=P.length,y={type:T+"Reference",identifier:o(v=R===p?v:i)},T!==s&&T!==a||(y.referenceType=R),T===s?(b=this.enterLink(),y.children=this.tokenizeInline(i,g),b()):T===a&&(y.alt=this.decode.raw(this.unescape(i),g)||null),e(C)(y)))}}}},wXyd:function(e,t,r){"use strict";var n=r("Y3YA"),i=r("+9rK").toHash;e.exports=function(){var e=[{type:"number",rules:[{maximum:["exclusiveMaximum"]},{minimum:["exclusiveMinimum"]},"multipleOf","format"]},{type:"string",rules:["maxLength","minLength","pattern","format"]},{type:"array",rules:["maxItems","minItems","items","contains","uniqueItems"]},{type:"object",rules:["maxProperties","minProperties","required","dependencies","propertyNames",{properties:["additionalProperties","patternProperties"]}]},{rules:["$ref","const","enum","not","anyOf","oneOf","allOf","if"]}],t=["type","$comment"];return e.all=i(t),e.types=i(["number","integer","string","array","object","boolean","null"]),e.forEach((function(r){r.rules=r.rules.map((function(r){var i;if("object"==typeof r){var o=Object.keys(r)[0];i=r[o],r=o,i.forEach((function(r){t.push(r),e.all[r]=!0}))}return t.push(r),e.all[r]={keyword:r,code:n[r],implements:i}})),e.all.$comment={keyword:"$comment",code:n.$comment},r.type&&(e.types[r.type]=r)})),e.keywords=i(t.concat(["$schema","$id","id","$data","$async","title","description","default","definitions","examples","readOnly","writeOnly","contentMediaType","contentEncoding","additionalItems","then","else"])),e.custom={},e}},wnOJ:function(e,t,r){var n=r("uzq8");e.exports=function(){return function(e){return n(e,"list",(function(e,t){var r,n,i=0;for(r=0,n=t.length;r<n;r++)"list"===t[r].type&&(i+=1);for(r=0,n=e.children.length;r<n;r++){var o=e.children[r];o.index=r,o.ordered=e.ordered}e.depth=i})),e}}},xjB9:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tailRec=void 0,t.tailRec=function(e,t){for(var r=t(e);"Left"===r._tag;)r=t(r.left);return r.right}},xkQk:function(e,t,r){"use strict";var n=r("EBzq");e.exports=o,o.wrap=n;var i=[].slice;function o(){var e=[],t={run:function(){var t=-1,r=i.call(arguments,0,-1),o=arguments[arguments.length-1];if("function"!==typeof o)throw new Error("Expected function as last argument, not "+o);(function s(a){var c=e[++t],u=i.call(arguments,0).slice(1),l=r.length,p=-1;if(a)o(a);else{for(;++p<l;)null!==u[p]&&void 0!==u[p]||(u[p]=r[p]);r=u,c?n(c,s).apply(null,r):o.apply(null,[null].concat(r))}}).apply(null,[null].concat(r))},use:function(r){if("function"!==typeof r)throw new Error("Expected `fn` to be a function, not "+r);return e.push(r),t}};return t}},yLpj:function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(n){"object"===typeof window&&(r=window)}e.exports=r},yQjB:function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r("Ikv3")),n(r("TPPd")),n(r("51yK")),n(r("/uxe")),n(r("Gg6i"))},ySIl:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("nNxe");t.splitOnEntities=function(e){const t=[],r=[];let i=[];for(const o of e)o.type===n.ENTITY?(r.push(i),i=[],t.push(o)):i.push(o);return(t.length>0||i.length>0)&&r.push(i),{entities:t,gaps:r}},t.enumerateSplits=function*(e){if(e.length<2){throw TypeError("enumerateSplits: must have at least two lengths.")}for(const t of function*e(t,r){if(0===t)for(const n of e(t+1,r))yield[0,...n];else if(t===r.length-1)yield[r[t]];else for(let n=0;n<=r[t];++n)for(const i of e(t+1,r))yield[n,...i]}(0,e))yield t}},ydHo:function(e,t,r){"use strict";var n=r("Y2Yi"),i=r("hyoZ");function o(e){return 48<=e&&e<=55}function s(e){return 48<=e&&e<=57}e.exports=new i("tag:yaml.org,2002:int",{kind:"scalar",resolve:function(e){if(null===e)return!1;var t,r,n=e.length,i=0,a=!1;if(!n)return!1;if("-"!==(t=e[i])&&"+"!==t||(t=e[++i]),"0"===t){if(i+1===n)return!0;if("b"===(t=e[++i])){for(i++;i<n;i++)if("_"!==(t=e[i])){if("0"!==t&&"1"!==t)return!1;a=!0}return a&&"_"!==t}if("x"===t){for(i++;i<n;i++)if("_"!==(t=e[i])){if(!(48<=(r=e.charCodeAt(i))&&r<=57||65<=r&&r<=70||97<=r&&r<=102))return!1;a=!0}return a&&"_"!==t}for(;i<n;i++)if("_"!==(t=e[i])){if(!o(e.charCodeAt(i)))return!1;a=!0}return a&&"_"!==t}if("_"===t)return!1;for(;i<n;i++)if("_"!==(t=e[i])){if(":"===t)break;if(!s(e.charCodeAt(i)))return!1;a=!0}return!(!a||"_"===t)&&(":"!==t||/^(:[0-5]?[0-9])+$/.test(e.slice(i)))},construct:function(e){var t,r,n=e,i=1,o=[];return-1!==n.indexOf("_")&&(n=n.replace(/_/g,"")),"-"!==(t=n[0])&&"+"!==t||("-"===t&&(i=-1),t=(n=n.slice(1))[0]),"0"===n?0:"0"===t?"b"===n[1]?i*parseInt(n.slice(2),2):"x"===n[1]?i*parseInt(n,16):i*parseInt(n,8):-1!==n.indexOf(":")?(n.split(":").forEach((function(e){o.unshift(parseInt(e,10))})),n=0,r=1,o.forEach((function(e){n+=e*r,r*=60})),i*n):i*parseInt(n,10)},predicate:function(e){return"[object Number]"===Object.prototype.toString.call(e)&&e%1===0&&!n.isNegativeZero(e)},represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0"+e.toString(8):"-0"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}})},yjL0:function(e,t,r){"use strict";function n(e){const t=[];for(const r of e.items)t.push(...i("",r));return t.sort(),t}function*i(e,t){const r=`${e}/${t.quantity}:${t.sku}`;yield r;for(const n of t.children)yield*i(r,n)}Object.defineProperty(t,"__esModule",{value:!0}),t.cartIsComplete=function(e,t){const r=n(e),i=n(t);if(r.length!==i.length)return!1;for(let n=0;n<r.length;++n)if(r[n]!==i[n])return!1;return!0}},ypJK:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.aliasesFromPattern=function*(e){const t=e.replace(/\s+/g," ").trim();if(-1!==t.search(/(,\])|(,\))/g))throw TypeError(`generateAliases: illegal trailing comma in "${e}".`);const r=t.match(/(\[[^\]]*\])|(\([^\)]*\))|([^\[^\()]*)/g);if(null!==r){const e=r.map(e=>e.startsWith("[")?[...e.slice(1,-1).split(","),""].map(e=>e.trim()):e.startsWith("(")?e.slice(1,-1).split(",").map(e=>e.trim()):[e.trim()]).filter(e=>e[0].length>0);yield*function*e(t,r){if(r.length>0)for(const o of r[0])yield*e((n=t,i=o,0===n.length?i:0===i.length?n:n+" "+i),r.slice(1));else yield t;var n,i}("",e)}},t.matcherFromExpression=function(e,t){const r=e.indexOf(":");return-1!==r?e.slice(0,r).trim():t},t.patternFromExpression=function(e){const t=e.indexOf(":");return-1!==t?e.slice(t+1):e}},yuCN:function(e,t,r){(function(e){var n;!function(e,i,o){function s(e){var t=this;t.next=function(){var e,r,n=t.x,i=t.i;return e=n[i],r=(e^=e>>>7)^e<<24,r^=(e=n[i+1&7])^e>>>10,r^=(e=n[i+3&7])^e>>>3,r^=(e=n[i+4&7])^e<<7,e=n[i+7&7],r^=(e^=e<<13)^e<<9,n[i]=r,t.i=i+1&7,r},function(e,t){var r,n=[];if(t===(0|t))n[0]=t;else for(t=""+t,r=0;r<t.length;++r)n[7&r]=n[7&r]<<15^t.charCodeAt(r)+n[r+1&7]<<13;for(;n.length<8;)n.push(0);for(r=0;r<8&&0===n[r];++r);for(8==r?n[7]=-1:n[r],e.x=n,e.i=0,r=256;r>0;--r)e.next()}(t,e)}function a(e,t){return t.x=e.x.slice(),t.i=e.i,t}function c(e,t){null==e&&(e=+new Date);var r=new s(e),n=t&&t.state,i=function(){return(r.next()>>>0)/4294967296};return i.double=function(){do{var e=((r.next()>>>11)+(r.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},i.int32=r.next,i.quick=i,n&&(n.x&&a(n,r),i.state=function(){return a(r,{})}),i}i&&i.exports?i.exports=c:r("B9Yq")&&r("PDX0")?void 0===(n=function(){return c}.call(t,r,t,i))||(i.exports=n):this.xorshift7=c}(0,e,r("B9Yq"))}).call(this,r("YuTi")(e))},zAoy:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r("CvZr"))},zK1H:function(e,t,r){"use strict";var n=r("U6jy"),i=r("cBNe");e.exports=function(){var e,t=String(this.file),r={line:1,column:1,offset:0},a=n(r);65279===(t=t.replace(s,o)).charCodeAt(0)&&(t=t.slice(1),a.column++,a.offset++);e={type:"root",children:this.tokenizeBlock(t,a),position:{start:r,end:this.eof||n(r)}},this.options.position||i(e,!0);return e};var o="\n",s=/\r\n|\r/g},zoYe:function(e,t,r){var n=r("nmnc"),i=r("eUgh"),o=r("Z0cm"),s=r("/9aa"),a=1/0,c=n?n.prototype:void 0,u=c?c.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(o(t))return i(t,e)+"";if(s(t))return u?u.call(t):"";var r=t+"";return"0"==r&&1/t==-a?"-0":r}}},[["/EDR",0,2,6,4,5,7,1]]]);